2025-06-20 04:51:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 04:51:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 04:51:29 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 04:51:29 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 04:51:29 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 04:51:41 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 04:51:41 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 04:51:42 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 04:51:42 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 04:51:43 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 04:51:43 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 04:51:44 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 04:51:44 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 04:51:45 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 04:51:45 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 04:51:46 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 04:51:46 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 04:51:46 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 04:51:47 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 04:51:47 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 04:51:48 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 04:51:48 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 04:51:49 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 04:51:49 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 04:51:50 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 04:51:50 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 04:51:51 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 04:51:51 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 04:51:51 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 04:51:52 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 04:51:52 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 04:51:53 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 04:51:53 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 04:51:54 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 04:51:54 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 04:51:55 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 04:51:55 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 04:51:55 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 04:51:55 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 04:51:56 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 04:51:56 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 04:51:56 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 04:51:56 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 04:51:56 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-20 04:51:56 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 04:51:56 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 04:51:56 | INFO     | session_manager:get_unified_session:203 - Migrating session from environment variable to unified storage
2025-06-20 04:51:56 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-20 04:51:56 | SUCCESS  | session_manager:get_unified_session:205 - Session migrated from environment variable
2025-06-20 04:51:56 | WARNING  | __main__:initialize:90 - Telethon session error: Not a valid string
2025-06-20 04:52:05 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 04:52:05 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 04:52:08 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 04:52:08 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 04:52:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 04:52:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 04:52:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 04:52:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 04:52:08 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 04:52:09 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 04:52:09 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 04:52:09 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 04:52:09 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 04:52:09 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 04:52:09 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 04:52:09 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 04:52:09 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 04:52:09 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 04:52:09 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 04:52:09 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 04:52:09 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 04:52:09 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 04:52:10 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 04:52:10 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 04:52:10 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 04:52:10 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 04:52:10 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 04:52:12 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 04:52:12 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 04:52:12 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 04:52:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:52:12 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 04:52:12 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 04:52:12 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 04:52:12 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 04:52:12 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 04:52:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:52:38 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 04:52:38 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 04:53:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: session_start
2025-06-20 04:53:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-20 04:53:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:53:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:53:33 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-20 04:53:33 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-20 04:53:39 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_HASH
2025-06-20 04:53:39 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_HASH
2025-06-20 04:53:53 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+201557251279' from user 6556918772, state: SessionStates:WAITING_PHONE
2025-06-20 04:53:53 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+201557251279' in state: SessionStates:WAITING_PHONE
2025-06-20 04:54:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:54:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:54:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: session_start
2025-06-20 04:54:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-20 04:55:12 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-20 04:55:12 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-20 04:55:14 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_HASH
2025-06-20 04:55:14 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_HASH
2025-06-20 04:55:16 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+201557251279' from user 6556918772, state: SessionStates:WAITING_PHONE
2025-06-20 04:55:16 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+201557251279' in state: SessionStates:WAITING_PHONE
2025-06-20 04:55:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:55:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:55:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: session_start
2025-06-20 04:55:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-20 04:55:52 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-20 04:55:52 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-20 04:55:55 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_HASH
2025-06-20 04:55:55 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_HASH
2025-06-20 04:56:05 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+967716871000' from user 6556918772, state: SessionStates:WAITING_PHONE
2025-06-20 04:56:05 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+967716871000' in state: SessionStates:WAITING_PHONE
2025-06-20 04:56:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:56:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:56:40 | INFO     | bot_controller:text_message_handler:180 - Text handler: '29205tt' from user 6556918772, state: SessionStates:WAITING_CODE
2025-06-20 04:56:40 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '29205tt' in state: SessionStates:WAITING_CODE
2025-06-20 04:56:41 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-20 04:57:20 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 04:57:20 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-20 04:57:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 04:57:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 04:57:29 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 04:57:29 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 04:57:29 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 04:57:41 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 04:57:41 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 04:57:42 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 04:57:42 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 04:57:43 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 04:57:43 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 04:57:44 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 04:57:44 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 04:57:45 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 04:57:45 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 04:57:45 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 04:57:46 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 04:57:46 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 04:57:47 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 04:57:47 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 04:57:48 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 04:57:48 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 04:57:49 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 04:57:49 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 04:57:50 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 04:57:50 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 04:57:51 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 04:57:51 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 04:57:52 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 04:57:52 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 04:57:52 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 04:57:53 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 04:57:53 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 04:57:54 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 04:57:54 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 04:57:55 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 04:57:55 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 04:57:55 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 04:57:55 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 04:57:56 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 04:57:56 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 04:57:56 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 04:57:56 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 04:57:56 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 04:57:56 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 04:58:05 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 04:58:05 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 04:58:08 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 04:58:08 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 04:58:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 04:58:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 04:58:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 04:58:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 04:58:08 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 04:58:09 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 04:58:09 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 04:58:09 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 04:58:09 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 04:58:09 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 04:58:10 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 04:58:10 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 04:58:10 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 04:58:10 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 04:58:10 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 04:58:10 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 04:58:10 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 04:58:10 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 04:58:10 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 04:58:10 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 04:58:10 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 04:58:10 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 04:58:10 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 04:58:11 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 04:58:12 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 04:58:13 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 04:58:13 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 04:58:13 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 04:58:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:58:14 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 04:58:14 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 04:58:14 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 04:58:14 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 04:58:14 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 04:58:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:58:16 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 04:58:17 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 04:58:34 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 04:58:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 04:58:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 04:58:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 04:58:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 04:58:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 04:58:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 04:58:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 04:58:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 04:58:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 04:58:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 04:58:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 04:58:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 04:58:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 04:58:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 04:58:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 04:58:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 04:58:42 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 04:58:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 04:58:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 04:58:51 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 04:58:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 04:58:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 04:58:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 04:58:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 04:58:51 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 04:58:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 04:58:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 04:58:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 04:58:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 04:58:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 04:58:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 04:58:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 04:58:57 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 04:58:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_1
2025-06-20 04:58:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_1' from user 6556918772
2025-06-20 04:59:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_1
2025-06-20 04:59:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_1' from user 6556918772
2025-06-20 04:59:02 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-20 04:59:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 04:59:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 04:59:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_1
2025-06-20 04:59:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_1' from user 6556918772
2025-06-20 04:59:30 | ERROR    | handlers.sources:_handle_source_list:141 - Error displaying source list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 04:59:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_1
2025-06-20 04:59:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_1' from user 6556918772
2025-06-20 04:59:39 | ERROR    | handlers.sources:_handle_source_list:141 - Error displaying source list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 04:59:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 04:59:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 04:59:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 04:59:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 04:59:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 04:59:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 04:59:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 04:59:48 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 04:59:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: target_list_1
2025-06-20 04:59:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'target_list_1' from user 6556918772
2025-06-20 04:59:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: target_add_1
2025-06-20 04:59:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'target_add_1' from user 6556918772
2025-06-20 04:59:54 | ERROR    | handlers.targets:_handle_target_add:184 - Error starting target addition: 'BotController' object has no attribute 'update_user_session'
2025-06-20 05:00:14 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-20 05:00:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:00:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:00:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:00:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:00:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:00:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:00:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:00:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:00:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:00:24 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:00:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:00:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:00:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:00:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:00:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:00:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:00:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:00:27 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:00:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_mode_1
2025-06-20 05:00:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_mode_1' from user 6556918772
2025-06-20 05:00:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_mode_1
2025-06-20 05:00:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_mode_1
2025-06-20 05:00:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 05:00:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_mode_1 ===
2025-06-20 05:00:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_mode_1' (type: <class 'str'>)
2025-06-20 05:00:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:00:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:00:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:00:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:00:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:00:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:00:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:00:32 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:00:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:00:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:00:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:00:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:00:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:00:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:00:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:00:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_keywords_1
2025-06-20 05:00:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_keywords_1' from user 6556918772
2025-06-20 05:00:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_keywords_1
2025-06-20 05:00:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_keywords_1
2025-06-20 05:00:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:00:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_keywords_1 ===
2025-06-20 05:00:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_keywords_1' (type: <class 'str'>)
2025-06-20 05:00:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:00:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:00:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:00:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:00:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:00:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:00:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:00:42 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'زر ad source  لا يستجيب مع معالجة ادخال والتحقق ايدي المصدر 
زر refresh  خطا فيه
وكذلك زر ad target مع معالجة إدخال ايدي الهدف والتحقق' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 05:00:42 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'زر ad source  لا يستجيب مع معالجة ادخال والتحقق ايدي المصدر 
زر refresh  خطا فيه
وكذلك زر ad target مع معالجة إدخال ايدي الهدف والتحقق' in state: BotStates:MAIN_MENU
2025-06-20 05:00:47 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'نن' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 05:00:47 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'نن' in state: BotStates:MAIN_MENU
2025-06-20 05:01:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_keywords_1
2025-06-20 05:01:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_keywords_1' from user 6556918772
2025-06-20 05:01:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_keywords_1
2025-06-20 05:01:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_keywords_1
2025-06-20 05:01:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:01:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_keywords_1 ===
2025-06-20 05:01:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_keywords_1' (type: <class 'str'>)
2025-06-20 05:01:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: kw_add_blacklist_1
2025-06-20 05:01:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'kw_add_blacklist_1' from user 6556918772
2025-06-20 05:01:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: kw_add_blacklist_1
2025-06-20 05:01:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: kw_add_blacklist_1
2025-06-20 05:01:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:01:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: kw_add_blacklist_1 ===
2025-06-20 05:01:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'kw_add_blacklist_1' (type: <class 'str'>)
2025-06-20 05:01:14 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'اكلحل' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:01:14 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_blacklist_keywords, Text: 'اكلحل'
2025-06-20 05:01:14 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_blacklist_keywords, Awaiting: None, Task ID: 1
2025-06-20 05:01:14 | WARNING  | handlers.tasks:handle_text_input:5166 - No handler found for text input - State: TaskStates:WAITING_INPUT, Action: add_blacklist_keywords, Awaiting: None
2025-06-20 05:01:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:01:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:02:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_keywords_1
2025-06-20 05:02:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_keywords_1' from user 6556918772
2025-06-20 05:02:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_keywords_1
2025-06-20 05:02:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_keywords_1
2025-06-20 05:02:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:02:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_keywords_1 ===
2025-06-20 05:02:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_keywords_1' (type: <class 'str'>)
2025-06-20 05:02:06 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:02:06 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:02:06 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:02:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:02:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:02:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:02:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:02:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_length_1
2025-06-20 05:02:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_length_1' from user 6556918772
2025-06-20 05:02:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_length_1
2025-06-20 05:02:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_length_1
2025-06-20 05:02:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:02:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_length_1 ===
2025-06-20 05:02:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_length_1' (type: <class 'str'>)
2025-06-20 05:02:09 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: filter_length_1
2025-06-20 05:02:09 | INFO     | handlers.tasks:handle_callback:390 - Routing to length filter main interface: filter_length_1
2025-06-20 05:02:09 | INFO     | handlers.tasks:_handle_length_filter:9401 - Loading enhanced length filter for task 1
2025-06-20 05:02:10 | INFO     | handlers.tasks:_handle_length_filter:9423 - Fresh data loaded for task 1: {'enabled': False, 'max_length': 4096, 'min_length': 0, 'action_mode': 'block'}
2025-06-20 05:02:10 | INFO     | handlers.tasks:_handle_length_filter:9546 - UI updated successfully for task 1 with timestamp 414, action: block
2025-06-20 05:02:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:02:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:02:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:02:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:02:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:02:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:02:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:02:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_buttons_1
2025-06-20 05:02:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_buttons_1' from user 6556918772
2025-06-20 05:02:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_buttons_1
2025-06-20 05:02:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_buttons_1
2025-06-20 05:02:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:02:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_buttons_1 ===
2025-06-20 05:02:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_buttons_1' (type: <class 'str'>)
2025-06-20 05:02:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:02:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:02:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:02:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:02:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:02:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:02:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:02:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:02:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:02:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:02:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:02:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:02:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:02:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:02:27 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:02:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_delays_1
2025-06-20 05:02:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 05:02:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_delays_1
2025-06-20 05:02:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 05:02:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:02:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 05:02:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 05:02:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: set_delay_30_60_1
2025-06-20 05:02:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'set_delay_30_60_1' from user 6556918772
2025-06-20 05:02:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: set_delay_30_60_1
2025-06-20 05:02:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_delay_30_60_1
2025-06-20 05:02:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:02:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_delay_30_60_1 ===
2025-06-20 05:02:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_delay_30_60_1' (type: <class 'str'>)
2025-06-20 05:02:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:02:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: set_delay_0_0_1
2025-06-20 05:02:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'set_delay_0_0_1' from user 6556918772
2025-06-20 05:02:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: set_delay_0_0_1
2025-06-20 05:02:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_delay_0_0_1
2025-06-20 05:02:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:02:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_delay_0_0_1 ===
2025-06-20 05:02:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_delay_0_0_1' (type: <class 'str'>)
2025-06-20 05:02:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:02:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: set_delay_custom_1
2025-06-20 05:02:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'set_delay_custom_1' from user 6556918772
2025-06-20 05:02:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: set_delay_custom_1
2025-06-20 05:02:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_delay_custom_1
2025-06-20 05:02:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:02:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_delay_custom_1 ===
2025-06-20 05:02:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_delay_custom_1' (type: <class 'str'>)
2025-06-20 05:02:35 | ERROR    | handlers.tasks:_handle_set_delay:2153 - Error setting delay: 'BotController' object has no attribute 'update_user_session'
2025-06-20 05:03:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:03:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:03:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:03:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:03:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:03:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:03:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:03:01 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:03:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:03:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:03:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:03:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:03:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:03:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:03:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:03:12 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:03:12 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:03:12 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:03:12 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:03:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_prefix_1
2025-06-20 05:03:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 05:03:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_prefix_1
2025-06-20 05:03:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 05:03:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:03:14 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 05:03:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 05:03:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 05:03:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_prefix_1
2025-06-20 05:03:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 05:03:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_prefix_1
2025-06-20 05:03:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 05:03:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:03:16 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 05:03:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 05:03:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 05:03:19 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:03:19 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-20 05:03:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:03:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:03:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:03:47 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:03:47 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:03:58 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:03:59 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:03:59 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:04:00 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:04:00 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:04:01 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:04:01 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:04:02 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:04:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:04:03 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:04:03 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:04:04 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:04:04 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:04:05 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:04:05 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:04:06 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:04:06 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:04:07 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:04:07 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:04:08 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:04:08 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:04:09 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:04:09 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:04:10 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:04:10 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:04:11 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:04:11 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:04:12 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:04:12 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:04:13 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:04:13 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:04:13 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:04:13 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:04:13 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:04:14 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:04:14 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:04:14 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:04:14 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:04:14 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:04:14 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:04:24 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:04:24 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:04:27 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:04:27 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:04:27 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:04:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:04:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:04:27 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:04:27 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:04:28 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:04:28 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:04:28 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:04:28 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:04:28 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:04:28 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:04:28 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:04:28 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:04:28 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:04:28 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:04:28 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:04:28 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:04:28 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:04:29 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:04:29 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:04:29 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:04:29 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:04:29 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:04:30 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:04:30 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:04:32 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 05:04:32 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:04:32 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 05:04:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:04:33 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:04:33 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:04:33 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:04:33 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:04:33 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:04:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:04:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:04:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:04:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:04:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:04:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:04:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:04:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:04:34 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:04:34 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:04:34 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:04:34 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:04:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_prefix_1
2025-06-20 05:04:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 05:04:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_prefix_1
2025-06-20 05:04:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 05:04:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:04:35 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 05:04:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 05:04:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 05:04:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: header_edit_1
2025-06-20 05:04:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'header_edit_1' from user 6556918772
2025-06-20 05:04:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: header_edit_1
2025-06-20 05:04:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: header_edit_1
2025-06-20 05:04:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 05:04:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: header_edit_1 ===
2025-06-20 05:04:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'header_edit_1' (type: <class 'str'>)
2025-06-20 05:04:41 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'هسهسه' from user 6556918772, state: edit_header
2025-06-20 05:04:41 | INFO     | bot_controller:text_message_handler:200 - Routing to task handler for header/footer input: هسهسه
2025-06-20 05:04:41 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: edit_header, Action: None, Awaiting: None, Task ID: 1
2025-06-20 05:04:46 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:04:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:04:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:04:49 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:04:49 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:04:49 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:04:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:04:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:04:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:04:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:04:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:04:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:04:51 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:04:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:04:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:04:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:04:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:04:54 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:04:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_1
2025-06-20 05:04:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_1' from user 6556918772
2025-06-20 05:05:00 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_1
2025-06-20 05:05:00 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_1' from user 6556918772
2025-06-20 05:05:01 | INFO     | bot_controller:update_user_session:1029 - Updated session for user 6556918772: {'adding_source_task_id': 1}
2025-06-20 05:05:08 | INFO     | bot_controller:text_message_handler:180 - Text handler: '@ZawamlAnsarallah' from user 6556918772, state: SourceStates:WAITING_SOURCE_INPUT
2025-06-20 05:05:08 | INFO     | bot_controller:text_message_handler:192 - Routing to source handler for input: @ZawamlAnsarallah
2025-06-20 05:05:09 | INFO     | handlers.sources:_get_channel_info:731 - Getting channel info for ZawamlAnsarallah using bot mode
2025-06-20 05:05:09 | WARNING  | handlers.sources:_get_channel_info:780 - Bot API failed for ZawamlAnsarallah: Telegram server says - Bad Request: chat not found
2025-06-20 05:05:15 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:05:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:05:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:05:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:05:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:05:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:05:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:05:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:05:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:05:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:05:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:05:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:05:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:05:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:05:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:05:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:05:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:05:22 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:05:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:05:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:05:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:05:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:05:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:05:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:05:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:05:24 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:05:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:05:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:05:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:05:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:05:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:05:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:05:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:05:27 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:05:27 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:05:27 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:05:27 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:05:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:05:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:05:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:05:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:05:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:05:29 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:05:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:05:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:05:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: replace_add_1
2025-06-20 05:05:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'replace_add_1' from user 6556918772
2025-06-20 05:05:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: replace_add_1
2025-06-20 05:05:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_add_1
2025-06-20 05:05:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 05:05:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_add_1 ===
2025-06-20 05:05:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_add_1' (type: <class 'str'>)
2025-06-20 05:05:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:05:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:05:43 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر|تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:05:43 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_replace_rule, Text: 'سابر|تمام'
2025-06-20 05:05:43 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_replace_rule, Awaiting: None, Task ID: 1
2025-06-20 05:05:43 | WARNING  | handlers.tasks:handle_text_input:5166 - No handler found for text input - State: TaskStates:WAITING_INPUT, Action: add_replace_rule, Awaiting: None
2025-06-20 05:06:08 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:06:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:06:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:06:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:06:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:06:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:06:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:06:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:06:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:06:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:06:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:06:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:06:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:06:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:06:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:06:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:06:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:06:14 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:06:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:06:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:06:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:06:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:06:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:06:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:06:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:06:16 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:06:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:06:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:06:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:06:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:06:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:06:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:06:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:06:18 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:06:18 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:06:18 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:06:18 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:06:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-20 05:06:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-20 05:06:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-20 05:06:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-20 05:06:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 05:06:22 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-20 05:06:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-20 05:06:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-20 05:06:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_set_link_1
2025-06-20 05:06:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_set_link_1' from user 6556918772
2025-06-20 05:06:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_set_link_1
2025-06-20 05:06:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_set_link_1
2025-06-20 05:06:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:06:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_set_link_1 ===
2025-06-20 05:06:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_set_link_1' (type: <class 'str'>)
2025-06-20 05:06:32 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'https://example.com' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:06:32 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Text: 'https://example.com'
2025-06-20 05:06:32 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Awaiting: None, Task ID: 1
2025-06-20 05:06:32 | WARNING  | handlers.tasks:handle_text_input:5166 - No handler found for text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Awaiting: None
2025-06-20 05:06:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:06:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:07:06 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:07:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:07:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:07:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:07:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:07:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:07:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:07:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:07:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:07:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:07:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:07:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:07:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:07:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:07:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:07:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:07:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:07:12 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:07:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:07:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:07:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:07:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:07:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:07:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:07:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:07:14 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:07:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:07:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:07:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:07:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:07:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:07:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:07:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:07:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 05:07:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 05:07:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 05:07:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 05:07:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:07:20 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 05:07:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 05:07:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 05:07:21 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-20 05:07:21 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-20 05:07:21 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:07:21 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 3 buttons from inline_button_settings
2025-06-20 05:07:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_preview_1
2025-06-20 05:07:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_preview_1' from user 6556918772
2025-06-20 05:07:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_preview_1
2025-06-20 05:07:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_preview_1
2025-06-20 05:07:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:07:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_preview_1 ===
2025-06-20 05:07:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_preview_1' (type: <class 'str'>)
2025-06-20 05:07:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 05:07:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 05:07:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 05:07:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 05:07:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:07:26 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 05:07:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 05:07:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 05:07:26 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-20 05:07:26 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-20 05:07:26 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:07:26 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 3 buttons from inline_button_settings
2025-06-20 05:07:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:07:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:07:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:07:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:07:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:07:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:07:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:07:27 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-20 05:07:27 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:07:27 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:07:28 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-20 05:07:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:07:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:07:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:07:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:07:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:07:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:07:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:07:29 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:07:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 05:07:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 05:07:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 05:07:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 05:07:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:07:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 05:07:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 05:07:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:07:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:08:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:08:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:08:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:08:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:08:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:08:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:08:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:08:12 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:08:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:08:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:08:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:08:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:08:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:08:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:08:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:08:14 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:08:14 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:08:14 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:08:14 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:08:14 | INFO     | handlers.tasks:_handle_advanced_setting:6942 - Starting advanced settings handler for task 1
2025-06-20 05:08:14 | INFO     | handlers.tasks:_handle_advanced_setting:6944 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}, {"row": 2, "text": "مشاركة", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}], [{"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}], [{"row": 2, "text": "مشاركة", "type": "share", "value": ""}]]}'}
2025-06-20 05:08:14 | INFO     | handlers.tasks:_handle_advanced_setting:6954 - Creating keyboard for task 1
2025-06-20 05:08:14 | INFO     | handlers.tasks:_handle_advanced_setting:6956 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:08:14 | INFO     | handlers.tasks:_handle_advanced_setting:6959 - Message edited successfully for task 1
2025-06-20 05:08:14 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:08:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: advanced_translation_1
2025-06-20 05:08:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 05:08:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: advanced_translation_1
2025-06-20 05:08:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 05:08:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 05:08:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 05:08:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 05:08:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 05:08:15 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 05:08:15 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 05:08:15 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 05:08:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:08:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:08:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:08:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:08:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:08:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:08:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:08:21 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:08:21 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:08:21 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:08:21 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:08:21 | INFO     | handlers.tasks:_handle_advanced_setting:6942 - Starting advanced settings handler for task 1
2025-06-20 05:08:21 | INFO     | handlers.tasks:_handle_advanced_setting:6944 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}, {"row": 2, "text": "مشاركة", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}], [{"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}], [{"row": 2, "text": "مشاركة", "type": "share", "value": ""}]]}'}
2025-06-20 05:08:21 | INFO     | handlers.tasks:_handle_advanced_setting:6954 - Creating keyboard for task 1
2025-06-20 05:08:21 | INFO     | handlers.tasks:_handle_advanced_setting:6956 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:08:21 | INFO     | handlers.tasks:_handle_advanced_setting:6959 - Message edited successfully for task 1
2025-06-20 05:08:21 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:08:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:08:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:08:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:08:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:08:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:08:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:08:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:08:30 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:08:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_view_1
2025-06-20 05:08:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_view_1' from user 6556918772
2025-06-20 05:08:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_view_1
2025-06-20 05:08:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_view_1
2025-06-20 05:08:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 05:08:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_view_1 ===
2025-06-20 05:08:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_view_1' (type: <class 'str'>)
2025-06-20 05:08:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:08:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:08:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:08:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:08:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:08:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:08:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:08:40 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:08:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 05:08:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:08:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:08:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:08:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:08:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:08:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:08:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:08:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:08:56 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-20 05:09:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:09:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:09:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:09:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:09:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:09:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:09:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:09:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_4
2025-06-20 05:09:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-20 05:09:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_4
2025-06-20 05:09:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-20 05:09:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:09:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-20 05:09:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-20 05:09:05 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 4 mode is bot
2025-06-20 05:09:06 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_mode_toggle_4
2025-06-20 05:09:06 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_mode_toggle_4' from user 6556918772
2025-06-20 05:09:06 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_mode_toggle_4
2025-06-20 05:09:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_mode_toggle_4
2025-06-20 05:09:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:09:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_mode_toggle_4 ===
2025-06-20 05:09:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_mode_toggle_4' (type: <class 'str'>)
2025-06-20 05:09:07 | INFO     | modules.channel_monitor:stop:79 - Stopped monitoring for task 4
2025-06-20 05:09:07 | INFO     | forwarding_engine:_stop_task_monitoring:228 - Stopped monitoring for task 4
2025-06-20 05:09:07 | INFO     | forwarding_engine:remove_task:2915 - Removed task 4 from monitoring
2025-06-20 05:09:10 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:09:11 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:09:11 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:09:11 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:09:11 | INFO     | forwarding_engine:add_task:2904 - Added task 4 to monitoring
2025-06-20 05:09:13 | INFO     | handlers.tasks:_handle_task_mode_toggle:1627 - Task 4 mode after update: userbot
2025-06-20 05:09:13 | INFO     | handlers.tasks:_handle_task_mode_toggle:1631 - Successfully updated task view for task 4
2025-06-20 05:09:17 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002259745111 (message 538)
2025-06-20 05:09:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002259745111 for task 4
2025-06-20 05:09:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '،...'
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '،'
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 05:09:18 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 05:09:19 | INFO     | forwarding_engine:_forward_message:1573 - Attempting userbot forwarding for task 4
2025-06-20 05:09:19 | INFO     | forwarding_engine:_apply_formatting:2417 - Loaded fresh format settings from database for task 4: {}
2025-06-20 05:09:19 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {}
2025-06-20 05:09:19 | INFO     | forwarding_engine:_apply_formatting:2437 - No format settings found
2025-06-20 05:09:19 | INFO     | forwarding_engine:_process_userbot_text:2215 - Text cleaning applied
2025-06-20 05:09:19 | INFO     | forwarding_engine:_forward_message:1579 - Userbot forwarding successful for task 4
2025-06-20 05:09:19 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002638960177 (message 769)
2025-06-20 05:09:22 | WARNING  | bot_controller:handle_channel_message:857 - Message 769 from -1002638960177 was not forwarded
2025-06-20 05:09:24 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 538 from -1002259745111 forwarded successfully
2025-06-20 05:09:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:10:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:10:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:10:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:10:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:10:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:10:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:10:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:11:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:11:34 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1001470989107 (message 145585)
2025-06-20 05:11:35 | WARNING  | bot_controller:handle_channel_message:857 - Message 145585 from -1001470989107 was not forwarded
2025-06-20 05:12:04 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:12:04 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:12:04 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:12:04 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:12:04 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:12:10 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-20 05:12:10 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-20 05:12:10 | INFO     | database:close:695 - Connection pool closed
2025-06-20 05:12:10 | INFO     | database:close:699 - Database engine disposed
2025-06-20 05:12:10 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-20 05:12:10 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-20 05:12:14 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:12:14 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:12:14 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:12:14 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:12:14 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:12:26 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:12:27 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:12:27 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:12:27 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:12:28 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:12:28 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:12:29 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:12:29 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:12:30 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:12:30 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:12:31 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:12:31 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:12:32 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:12:32 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:12:33 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:12:33 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:12:33 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:12:34 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:12:34 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:12:35 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:12:35 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:12:36 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:12:36 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:12:37 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:12:37 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:12:38 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:12:38 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:12:39 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:12:39 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:12:39 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:12:40 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:12:40 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:12:40 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:12:40 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:12:41 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:12:41 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:12:41 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:12:41 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:12:41 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:12:41 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:12:50 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:12:50 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:12:53 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:12:53 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:12:53 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:12:53 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:12:53 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:12:53 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:12:53 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:12:54 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:12:54 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:12:54 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:12:54 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:12:54 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:12:55 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:12:55 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:12:55 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:12:55 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:12:55 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:12:55 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:12:55 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:12:55 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:12:55 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:12:55 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:12:55 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:12:55 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:12:55 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:12:56 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:12:57 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:12:58 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:12:58 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:12:58 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:12:59 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:12:59 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:12:59 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:12:59 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:12:59 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:12:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:14:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:15:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:16:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:17:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:17:49 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:17:49 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:17:49 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:17:49 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:17:49 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:18:01 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:18:02 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:18:02 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:18:03 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:18:03 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:18:04 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:18:04 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:18:05 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:18:05 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:18:05 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:18:06 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:18:06 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:18:07 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:18:07 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:18:08 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:18:08 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:18:09 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:18:09 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:18:10 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:18:10 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:18:11 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:18:11 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:18:12 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:18:12 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:18:12 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:18:13 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:18:13 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:18:14 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:18:14 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:18:15 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:18:15 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:18:16 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:18:16 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:18:16 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:18:16 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:18:16 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:18:16 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:18:16 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:18:16 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:18:16 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:18:25 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:18:25 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:18:28 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:18:28 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:18:28 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:18:28 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:18:28 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:18:28 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:18:28 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:18:29 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:18:29 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:18:29 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:18:29 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:18:29 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:18:30 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:18:30 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:18:30 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:18:30 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:18:30 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:18:30 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:18:30 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:18:30 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:18:30 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:18:30 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:18:30 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:18:30 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:18:30 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:18:32 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:18:32 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:18:33 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:18:33 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:18:33 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:18:34 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:18:34 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:18:34 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:18:34 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:18:34 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:18:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:18:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:18:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:18:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:18:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:18:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:18:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:18:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:18:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:18:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:18:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:18:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:18:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:18:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:18:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:18:59 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:19:02 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:19:02 | ERROR    | handlers.tasks:_handle_task_view:1082 - Error viewing task: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 05:19:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:19:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:19:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:19:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:19:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:19:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:19:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:19:04 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:19:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:20:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:21:34 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:21:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:21:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_statistics
2025-06-20 05:21:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 05:21:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_settings
2025-06-20 05:21:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 05:21:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: settings_system
2025-06-20 05:21:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'settings_system' from user 6556918772
2025-06-20 05:21:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_back
2025-06-20 05:21:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 05:21:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_detailed_report
2025-06-20 05:21:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_detailed_report' from user 6556918772
2025-06-20 05:22:00 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:22:00 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:22:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:22:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:22:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:22:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:22:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:22:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:22:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:22:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:22:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:22:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_refresh
2025-06-20 05:22:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_refresh' from user 6556918772
2025-06-20 05:22:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_refresh
2025-06-20 05:22:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_refresh
2025-06-20 05:22:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 05:22:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_refresh ===
2025-06-20 05:22:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_refresh' (type: <class 'str'>)
2025-06-20 05:22:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:22:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:22:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:22:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:22:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:22:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:22:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:22:09 | ERROR    | handlers.tasks:_handle_task_list:1041 - Error displaying task list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 05:22:33 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:22:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:22:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:22:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:22:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:22:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:22:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:22:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:22:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:22:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:22:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:22:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:22:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:22:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:22:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:22:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:22:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:22:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:22:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:22:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:22:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:22:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:22:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:22:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:22:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:22:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:22:46 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:22:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:22:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:22:48 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:22:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:22:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:22:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:22:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:22:48 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:22:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:22:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 05:22:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 05:22:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 05:22:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 05:22:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:22:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 05:22:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 05:22:53 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:22:53 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:22:53 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:22:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:22:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:22:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:22:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:22:53 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:23:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:23:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:23:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:23:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:23:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:23:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:23:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:23:36 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:23:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:23:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:23:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:23:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:23:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:23:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:23:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:23:42 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:23:42 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-20 05:23:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_create
2025-06-20 05:23:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_create' from user 6556918772
2025-06-20 05:23:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_create
2025-06-20 05:23:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_create
2025-06-20 05:23:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:23:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_create ===
2025-06-20 05:23:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_create' (type: <class 'str'>)
2025-06-20 05:23:59 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:23:59 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:23:59 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:23:59 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:23:59 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:24:04 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-20 05:24:04 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-20 05:24:05 | INFO     | database:close:695 - Connection pool closed
2025-06-20 05:24:05 | INFO     | database:close:699 - Database engine disposed
2025-06-20 05:24:05 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-20 05:24:05 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-20 05:24:09 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:24:09 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:24:09 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:24:09 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:24:09 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:24:21 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:24:21 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:24:22 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:24:22 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:24:23 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:24:23 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:24:23 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:24:24 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:24:24 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:24:25 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:24:25 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:24:26 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:24:26 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:24:27 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:24:27 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:24:28 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:24:28 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:24:29 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:24:29 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:24:30 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:24:30 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:24:30 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:24:31 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:24:31 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:24:32 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:24:32 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:24:33 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:24:33 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:24:34 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:24:34 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:24:35 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:24:35 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:24:35 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:24:35 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:24:36 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:24:36 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:24:36 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:24:36 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:24:36 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:24:36 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:24:45 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:24:45 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:24:48 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:24:48 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:24:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:24:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:24:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:24:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:24:48 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:24:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:24:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:24:49 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:24:49 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:24:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:24:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:24:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:24:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:24:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:24:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:24:50 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:24:50 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:24:50 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:24:50 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:24:50 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:24:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:24:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:24:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:24:52 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:24:52 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:24:53 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:24:53 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:24:53 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:24:54 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:24:54 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:24:54 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:24:54 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:24:54 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:24:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:24:57 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:24:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_create_bot
2025-06-20 05:24:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_create_bot' from user 6556918772
2025-06-20 05:24:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_create_bot
2025-06-20 05:24:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_create_bot
2025-06-20 05:24:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:24:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_create_bot ===
2025-06-20 05:24:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_create_bot' (type: <class 'str'>)
2025-06-20 05:24:58 | INFO     | bot_controller:update_user_session:1069 - Updated session for user 6556918772: {'creating_task_type': 'bot'}
2025-06-20 05:25:01 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Test' from user 6556918772, state: TaskStates:WAITING_TASK_NAME
2025-06-20 05:25:01 | INFO     | bot_controller:update_user_session:1069 - Updated session for user 6556918772: {'creating_task_name': 'Test'}
2025-06-20 05:25:02 | INFO     | bot_controller:text_message_handler:180 - Text handler: '/skip' from user 6556918772, state: TaskStates:WAITING_TASK_DESCRIPTION
2025-06-20 05:25:04 | ERROR    | database:execute_command:478 - Command execution failed: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (119, 5, auto, f, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-20 05:25:04.272135, 2025-06-20 05:25:04.272135, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:25:04 | ERROR    | modules.task_manager:_create_default_settings:409 - Error creating default settings for task 5: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (119, 5, auto, f, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-20 05:25:04.272135, 2025-06-20 05:25:04.272135, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:25:05 | ERROR    | database:execute_command:478 - Command execution failed: null value in column "messages_processed" of relation "task_statistics" violates not-null constraint
DETAIL:  Failing row contains (536, 5, null, null, null, 0, 0, 0, 0, null, null, 0, null, null, 0, 2025-06-20 05:25:04.96448, 2025-06-20 05:25:04.96448).
2025-06-20 05:25:05 | ERROR    | modules.task_manager:_create_default_statistics:421 - Error creating default statistics for task 5: null value in column "messages_processed" of relation "task_statistics" violates not-null constraint
DETAIL:  Failing row contains (536, 5, null, null, null, 0, 0, 0, 0, null, null, 0, null, null, 0, 2025-06-20 05:25:04.96448, 2025-06-20 05:25:04.96448).
2025-06-20 05:25:06 | INFO     | modules.task_manager:create_task:73 - Created task 5 for user 6556918772
2025-06-20 05:25:06 | INFO     | bot_controller:clear_user_session:1092 - Cleared session for user 6556918772
2025-06-20 05:25:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_delete_confirm_5
2025-06-20 05:25:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_delete_confirm_5' from user 6556918772
2025-06-20 05:25:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_delete_confirm_5
2025-06-20 05:25:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_delete_confirm_5
2025-06-20 05:25:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-20 05:25:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_delete_confirm_5 ===
2025-06-20 05:25:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_delete_confirm_5' (type: <class 'str'>)
2025-06-20 05:25:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: confirm_delete_task_5
2025-06-20 05:25:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'confirm_delete_task_5' from user 6556918772
2025-06-20 05:25:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: confirm_delete_task_5
2025-06-20 05:25:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: confirm_delete_task_5
2025-06-20 05:25:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-20 05:25:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: confirm_delete_task_5 ===
2025-06-20 05:25:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'confirm_delete_task_5' (type: <class 'str'>)
2025-06-20 05:25:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: confirm_delete_task_5
2025-06-20 05:25:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'confirm_delete_task_5' from user 6556918772
2025-06-20 05:25:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: confirm_delete_task_5
2025-06-20 05:25:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: confirm_delete_task_5
2025-06-20 05:25:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-20 05:25:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: confirm_delete_task_5 ===
2025-06-20 05:25:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'confirm_delete_task_5' (type: <class 'str'>)
2025-06-20 05:25:18 | INFO     | forwarding_engine:remove_task:2915 - Removed task 5 from monitoring
2025-06-20 05:25:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:25:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:25:21 | INFO     | forwarding_engine:remove_task:2915 - Removed task 5 from monitoring
2025-06-20 05:25:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:25:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:25:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:25:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:25:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:25:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:25:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:25:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:25:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:25:27 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:25:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_edit_1
2025-06-20 05:25:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_edit_1' from user 6556918772
2025-06-20 05:25:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_edit_1
2025-06-20 05:25:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_edit_1
2025-06-20 05:25:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:25:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_edit_1 ===
2025-06-20 05:25:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_edit_1' (type: <class 'str'>)
2025-06-20 05:25:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:25:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:25:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:25:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:25:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:25:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:25:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:25:36 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:25:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:25:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:25:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:25:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:25:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:25:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:25:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:25:54 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:25:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_view_1
2025-06-20 05:25:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_view_1' from user 6556918772
2025-06-20 05:25:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_view_1
2025-06-20 05:25:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_view_1
2025-06-20 05:25:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 05:25:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_view_1 ===
2025-06-20 05:25:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_view_1' (type: <class 'str'>)
2025-06-20 05:25:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:25:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:25:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:25:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:25:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:25:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:25:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:25:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:26:00 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:26:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_info_1
2025-06-20 05:26:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_info_1' from user 6556918772
2025-06-20 05:26:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_info_1
2025-06-20 05:26:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_info_1
2025-06-20 05:26:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:26:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_info_1 ===
2025-06-20 05:26:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_info_1' (type: <class 'str'>)
2025-06-20 05:26:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:26:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:26:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:26:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:26:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:26:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:26:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:26:15 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:26:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:26:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:26:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:26:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:26:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:26:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:26:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:26:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:26:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:26:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:26:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:26:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:26:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:26:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:26:22 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:26:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:26:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:26:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:26:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:26:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:26:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:26:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:26:29 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:26:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_delays_1
2025-06-20 05:26:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 05:26:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_delays_1
2025-06-20 05:26:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 05:26:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 05:26:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 05:26:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 05:26:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: set_delay_custom_1
2025-06-20 05:26:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'set_delay_custom_1' from user 6556918772
2025-06-20 05:26:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: set_delay_custom_1
2025-06-20 05:26:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_delay_custom_1
2025-06-20 05:26:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:26:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_delay_custom_1 ===
2025-06-20 05:26:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_delay_custom_1' (type: <class 'str'>)
2025-06-20 05:26:38 | INFO     | bot_controller:update_user_session:1069 - Updated session for user 6556918772: {'setting_custom_delay_task_id': 1}
2025-06-20 05:26:42 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Yes 3' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:26:42 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Text: 'Yes 3'
2025-06-20 05:26:42 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Awaiting: None, Task ID: 1
2025-06-20 05:26:52 | INFO     | bot_controller:text_message_handler:180 - Text handler: '510' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:26:52 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Text: '510'
2025-06-20 05:26:52 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Awaiting: None, Task ID: 1
2025-06-20 05:26:55 | INFO     | bot_controller:text_message_handler:180 - Text handler: '5 10' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:26:55 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Text: '5 10'
2025-06-20 05:26:55 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Awaiting: None, Task ID: 1
2025-06-20 05:26:56 | ERROR    | database:execute_command:478 - Command execution failed: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (120, 1, auto, f, null, null, null, null, null, null, null, 5, 10, null, null, null, null, null, 2025-06-20 05:26:56.014679, 2025-06-20 05:26:56.014679, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:26:56 | ERROR    | handlers.tasks:_handle_custom_delay_input:5293 - Error handling custom delay input: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (120, 1, auto, f, null, null, null, null, null, null, null, 5, 10, null, null, null, null, null, 2025-06-20 05:26:56.014679, 2025-06-20 05:26:56.014679, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:27:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:27:15 | INFO     | bot_controller:text_message_handler:180 - Text handler: '2 10' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:27:15 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Text: '2 10'
2025-06-20 05:27:15 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Awaiting: None, Task ID: 1
2025-06-20 05:27:15 | ERROR    | database:execute_command:478 - Command execution failed: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (121, 1, auto, f, null, null, null, null, null, null, null, 2, 10, null, null, null, null, null, 2025-06-20 05:27:15.642937, 2025-06-20 05:27:15.642937, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:27:16 | ERROR    | handlers.tasks:_handle_custom_delay_input:5293 - Error handling custom delay input: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (121, 1, auto, f, null, null, null, null, null, null, null, 2, 10, null, null, null, null, null, 2025-06-20 05:27:15.642937, 2025-06-20 05:27:15.642937, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, null, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, {}, []).
2025-06-20 05:27:21 | INFO     | bot_controller:text_message_handler:180 - Text handler: '/skip' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:27:21 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Text: '/skip'
2025-06-20 05:27:21 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: custom_delay, Awaiting: None, Task ID: 1
2025-06-20 05:27:25 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:27:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:27:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:27:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:27:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:27:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:27:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:27:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:27:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:27:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:27:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:27:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:27:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:27:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:27:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:27:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:27:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:27:32 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:27:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:27:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:27:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:27:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:27:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:27:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:27:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:27:34 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:27:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:27:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:27:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:27:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:27:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:27:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:27:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:27:36 | INFO     | handlers.tasks:_handle_content_setting:1858 - Content setting accessed for task 1
2025-06-20 05:27:36 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:27:36 | INFO     | handlers.tasks:_handle_content_setting:1900 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:27:36 | INFO     | handlers.tasks:_handle_content_setting:1906 - Content message updated with new text and keyboard
2025-06-20 05:27:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:27:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:27:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:27:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:27:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:27:40 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:27:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:27:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:27:42 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: replace_add_1
2025-06-20 05:27:42 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'replace_add_1' from user 6556918772
2025-06-20 05:27:42 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: replace_add_1
2025-06-20 05:27:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_add_1
2025-06-20 05:27:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 05:27:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_add_1 ===
2025-06-20 05:27:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_add_1' (type: <class 'str'>)
2025-06-20 05:27:52 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر:تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:27:52 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_replacement_rule, Text: 'سابر:تمام'
2025-06-20 05:27:52 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_replacement_rule, Awaiting: None, Task ID: 1
2025-06-20 05:28:07 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر 
تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:28:07 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_replacement_rule, Text: 'سابر 
تمام'
2025-06-20 05:28:07 | INFO     | handlers.tasks:handle_text_input:5123 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_replacement_rule, Awaiting: None, Task ID: 1
2025-06-20 05:28:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:28:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:28:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:28:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:28:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:28:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:28:11 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:28:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:28:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:28:11 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:28:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:28:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:28:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:28:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:28:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:28:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:28:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:28:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:28:14 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:28:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:28:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:28:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:28:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:28:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:28:23 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:28:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:28:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:28:23 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:28:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:28:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:28:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:28:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:28:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:28:45 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:28:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:28:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:28:46 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:28:53 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:28:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:28:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:28:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:28:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:28:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:28:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:28:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:28:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:28:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:28:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:28:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:28:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:28:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:28:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:28:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:28:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:29:00 | INFO     | handlers.tasks:_handle_task_view:1077 - Task view: Task 1 mode is bot
2025-06-20 05:29:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:29:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:29:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:29:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:29:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:29:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:29:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:29:01 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:29:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:29:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:29:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:29:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:29:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:29:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:29:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:29:05 | INFO     | handlers.tasks:_handle_content_setting:1858 - Content setting accessed for task 1
2025-06-20 05:29:05 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:29:05 | INFO     | handlers.tasks:_handle_content_setting:1900 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:29:05 | INFO     | handlers.tasks:_handle_content_setting:1906 - Content message updated with new text and keyboard
2025-06-20 05:29:06 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:29:06 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:29:06 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:29:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:29:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:29:06 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:29:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:29:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:29:07 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:29:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:29:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:29:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:29:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:29:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:29:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:29:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:29:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:29:09 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:29:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 05:29:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 05:29:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 05:29:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 05:29:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:29:11 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 05:29:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 05:29:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 05:29:12 | ERROR    | handlers.tasks:_handle_text_replace_setting:8270 - Error in text replace setting: 'list' object has no attribute 'items'
2025-06-20 05:29:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:29:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:29:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:29:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:29:43 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:29:43 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:29:55 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:29:56 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:29:56 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:29:57 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:29:57 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:29:58 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:29:58 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:29:59 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:29:59 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:30:00 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:30:00 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:30:01 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:30:01 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:30:02 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:30:02 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:30:03 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:30:03 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:30:04 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:30:04 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:30:05 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:30:05 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:30:06 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:30:06 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:30:07 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:30:07 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:30:08 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:30:08 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:30:09 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:30:09 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:30:10 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:30:10 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:30:11 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:30:11 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:30:11 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:30:11 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:30:11 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:30:11 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:30:11 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:30:11 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:30:11 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:30:21 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:30:21 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:30:25 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:30:25 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:30:25 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:30:25 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:30:25 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:30:25 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:30:25 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:30:25 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:30:25 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:30:25 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:30:25 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:30:25 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:30:26 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:30:26 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:30:26 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:30:26 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:30:26 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:30:26 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:30:26 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:30:26 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:30:27 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:30:27 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:30:27 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:30:27 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:30:27 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:30:28 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:30:28 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:30:30 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:30:30 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:30:30 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:30:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:30:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:30:31 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:30:31 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:30:31 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:30:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:30:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:30:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:30:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:30:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:30:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:30:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:30:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:30:59 | INFO     | handlers.tasks:_handle_task_settings:1251 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:31:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:31:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:31:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:31:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:31:47 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:31:47 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:31:58 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:31:59 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:31:59 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:32:00 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:32:00 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:32:01 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:32:01 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:32:01 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:32:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:32:02 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:32:03 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:32:03 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:32:04 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:32:04 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:32:05 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:32:05 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:32:06 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:32:06 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:32:07 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:32:07 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:32:08 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:32:08 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:32:08 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:32:09 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:32:09 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:32:10 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:32:10 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:32:11 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:32:11 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:32:12 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:32:12 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:32:13 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:32:13 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:32:13 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:32:13 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:32:13 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:32:13 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:32:13 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:32:13 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:32:13 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:32:23 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:32:23 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:32:26 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-20 05:32:26 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-20 05:32:26 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:32:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:32:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:32:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:32:26 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:32:26 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:32:26 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:32:26 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:32:26 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:32:26 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:32:27 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:32:27 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:32:27 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:32:27 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:32:27 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:32:27 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:32:27 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:32:27 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:32:28 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:32:28 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:32:28 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:32:28 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:32:28 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:32:29 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:32:29 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:32:31 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:32:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:32:31 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:32:32 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:32:32 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:32:32 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:32:32 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-20 05:32:32 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:32:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:32:38 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:33:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:34:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:35:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:42:42 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:42:42 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:42:42 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:42:42 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:42:42 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:42:54 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:42:54 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:42:55 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:42:55 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:42:56 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:42:56 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:42:57 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:42:57 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:42:58 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:42:58 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:42:59 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:42:59 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:43:00 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:43:00 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:43:01 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:43:01 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:43:02 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:43:02 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:43:02 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:43:03 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:43:03 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:43:04 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:43:04 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:43:05 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:43:05 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:43:06 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:43:06 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:43:07 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:43:07 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:43:08 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:43:08 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:43:09 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:43:09 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:43:09 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:43:09 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:43:09 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:43:09 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:43:09 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:43:09 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:43:09 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:43:19 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:43:19 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:43:22 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 05:43:22 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 05:43:22 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:43:22 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:43:22 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:43:22 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:43:22 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:43:22 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:43:22 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:43:22 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:43:22 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:43:22 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:43:23 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:43:23 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:43:23 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:43:23 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:43:23 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:43:23 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:43:23 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:43:23 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:43:24 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:43:24 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:43:24 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:43:24 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:43:24 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:43:25 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:43:25 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:43:27 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:43:27 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:43:27 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:43:28 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:43:28 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:43:28 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:43:28 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 05:43:28 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:43:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:43:49 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 05:43:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 05:43:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 05:44:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 05:44:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 05:44:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 05:44:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 05:44:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 05:44:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 05:44:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 05:44:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_2
2025-06-20 05:44:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_2' from user 6556918772
2025-06-20 05:44:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_2
2025-06-20 05:44:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_2
2025-06-20 05:44:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:44:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_2 ===
2025-06-20 05:44:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_2' (type: <class 'str'>)
2025-06-20 05:44:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 05:44:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 05:44:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 05:44:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 05:44:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 05:44:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 05:44:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 05:44:21 | INFO     | handlers.tasks:_handle_task_view:1106 - Task view: Task 2 mode is userbot
2025-06-20 05:44:22 | INFO     | handlers.tasks:_handle_task_view:1106 - Task view: Task 1 mode is bot
2025-06-20 05:44:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:44:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:44:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:44:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:44:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:44:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:44:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:44:24 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:44:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:44:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:44:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:44:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:44:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:44:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:44:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:44:26 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content setting accessed for task 1
2025-06-20 05:44:26 | INFO     | handlers.tasks:_handle_content_setting:1928 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:44:26 | INFO     | handlers.tasks:_handle_content_setting:1929 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:44:26 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content message updated with new text and keyboard
2025-06-20 05:44:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 05:44:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 05:44:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 05:44:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 05:44:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:44:28 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 05:44:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 05:44:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 05:44:29 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:29 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-20 05:44:29 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:29 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 3 buttons from inline_button_settings
2025-06-20 05:44:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-20 05:44:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-20 05:44:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-20 05:44:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-20 05:44:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 05:44:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-20 05:44:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-20 05:44:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:44:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-20 05:44:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 3 buttons from inline_button_settings
2025-06-20 05:44:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-20 05:44:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-20 05:44:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-20 05:44:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-20 05:44:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 05:44:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-20 05:44:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-20 05:44:37 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:37 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-20 05:44:37 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:37 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 3 buttons from inline_button_settings
2025-06-20 05:44:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_2
2025-06-20 05:44:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_2' from user 6556918772
2025-06-20 05:44:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_2
2025-06-20 05:44:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_2
2025-06-20 05:44:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:44:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_2 ===
2025-06-20 05:44:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_2' (type: <class 'str'>)
2025-06-20 05:44:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_1
2025-06-20 05:44:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_1' from user 6556918772
2025-06-20 05:44:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_1
2025-06-20 05:44:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_1
2025-06-20 05:44:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:44:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_1 ===
2025-06-20 05:44:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_1' (type: <class 'str'>)
2025-06-20 05:44:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_0
2025-06-20 05:44:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_0' from user 6556918772
2025-06-20 05:44:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_0
2025-06-20 05:44:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_0
2025-06-20 05:44:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:44:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_0 ===
2025-06-20 05:44:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_0' (type: <class 'str'>)
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 2,
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 2 buttons from inline_button_settings
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}], "e
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:40 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 1 buttons from inline_button_settings
2025-06-20 05:44:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}], "e
2025-06-20 05:44:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 1 buttons from inline_button_settings
2025-06-20 05:44:41 | ERROR    | handlers.tasks:_handle_inline_buttons_setting:4150 - Error in inline buttons setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 05:44:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-20 05:44:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-20 05:44:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-20 05:44:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-20 05:44:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 05:44:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-20 05:44:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-20 05:44:44 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:44:44 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [], "enabled": false, "button_rows": []}
2025-06-20 05:44:44 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:44:44 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 0 buttons from inline_button_settings
2025-06-20 05:44:44 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4073 - No buttons found in inline_button_settings
2025-06-20 05:44:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-20 05:44:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-20 05:44:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-20 05:44:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-20 05:44:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-20 05:44:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-20 05:44:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-20 05:45:03 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'موقع 1|url|https://site1.com - موقع 2|url|https://site2.com
مشاركة 1|share| - مشاركة 2|share|' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-20 05:45:03 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'موقع 1|url|https://site1.com - موقع 2|url|https://site2.com
مشاركة 1|share| - مشاركة 2|share|'
2025-06-20 05:45:03 | INFO     | handlers.tasks:handle_text_input:5152 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-20 05:45:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 05:45:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 05:45:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 05:45:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 05:45:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:45:07 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 05:45:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 05:45:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 05:45:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4047 - Settings available - checking for inline_button_settings
2025-06-20 05:45:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4051 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "
2025-06-20 05:45:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4057 - Successfully parsed JSON from inline_button_settings
2025-06-20 05:45:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4069 - Extracted 4 buttons from inline_button_settings
2025-06-20 05:45:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:46:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:46:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:46:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:46:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:46:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:46:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:46:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:46:14 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content setting accessed for task 1
2025-06-20 05:46:14 | INFO     | handlers.tasks:_handle_content_setting:1928 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:46:14 | INFO     | handlers.tasks:_handle_content_setting:1929 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:46:14 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content message updated with new text and keyboard
2025-06-20 05:46:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:46:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:46:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:46:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:46:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:46:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:46:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:46:15 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:46:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:46:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:46:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:46:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:46:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:46:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:46:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:46:19 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:46:19 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:46:19 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:46:19 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:46:19 | INFO     | handlers.tasks:_handle_advanced_setting:7318 - Starting advanced settings handler for task 1
2025-06-20 05:46:19 | INFO     | handlers.tasks:_handle_advanced_setting:7320 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 05:46:19 | INFO     | handlers.tasks:_handle_advanced_setting:7330 - Creating keyboard for task 1
2025-06-20 05:46:19 | INFO     | handlers.tasks:_handle_advanced_setting:7332 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:46:19 | INFO     | handlers.tasks:_handle_advanced_setting:7335 - Message edited successfully for task 1
2025-06-20 05:46:19 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:46:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:46:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:46:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:46:26 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:46:26 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 05:46:38 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 05:46:38 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 05:46:39 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 05:46:39 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 05:46:40 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 05:46:40 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 05:46:40 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 05:46:41 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 05:46:41 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 05:46:42 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 05:46:42 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 05:46:43 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 05:46:43 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 05:46:44 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 05:46:44 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 05:46:45 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 05:46:45 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 05:46:46 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 05:46:46 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 05:46:46 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 05:46:47 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 05:46:47 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 05:46:48 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 05:46:48 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 05:46:49 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 05:46:49 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 05:46:50 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 05:46:50 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 05:46:51 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 05:46:51 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 05:46:51 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 05:46:52 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 05:46:52 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 05:46:52 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 05:46:53 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 05:46:53 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 05:46:53 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 05:46:53 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-20 05:46:53 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-20 05:46:53 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-20 05:47:02 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 05:47:02 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 05:47:05 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 05:47:05 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 05:47:05 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 05:47:05 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 05:47:05 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 05:47:05 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 05:47:05 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-20 05:47:05 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 05:47:05 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 05:47:05 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 05:47:05 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 05:47:05 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 05:47:06 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 05:47:06 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 05:47:06 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 05:47:06 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 05:47:06 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 05:47:06 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 05:47:06 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 05:47:06 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 05:47:07 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 05:47:07 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 05:47:07 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 05:47:07 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 05:47:07 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 05:47:08 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-20 05:47:08 | INFO     | __main__:start_polling:144 - Userbot authenticated as: Marwan (@Marwa20002)
2025-06-20 05:47:10 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-20 05:47:10 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 05:47:10 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using userbot
2025-06-20 05:47:11 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 05:47:11 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 05:47:11 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 05:47:11 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 05:47:11 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 05:47:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:47:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:47:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:47:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:47:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:47:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:47:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:47:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:47:13 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:47:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:47:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:47:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:47:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:47:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:47:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:47:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:47:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:47:15 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:47:15 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:47:15 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:47:15 | INFO     | handlers.tasks:_handle_advanced_setting:7318 - Starting advanced settings handler for task 1
2025-06-20 05:47:15 | INFO     | handlers.tasks:_handle_advanced_setting:7320 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 05:47:15 | INFO     | handlers.tasks:_handle_advanced_setting:7330 - Creating keyboard for task 1
2025-06-20 05:47:15 | INFO     | handlers.tasks:_handle_advanced_setting:7332 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:47:16 | INFO     | handlers.tasks:_handle_advanced_setting:7335 - Message edited successfully for task 1
2025-06-20 05:47:16 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:47:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: advanced_day_filter_1
2025-06-20 05:47:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'advanced_day_filter_1' from user 6556918772
2025-06-20 05:47:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: advanced_day_filter_1
2025-06-20 05:47:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_day_filter_1
2025-06-20 05:47:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-20 05:47:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_day_filter_1 ===
2025-06-20 05:47:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_day_filter_1' (type: <class 'str'>)
2025-06-20 05:47:17 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_day_filter_1
2025-06-20 05:47:17 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_day_filter_1
2025-06-20 05:47:17 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_day_filter_1
2025-06-20 05:47:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: day_toggle_tuesday_1
2025-06-20 05:47:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'day_toggle_tuesday_1' from user 6556918772
2025-06-20 05:47:21 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: day_toggle_tuesday_1
2025-06-20 05:47:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: day_filter_toggle_1
2025-06-20 05:47:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'day_filter_toggle_1' from user 6556918772
2025-06-20 05:47:23 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: day_filter_toggle_1
2025-06-20 05:47:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:47:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:47:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:47:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:47:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:47:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:47:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:47:26 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:47:26 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:47:26 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:47:26 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:47:26 | INFO     | handlers.tasks:_handle_advanced_setting:7318 - Starting advanced settings handler for task 1
2025-06-20 05:47:26 | INFO     | handlers.tasks:_handle_advanced_setting:7320 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 05:47:26 | INFO     | handlers.tasks:_handle_advanced_setting:7330 - Creating keyboard for task 1
2025-06-20 05:47:26 | INFO     | handlers.tasks:_handle_advanced_setting:7332 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:47:27 | INFO     | handlers.tasks:_handle_advanced_setting:7335 - Message edited successfully for task 1
2025-06-20 05:47:27 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:47:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: advanced_sending_limit_1
2025-06-20 05:47:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'advanced_sending_limit_1' from user 6556918772
2025-06-20 05:47:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: advanced_sending_limit_1
2025-06-20 05:47:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_sending_limit_1
2025-06-20 05:47:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 05:47:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_sending_limit_1 ===
2025-06-20 05:47:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_sending_limit_1' (type: <class 'str'>)
2025-06-20 05:47:28 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_sending_limit_1
2025-06-20 05:47:28 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_sending_limit_1
2025-06-20 05:47:28 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_sending_limit_1
2025-06-20 05:47:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: sending_limit_edit_1
2025-06-20 05:47:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'sending_limit_edit_1' from user 6556918772
2025-06-20 05:47:31 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: sending_limit_edit_1
2025-06-20 05:47:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: sending_limit_toggle_1
2025-06-20 05:47:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'sending_limit_toggle_1' from user 6556918772
2025-06-20 05:47:33 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: sending_limit_toggle_1
2025-06-20 05:47:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 05:47:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 05:47:51 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 05:47:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 05:47:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 05:47:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 05:47:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 05:47:51 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 05:47:51 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 05:47:51 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 05:47:51 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 05:47:51 | INFO     | handlers.tasks:_handle_advanced_setting:7318 - Starting advanced settings handler for task 1
2025-06-20 05:47:52 | INFO     | handlers.tasks:_handle_advanced_setting:7320 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 05:47:52 | INFO     | handlers.tasks:_handle_advanced_setting:7330 - Creating keyboard for task 1
2025-06-20 05:47:52 | INFO     | handlers.tasks:_handle_advanced_setting:7332 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:47:52 | INFO     | handlers.tasks:_handle_advanced_setting:7335 - Message edited successfully for task 1
2025-06-20 05:47:52 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 05:48:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:48:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:48:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:48:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:48:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:48:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:48:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:48:03 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:48:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 05:48:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 05:48:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 05:48:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 05:48:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:48:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 05:48:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 05:48:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:48:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:48:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:48:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:48:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:48:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:48:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:48:09 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:48:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:48:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:48:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:48:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:48:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:48:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:48:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:48:10 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content setting accessed for task 1
2025-06-20 05:48:10 | INFO     | handlers.tasks:_handle_content_setting:1928 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:48:10 | INFO     | handlers.tasks:_handle_content_setting:1929 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:48:10 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content message updated with new text and keyboard
2025-06-20 05:48:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 05:48:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 05:48:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 05:48:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 05:48:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:48:11 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 05:48:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 05:48:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 05:48:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:48:19 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'جميع أزرار حدود الارسال عند الضغط عليها خطأ 
جميع أزرار فلتر الأيام خطأ عند الضغط عليها' from user 6556918772, state: None
2025-06-20 05:48:19 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'جميع أزرار حدود الارسال عند الضغط عليها خطأ 
جميع أزرار فلتر الأيام خطأ عند الضغط عليها' in state: None
2025-06-20 05:49:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:49:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-20 05:49:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-20 05:49:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-20 05:49:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-20 05:49:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:49:33 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-20 05:49:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-20 05:49:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-20 05:49:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 05:49:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 05:49:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 05:49:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 05:49:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:49:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 05:49:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 05:49:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 05:49:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:49:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:49:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:49:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:49:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:49:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:49:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:49:40 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content setting accessed for task 1
2025-06-20 05:49:40 | INFO     | handlers.tasks:_handle_content_setting:1928 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:49:40 | INFO     | handlers.tasks:_handle_content_setting:1929 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:49:40 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content message updated with new text and keyboard
2025-06-20 05:49:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 05:49:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 05:49:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 05:49:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 05:49:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 05:49:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 05:49:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 05:49:43 | INFO     | handlers.tasks:_handle_task_settings:1280 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 05:50:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 05:50:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 05:50:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 05:50:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 05:50:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:50:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 05:50:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 05:50:26 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content setting accessed for task 1
2025-06-20 05:50:26 | INFO     | handlers.tasks:_handle_content_setting:1928 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 05:50:26 | INFO     | handlers.tasks:_handle_content_setting:1929 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 05:50:26 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content message updated with new text and keyboard
2025-06-20 05:50:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 05:50:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 05:50:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 05:50:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 05:50:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 05:50:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 05:50:27 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 05:50:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 05:50:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:13:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:13:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:13:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:13:56 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:13:56 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:14:08 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:14:08 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:14:09 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:14:09 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:14:09 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:14:10 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:14:10 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:14:11 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:14:11 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:14:12 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:14:12 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:14:13 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:14:13 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:14:14 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:14:14 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:14:15 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:14:15 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:14:16 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:14:16 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:14:17 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:14:17 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:14:17 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:14:18 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:14:18 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:14:19 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:14:19 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:14:20 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:14:20 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:14:21 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:14:21 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:14:22 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:14:22 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:14:22 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:14:22 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:14:23 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:14:23 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:14:23 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:14:23 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:14:23 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:14:23 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:14:23 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:14:23 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:14:32 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:14:32 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:14:35 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:14:35 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:14:35 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:14:35 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:14:35 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:14:35 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:14:35 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:14:36 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:14:36 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:14:36 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:14:36 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 06:14:36 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:14:37 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:14:37 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:14:37 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:14:37 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:14:37 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:14:37 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 06:14:37 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 06:14:37 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 06:14:37 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 06:14:37 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 06:14:37 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:14:37 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:14:37 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:14:39 | WARNING  | forwarding_engine:_start_task_monitoring:168 - Task 4 configured for userbot but userbot unavailable, switching to Bot API mode
2025-06-20 06:14:40 | INFO     | forwarding_engine:_start_task_monitoring:175 - Task 4 automatically switched to Bot API mode
2025-06-20 06:14:40 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:14:40 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:14:40 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:14:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:14:41 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:14:41 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:14:41 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:14:41 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:14:41 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:14:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:14:42 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:14:43 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:14:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:14:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:14:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:14:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:14:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:14:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:14:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:14:46 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content setting accessed for task 1
2025-06-20 06:14:46 | INFO     | handlers.tasks:_handle_content_setting:1940 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:14:46 | INFO     | handlers.tasks:_handle_content_setting:1941 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:14:46 | INFO     | handlers.tasks:_handle_content_setting:1947 - Content message updated with new text and keyboard
2025-06-20 06:14:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:14:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:14:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:14:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:14:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:14:47 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:14:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:14:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:15:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:15:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:15:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:15:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:15:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:15:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:15:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:15:23 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content setting accessed for task 1
2025-06-20 06:15:23 | INFO     | handlers.tasks:_handle_content_setting:1940 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:15:23 | INFO     | handlers.tasks:_handle_content_setting:1941 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:15:23 | INFO     | handlers.tasks:_handle_content_setting:1947 - Content message updated with new text and keyboard
2025-06-20 06:15:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:15:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:15:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:15:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:15:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:15:24 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:15:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:15:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:15:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:15:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:15:49 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:15:49 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:15:49 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:15:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:15:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:15:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:15:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:15:49 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content setting accessed for task 1
2025-06-20 06:15:49 | INFO     | handlers.tasks:_handle_content_setting:1940 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:15:49 | INFO     | handlers.tasks:_handle_content_setting:1941 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:15:49 | INFO     | handlers.tasks:_handle_content_setting:1947 - Content message updated with new text and keyboard
2025-06-20 06:15:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 06:15:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 06:15:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 06:15:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 06:15:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 06:15:52 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 06:15:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 06:15:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 06:15:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4062 - Settings available - checking for inline_button_settings
2025-06-20 06:15:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4066 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "
2025-06-20 06:15:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4072 - Successfully parsed JSON from inline_button_settings
2025-06-20 06:15:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4084 - Extracted 4 buttons from inline_button_settings
2025-06-20 06:15:53 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:15:53 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:15:53 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:15:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:15:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:15:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:15:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:15:53 | INFO     | handlers.tasks:_handle_content_setting:1899 - Content setting accessed for task 1
2025-06-20 06:15:53 | INFO     | handlers.tasks:_handle_content_setting:1940 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:15:53 | INFO     | handlers.tasks:_handle_content_setting:1941 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:15:54 | INFO     | handlers.tasks:_handle_content_setting:1947 - Content message updated with new text and keyboard
2025-06-20 06:15:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:15:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:15:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:15:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:15:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:15:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:15:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:15:55 | INFO     | handlers.tasks:_handle_task_settings:1292 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:16:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:16:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:17:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:17:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:18:21 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:18:21 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:18:21 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:18:21 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:18:21 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:18:32 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:18:33 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:18:33 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:18:34 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:18:34 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:18:35 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:18:35 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:18:36 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:18:36 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:18:37 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:18:37 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:18:38 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:18:38 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:18:39 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:18:39 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:18:40 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:18:40 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:18:41 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:18:41 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:18:42 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:18:42 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:18:42 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:18:43 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:18:43 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:18:44 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:18:44 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:18:45 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:18:45 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:18:46 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:18:46 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:18:47 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:18:47 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:18:47 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:18:47 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:18:48 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:18:48 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:18:48 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:18:48 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:18:48 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:18:48 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:18:48 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:18:48 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:18:58 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:18:58 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:19:01 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:19:01 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:19:01 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:19:01 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:19:01 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:19:01 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:19:01 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:19:01 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:19:01 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:19:01 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:19:01 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 06:19:01 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:19:02 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:19:02 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:19:02 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:19:02 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:19:02 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:19:02 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 06:19:02 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 06:19:02 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 06:19:03 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 06:19:03 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 06:19:03 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:19:03 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:19:03 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:19:04 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:19:04 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:19:04 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:19:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:19:05 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:19:05 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:19:05 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:19:05 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:19:05 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:19:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:19:09 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:19:10 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:19:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:19:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:19:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_refresh
2025-06-20 06:19:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_refresh' from user 6556918772
2025-06-20 06:19:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_refresh
2025-06-20 06:19:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_refresh
2025-06-20 06:19:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:19:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_refresh ===
2025-06-20 06:19:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_refresh' (type: <class 'str'>)
2025-06-20 06:19:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:19:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:19:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:19:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:19:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:19:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:19:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:19:19 | ERROR    | handlers.tasks:_handle_task_list:1115 - Error displaying task list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 06:19:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:19:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:19:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:19:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:19:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:19:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:19:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:19:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:19:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:19:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:19:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:19:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_stop_all
2025-06-20 06:19:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_stop_all' from user 6556918772
2025-06-20 06:19:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_stop_all
2025-06-20 06:19:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_stop_all
2025-06-20 06:19:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 06:19:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_stop_all ===
2025-06-20 06:19:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_stop_all' (type: <class 'str'>)
2025-06-20 06:19:33 | WARNING  | handlers.tasks:handle_callback:893 - Unhandled task callback: task_stop_all
2025-06-20 06:19:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_start_all
2025-06-20 06:19:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_start_all' from user 6556918772
2025-06-20 06:19:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_start_all
2025-06-20 06:19:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_start_all
2025-06-20 06:19:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:19:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_start_all ===
2025-06-20 06:19:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_start_all' (type: <class 'str'>)
2025-06-20 06:19:35 | WARNING  | handlers.tasks:handle_callback:893 - Unhandled task callback: task_start_all
2025-06-20 06:19:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:19:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:19:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:19:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:19:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:19:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:19:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:19:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:19:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:19:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:19:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:19:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:19:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:19:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:19:42 | INFO     | handlers.tasks:_handle_task_view:1151 - Task view: Task 1 mode is bot
2025-06-20 06:19:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:19:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:19:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:19:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:19:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:19:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:19:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:19:44 | INFO     | handlers.tasks:_handle_task_settings:1325 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:19:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:19:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:19:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:19:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:19:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:19:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:19:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:19:47 | INFO     | handlers.tasks:_handle_content_setting:1932 - Content setting accessed for task 1
2025-06-20 06:19:47 | INFO     | handlers.tasks:_handle_content_setting:1973 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:19:47 | INFO     | handlers.tasks:_handle_content_setting:1974 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:19:47 | INFO     | handlers.tasks:_handle_content_setting:1980 - Content message updated with new text and keyboard
2025-06-20 06:19:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:19:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:19:48 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:19:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:19:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:19:48 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:19:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:19:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:20:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:20:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:21:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-20 06:21:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-20 06:21:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-20 06:21:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-20 06:21:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:21:03 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-20 06:21:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-20 06:21:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-20 06:21:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:21:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:21:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:21:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:21:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:21:05 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:21:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:21:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:21:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:21:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:21:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:21:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:21:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:21:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:21:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:21:07 | INFO     | handlers.tasks:_handle_content_setting:1932 - Content setting accessed for task 1
2025-06-20 06:21:07 | INFO     | handlers.tasks:_handle_content_setting:1973 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:21:07 | INFO     | handlers.tasks:_handle_content_setting:1974 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:21:07 | INFO     | handlers.tasks:_handle_content_setting:1980 - Content message updated with new text and keyboard
2025-06-20 06:21:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:21:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:22:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:22:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:23:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:23:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:23:38 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:23:38 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:23:38 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:23:38 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:23:38 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:23:50 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:23:50 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:23:51 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:23:51 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:23:52 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:23:52 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:23:53 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:23:53 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:23:54 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:23:54 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:23:54 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:23:55 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:23:55 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:23:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:23:56 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:23:57 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:23:57 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:23:58 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:23:58 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:23:59 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:23:59 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:24:00 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:24:00 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:24:00 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:24:01 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:24:01 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:24:02 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:24:02 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:24:03 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:24:03 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:24:04 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:24:04 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:24:04 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:24:04 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:24:05 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:24:05 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:24:05 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:24:05 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:24:05 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:24:05 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:24:05 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:24:05 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:24:14 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:24:14 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:24:17 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:24:17 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:24:17 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:24:17 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:24:17 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:24:17 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:24:17 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:24:18 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:24:18 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:24:18 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:24:18 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 06:24:18 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:24:19 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:24:19 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:24:19 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:24:19 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:24:19 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:24:19 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 06:24:19 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 06:24:19 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 06:24:19 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 06:24:19 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 06:24:19 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:24:19 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:24:19 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:24:21 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:24:21 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:24:21 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:24:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:24:22 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:24:22 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:24:22 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:24:22 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:24:22 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:24:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:24:24 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:24:24 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:24:24 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-20 06:24:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:24:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:24:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:24:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:24:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:24:26 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:24:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:24:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:24:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_whitespace_toggle_1
2025-06-20 06:24:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_whitespace_toggle_1' from user 6556918772
2025-06-20 06:24:50 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_whitespace_toggle_1
2025-06-20 06:24:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_whitespace_toggle_1
2025-06-20 06:24:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 27
2025-06-20 06:24:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_whitespace_toggle_1 ===
2025-06-20 06:24:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_whitespace_toggle_1' (type: <class 'str'>)
2025-06-20 06:24:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_whitespace_toggle_1
2025-06-20 06:24:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_whitespace_toggle_1' from user 6556918772
2025-06-20 06:24:54 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_whitespace_toggle_1
2025-06-20 06:24:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_whitespace_toggle_1
2025-06-20 06:24:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 27
2025-06-20 06:24:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_whitespace_toggle_1 ===
2025-06-20 06:24:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_whitespace_toggle_1' (type: <class 'str'>)
2025-06-20 06:25:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_words_manage_1
2025-06-20 06:25:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_words_manage_1' from user 6556918772
2025-06-20 06:25:03 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_words_manage_1
2025-06-20 06:25:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_manage_1
2025-06-20 06:25:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 06:25:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_manage_1 ===
2025-06-20 06:25:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_manage_1' (type: <class 'str'>)
2025-06-20 06:25:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:25:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:25:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:25:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:25:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:25:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:25:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:25:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:25:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_words_manage_1
2025-06-20 06:25:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_words_manage_1' from user 6556918772
2025-06-20 06:25:12 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_words_manage_1
2025-06-20 06:25:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_manage_1
2025-06-20 06:25:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 06:25:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_manage_1 ===
2025-06-20 06:25:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_manage_1' (type: <class 'str'>)
2025-06-20 06:25:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:25:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:25:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:25:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:25:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:25:14 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:25:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:25:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:25:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:25:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_extra_lines_toggle_1
2025-06-20 06:25:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_extra_lines_toggle_1' from user 6556918772
2025-06-20 06:25:26 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_extra_lines_toggle_1
2025-06-20 06:25:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_extra_lines_toggle_1
2025-06-20 06:25:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 28
2025-06-20 06:25:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_extra_lines_toggle_1 ===
2025-06-20 06:25:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_extra_lines_toggle_1' (type: <class 'str'>)
2025-06-20 06:25:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:25:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_extra_lines_toggle_1
2025-06-20 06:25:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_extra_lines_toggle_1' from user 6556918772
2025-06-20 06:25:29 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_extra_lines_toggle_1
2025-06-20 06:25:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_extra_lines_toggle_1
2025-06-20 06:25:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 28
2025-06-20 06:25:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_extra_lines_toggle_1 ===
2025-06-20 06:25:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_extra_lines_toggle_1' (type: <class 'str'>)
2025-06-20 06:25:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_words_manage_1
2025-06-20 06:25:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_words_manage_1' from user 6556918772
2025-06-20 06:25:46 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_words_manage_1
2025-06-20 06:25:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_manage_1
2025-06-20 06:25:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 06:25:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_manage_1 ===
2025-06-20 06:25:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_manage_1' (type: <class 'str'>)
2025-06-20 06:25:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:25:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:25:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:25:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:25:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:25:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:25:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:25:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:26:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:26:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:26:43 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'إدارة الكلمات المستهدفة لا يحتوي على زر تفعيل/تعطيل 
ايضا اريد إعادة تسميه الزر الى حذف الأسطر بكلمات معينه' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 06:26:43 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'إدارة الكلمات المستهدفة لا يحتوي على زر تفعيل/تعطيل 
ايضا اريد إعادة تسميه الزر الى حذف الأسطر بكلمات معينه' in state: BotStates:MAIN_MENU
2025-06-20 06:26:57 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'نيهي' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 06:26:57 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'نيهي' in state: BotStates:MAIN_MENU
2025-06-20 06:27:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_help
2025-06-20 06:27:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_help' from user 6556918772
2025-06-20 06:27:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_back
2025-06-20 06:27:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 06:27:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_settings
2025-06-20 06:27:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 06:27:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: settings_user
2025-06-20 06:27:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'settings_user' from user 6556918772
2025-06-20 06:27:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_back
2025-06-20 06:27:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 06:27:25 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_detailed_report
2025-06-20 06:27:25 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_detailed_report' from user 6556918772
2025-06-20 06:27:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_settings
2025-06-20 06:27:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 06:27:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: settings_user
2025-06-20 06:27:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'settings_user' from user 6556918772
2025-06-20 06:27:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_back
2025-06-20 06:27:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 06:27:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:27:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:27:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_system_status
2025-06-20 06:27:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_system_status' from user 6556918772
2025-06-20 06:27:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:27:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:27:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_start_all
2025-06-20 06:27:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_start_all' from user 6556918772
2025-06-20 06:27:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_start_all
2025-06-20 06:27:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_start_all
2025-06-20 06:27:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:27:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_start_all ===
2025-06-20 06:27:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_start_all' (type: <class 'str'>)
2025-06-20 06:27:47 | WARNING  | handlers.tasks:handle_callback:893 - Unhandled task callback: task_start_all
2025-06-20 06:27:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_stats
2025-06-20 06:27:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_stats' from user 6556918772
2025-06-20 06:27:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_stats
2025-06-20 06:27:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_stats
2025-06-20 06:27:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 10
2025-06-20 06:27:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_stats ===
2025-06-20 06:27:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_stats' (type: <class 'str'>)
2025-06-20 06:28:01 | ERROR    | database:execute_query:468 - Query execution failed: column reference "created_at" is ambiguous
2025-06-20 06:28:01 | ERROR    | modules.statistics:get_user_statistics:247 - Error executing user query for first_activity: column reference "created_at" is ambiguous
2025-06-20 06:28:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_import
2025-06-20 06:28:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_import' from user 6556918772
2025-06-20 06:28:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_import
2025-06-20 06:28:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_import
2025-06-20 06:28:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:28:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_import ===
2025-06-20 06:28:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_import' (type: <class 'str'>)
2025-06-20 06:28:01 | WARNING  | handlers.tasks:handle_callback:893 - Unhandled task callback: task_import
2025-06-20 06:28:06 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: stats_global
2025-06-20 06:28:06 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'stats_global' from user 6556918772
2025-06-20 06:28:06 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: stats_global
2025-06-20 06:28:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: stats_performance
2025-06-20 06:28:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'stats_performance' from user 6556918772
2025-06-20 06:28:08 | WARNING  | bot_controller:handle_callback:672 - Unhandled callback in bot_controller: stats_performance
2025-06-20 06:28:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:28:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:28:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_back
2025-06-20 06:28:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 06:28:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-20 06:28:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:28:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:28:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:28:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:28:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:28:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:28:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:28:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:28:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:28:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:28:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:28:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:28:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:28:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:28:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:28:19 | INFO     | handlers.tasks:_handle_task_view:1151 - Task view: Task 1 mode is bot
2025-06-20 06:28:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: target_list_1
2025-06-20 06:28:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'target_list_1' from user 6556918772
2025-06-20 06:28:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:28:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:28:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:28:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:28:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:28:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:28:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:28:24 | INFO     | handlers.tasks:_handle_task_view:1151 - Task view: Task 1 mode is bot
2025-06-20 06:28:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:28:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:28:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:28:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:28:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:28:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:28:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:28:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:28:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:28:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:28:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:28:48 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:28:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:28:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:28:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:28:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:28:50 | INFO     | handlers.tasks:_handle_task_view:1151 - Task view: Task 1 mode is bot
2025-06-20 06:28:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:28:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:28:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:28:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:28:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:28:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:28:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:28:50 | INFO     | handlers.tasks:_handle_task_settings:1325 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:28:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:28:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:28:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:28:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:28:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:28:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:28:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:29:07 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:29:07 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:29:07 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:29:07 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:29:07 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:29:19 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:29:19 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:29:20 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:29:20 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:29:21 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:29:21 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:29:22 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:29:22 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:29:23 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:29:23 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:29:24 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:29:24 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:29:25 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:29:25 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:29:26 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:29:26 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:29:26 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:29:27 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:29:27 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:29:28 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:29:28 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:29:29 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:29:29 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:29:30 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:29:30 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:29:31 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:29:31 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:29:32 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:29:32 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:29:33 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:29:33 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:29:34 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:29:34 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:29:34 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:29:35 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:29:35 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:29:35 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:29:35 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:29:35 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:29:35 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:29:35 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:29:35 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:29:44 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:29:44 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:29:48 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:29:48 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:29:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:29:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:29:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:29:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:29:48 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:29:48 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:29:48 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:29:48 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:29:48 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 06:29:48 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:29:49 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:29:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:29:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:29:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:29:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:29:49 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 06:29:49 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 06:29:49 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 06:29:50 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 06:29:50 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 06:29:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:29:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:29:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:29:51 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:29:51 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:29:51 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:29:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:29:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:29:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:29:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:29:52 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:29:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:29:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:30:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:30:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:30:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:30:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:30:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:30:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:30:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:30:17 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:30:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 06:30:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:30:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 06:30:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:30:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:30:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:30:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:30:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:30:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:30:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:30:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:30:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:30:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:30:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:30:27 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:30:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 06:30:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:30:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 06:30:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:30:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:30:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:30:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:30:29 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:30:29 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:30:29 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:30:29 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 06:30:29 | INFO     | handlers.tasks:_handle_advanced_setting:7761 - Starting advanced settings handler for task 1
2025-06-20 06:30:30 | INFO     | handlers.tasks:_handle_advanced_setting:7763 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:30:30 | INFO     | handlers.tasks:_handle_advanced_setting:7773 - Creating keyboard for task 1
2025-06-20 06:30:30 | INFO     | handlers.tasks:_handle_advanced_setting:7775 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:30:30 | INFO     | handlers.tasks:_handle_advanced_setting:7778 - Message edited successfully for task 1
2025-06-20 06:30:30 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 06:30:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:30:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:31:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:01 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:31:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:31:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:31:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:31:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:31:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:31:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:31:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:31:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:05 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:31:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:31:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:31:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:31:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:31:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:31:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:31:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:31:09 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:31:09 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:31:09 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:31:09 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:31:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:15 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:31:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 06:31:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:31:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 06:31:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:31:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:31:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:31:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:31:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:31 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:31:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_mode_1
2025-06-20 06:31:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_mode_1' from user 6556918772
2025-06-20 06:31:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_mode_1
2025-06-20 06:31:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_mode_1
2025-06-20 06:31:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 06:31:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_mode_1 ===
2025-06-20 06:31:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_mode_1' (type: <class 'str'>)
2025-06-20 06:31:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:56 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:31:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:31:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_delays_1
2025-06-20 06:31:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 06:31:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_delays_1
2025-06-20 06:31:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 06:31:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:31:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 06:31:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 06:31:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:31:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:31:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:31:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:31:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:31:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:31:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:31:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:31:59 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 06:32:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:32:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 06:32:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:32:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:32:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:32:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:32:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:32:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:32:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:32:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:32:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:32:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:32:03 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:04 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:04 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:04 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:04 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:32:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:32:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:32:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:32:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:32:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:32:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:32:05 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:32:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:32:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:32:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:32:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:32:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:32:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:32:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:32:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:32:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:32:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:32:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:32:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:32:12 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 06:32:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:32:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 06:32:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:32:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:32:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:32:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:32:14 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:32:14 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:32:14 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:32:14 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 06:32:14 | INFO     | handlers.tasks:_handle_advanced_setting:7761 - Starting advanced settings handler for task 1
2025-06-20 06:32:14 | INFO     | handlers.tasks:_handle_advanced_setting:7763 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:32:14 | INFO     | handlers.tasks:_handle_advanced_setting:7773 - Creating keyboard for task 1
2025-06-20 06:32:14 | INFO     | handlers.tasks:_handle_advanced_setting:7775 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:15 | INFO     | handlers.tasks:_handle_advanced_setting:7778 - Message edited successfully for task 1
2025-06-20 06:32:15 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 06:32:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:32:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:32:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:32:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:32:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:32:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:32:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:32:24 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:27 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:27 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:27 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:27 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-20 06:32:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 06:32:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-20 06:32:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 06:32:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:28 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 06:32:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 06:32:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 06:32:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:30 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:30 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:30 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:30 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-20 06:32:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-20 06:32:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-20 06:32:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-20 06:32:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 06:32:32 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-20 06:32:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-20 06:32:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-20 06:32:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4098 - Settings available - checking for inline_button_settings
2025-06-20 06:32:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4102 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "
2025-06-20 06:32:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4108 - Successfully parsed JSON from inline_button_settings
2025-06-20 06:32:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4120 - Extracted 4 buttons from inline_button_settings
2025-06-20 06:32:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:34 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:34 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:34 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:35 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-20 06:32:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-20 06:32:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-20 06:32:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-20 06:32:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 06:32:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-20 06:32:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-20 06:32:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-20 06:32:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:39 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:39 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:39 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:39 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_prefix_1
2025-06-20 06:32:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 06:32:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_prefix_1
2025-06-20 06:32:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 06:32:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:32:40 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 06:32:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 06:32:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 06:32:42 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:42 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:42 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:42 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:42 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:42 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:42 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_replace_1
2025-06-20 06:32:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 06:32:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_replace_1
2025-06-20 06:32:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 06:32:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:43 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 06:32:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 06:32:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 06:32:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:32:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:32:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:32:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:32:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:32:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:32:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:32:45 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:32:45 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:32:45 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:32:45 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:32:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:32:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:32:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:32:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:32:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:32:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:32:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:32:46 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:32:56 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'انقل زر forward mod  الى داخل زر forward 
أنشئ زر باسم limit  في لوحة تعديل المهمه وانقل الى داخله زر delay  وزر  حدود الإرسال 
وزر حد الطول 
انقل فلتر الأيام الى داخل زر filters
اجعل كل صف في قائمة  forward  و. Advance  يحتوي على زرين' from user 6556918772, state: None
2025-06-20 06:32:56 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'انقل زر forward mod  الى داخل زر forward 
أنشئ زر باسم limit  في لوحة تعديل المهمه وانقل الى داخله زر delay  وزر  حدود الإرسال 
وزر حد الطول 
انقل فلتر الأيام الى داخل زر filters
اجعل كل صف في قائمة  forward  و. Advance  يحتوي على زرين' in state: None
2025-06-20 06:32:59 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'رجوع' from user 6556918772, state: None
2025-06-20 06:32:59 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'رجوع' in state: None
2025-06-20 06:33:01 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'نينني' from user 6556918772, state: None
2025-06-20 06:33:01 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'نينني' in state: None
2025-06-20 06:33:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:33:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:33:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:33:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:33:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:33:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:33:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:33:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:33:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:33:47 | INFO     | handlers.tasks:_handle_task_view:1154 - Task view: Task 1 mode is bot
2025-06-20 06:34:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:34:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:34:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:34:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:34:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:34:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:34:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:34:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:34:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:34:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:34:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:34:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:34:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:34:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:34:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:34:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:34:20 | INFO     | handlers.tasks:_handle_task_view:1154 - Task view: Task 1 mode is bot
2025-06-20 06:34:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:34:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:34:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:34:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:34:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:34:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:34:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:34:22 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:34:37 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:34:37 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:34:37 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:34:37 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:34:37 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:34:48 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:34:49 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:34:49 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:34:50 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:34:50 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:34:51 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:34:51 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:34:52 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:34:52 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:34:52 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:34:53 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:34:53 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:34:54 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:34:54 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:34:55 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:34:55 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:34:56 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:34:56 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:34:57 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:34:57 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:34:58 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:34:58 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:34:59 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:34:59 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:35:00 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:35:00 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:35:00 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:35:01 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:35:01 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:35:02 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:35:02 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:35:03 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:35:03 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:35:03 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:35:04 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:35:04 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:35:04 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:35:04 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:35:04 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:35:04 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:35:04 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:35:04 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:35:13 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:35:13 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:35:16 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:35:16 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:35:16 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:35:16 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:35:16 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:35:16 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:35:16 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:35:17 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:35:17 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:35:17 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:35:17 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-20 06:35:17 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:35:17 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:35:17 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:35:17 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:35:17 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:35:17 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:35:17 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-20 06:35:17 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-20 06:35:17 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-20 06:35:18 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-20 06:35:18 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-20 06:35:18 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:35:18 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:35:18 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:35:20 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:35:20 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:35:20 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:35:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:35:20 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:35:20 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:35:20 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:35:20 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:35:20 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:35:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:35:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:35:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:35:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:35:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:35:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:35:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:35:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:35:53 | INFO     | handlers.tasks:_handle_task_view:1154 - Task view: Task 1 mode is bot
2025-06-20 06:35:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:35:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:35:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:35:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:35:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:35:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:35:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:35:56 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:35:58 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1001470989107 (message 145590)
2025-06-20 06:35:59 | WARNING  | bot_controller:handle_channel_message:857 - Message 145590 from -1001470989107 was not forwarded
2025-06-20 06:36:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:36:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:36:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:36:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:36:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:36:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:36:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:05 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:36:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:36:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:36:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:36:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:36:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:36:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:36:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:10 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:36:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:36:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:36:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:36:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:36:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:36:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:36:13 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1001470989107 (message 145591)
2025-06-20 06:36:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:13 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:36:14 | WARNING  | bot_controller:handle_channel_message:857 - Message 145591 from -1001470989107 was not forwarded
2025-06-20 06:36:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-20 06:36:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:36:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-20 06:36:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:36:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:36:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:36:15 | INFO     | handlers.tasks:_handle_content_setting:1935 - Content setting accessed for task 1
2025-06-20 06:36:15 | INFO     | handlers.tasks:_handle_content_setting:1976 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:36:15 | INFO     | handlers.tasks:_handle_content_setting:1977 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:36:15 | INFO     | handlers.tasks:_handle_content_setting:1983 - Content message updated with new text and keyboard
2025-06-20 06:36:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:16 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:36:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 06:36:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:36:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 06:36:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:36:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:36:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:36:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:21 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:36:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:36:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:36:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-20 06:36:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:36:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-20 06:36:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:36:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:36:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:36:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:36:42 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:36:42 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:36:42 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:36:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:36:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:36:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:36:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:36:42 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:37:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 06:37:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:37:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 06:37:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:37:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:37:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:37:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:37:02 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:37:02 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:37:02 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:37:02 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 06:37:02 | INFO     | handlers.tasks:_handle_advanced_setting:7761 - Starting advanced settings handler for task 1
2025-06-20 06:37:03 | INFO     | handlers.tasks:_handle_advanced_setting:7763 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:37:03 | INFO     | handlers.tasks:_handle_advanced_setting:7773 - Creating keyboard for task 1
2025-06-20 06:37:03 | INFO     | handlers.tasks:_handle_advanced_setting:7775 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:37:03 | INFO     | handlers.tasks:_handle_advanced_setting:7778 - Message edited successfully for task 1
2025-06-20 06:37:03 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 06:37:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:37:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:37:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:37:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:37:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:37:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:37:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:37:04 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:37:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:37:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:37:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:37:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:37:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:37:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:37:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:37:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:37:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:37:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:37:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:37:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:37:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:37:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:37:07 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:37:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:37:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:38:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-20 06:38:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:38:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-20 06:38:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:38:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:38:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:38:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:38:14 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:38:14 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:38:14 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:38:14 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-20 06:38:14 | INFO     | handlers.tasks:_handle_advanced_setting:7761 - Starting advanced settings handler for task 1
2025-06-20 06:38:15 | INFO     | handlers.tasks:_handle_advanced_setting:7763 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:38:15 | INFO     | handlers.tasks:_handle_advanced_setting:7773 - Creating keyboard for task 1
2025-06-20 06:38:15 | INFO     | handlers.tasks:_handle_advanced_setting:7775 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:38:15 | INFO     | handlers.tasks:_handle_advanced_setting:7778 - Message edited successfully for task 1
2025-06-20 06:38:15 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-20 06:38:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:38:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:38:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:38:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:38:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:38:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:38:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:38:16 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:38:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:38:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:38:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:38:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:38:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:38:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:38:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:38:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:38:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:38:41 | INFO     | handlers.tasks:_handle_task_view:1154 - Task view: Task 1 mode is bot
2025-06-20 06:39:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-20 06:39:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:39:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-20 06:39:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:39:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:39:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:39:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:39:06 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-20 06:39:06 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:39:06 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-20 06:39:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:39:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:39:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:39:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:39:08 | INFO     | handlers.tasks:_handle_task_view:1154 - Task view: Task 1 mode is bot
2025-06-20 06:39:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:39:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:39:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:39:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:39:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:39:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:39:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:39:10 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:39:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_limits_1
2025-06-20 06:39:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:39:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_limits_1
2025-06-20 06:39:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:39:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:39:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:39:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:39:12 | WARNING  | handlers.tasks:handle_callback:896 - Unhandled task callback: setting_limits_1
2025-06-20 06:39:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_limits_1
2025-06-20 06:39:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:39:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_limits_1
2025-06-20 06:39:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:39:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:39:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:39:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:39:14 | WARNING  | handlers.tasks:handle_callback:896 - Unhandled task callback: setting_limits_1
2025-06-20 06:39:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_limits_1
2025-06-20 06:39:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:39:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_limits_1
2025-06-20 06:39:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:39:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:39:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:39:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:39:16 | WARNING  | handlers.tasks:handle_callback:896 - Unhandled task callback: setting_limits_1
2025-06-20 06:39:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-20 06:39:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:39:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-20 06:39:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:39:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:39:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:39:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:39:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-20 06:39:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:39:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-20 06:39:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:39:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:39:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:39:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:39:19 | INFO     | handlers.tasks:_handle_task_settings:1328 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:39:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:39:39 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:39:39 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:39:39 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:39:39 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:39:50 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:39:51 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:39:51 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:39:52 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:39:52 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:39:53 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:39:53 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:39:54 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:39:54 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:39:55 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-20 06:39:55 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-20 06:39:55 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:209 - Could not add pin_messages column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:218 - Could not add silent_mode column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:227 - Could not add sync_edits column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:236 - Could not add sync_deletes column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:245 - Could not add preserve_replies column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:255 - Could not add auto_translate column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:264 - Could not add target_language column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:273 - Could not add working_hours_enabled column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:282 - Could not add start_hour column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:291 - Could not add end_hour column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:300 - Could not add timezone column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:309 - Could not add recurring_post_enabled column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:318 - Could not add recurring_post_content column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:327 - Could not add recurring_interval_hours column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:337 - Could not add format_settings column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:347 - Could not add text_cleaner_settings column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:357 - Could not add replace_text column: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:368 - Could not add prefix/suffix columns: pool is closing
2025-06-20 06:39:55 | WARNING  | database:migrate_columns:380 - Could not add inline buttons columns: pool is closing
2025-06-20 06:39:55 | WARNING  | database:create_advanced_tables:405 - Could not create manual_approvals table: pool is closing
2025-06-20 06:39:55 | WARNING  | database:create_advanced_tables:424 - Could not create message_tracking table: pool is closing
2025-06-20 06:39:55 | WARNING  | database:create_advanced_tables:446 - Could not create recurring_posts table: pool is closing
2025-06-20 06:39:55 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:39:55 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:39:55 | ERROR    | security:_load_user_permissions:82 - Failed to load user permissions: pool is closing
2025-06-20 06:39:55 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:39:55 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:39:55 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:39:55 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:39:55 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:39:55 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:39:55 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_users: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_users: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for admin_users: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_tasks: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_tasks: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_sources: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_targets: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_messages: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for successful_messages: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for failed_messages: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_today: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_week: pool is closing
2025-06-20 06:39:55 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_month: pool is closing
2025-06-20 06:39:55 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:39:55 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:39:55 | ERROR    | database:get_active_tasks:540 - Failed to get active tasks with sources/targets: pool is closing
2025-06-20 06:39:55 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 0 active tasks
2025-06-20 06:39:55 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:39:55 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:39:55 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:39:55 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:39:55 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:39:55 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:39:55 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-20 06:39:55 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:39:55 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:39:55 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:39:55 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:39:55 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:39:55 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-20 06:39:55 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:39:55 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:39:55 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:39:55 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:39:55 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:39:55 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:39:55 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:39:55 | INFO     | database:close:695 - Connection pool closed
2025-06-20 06:39:55 | INFO     | database:close:699 - Database engine disposed
2025-06-20 06:39:55 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-20 06:39:55 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-20 06:40:00 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:40:00 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:40:00 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:40:00 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:40:00 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:40:12 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:40:12 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:40:13 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:40:13 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:40:14 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:40:14 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:40:15 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:40:15 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:40:16 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:40:16 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:40:16 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:40:17 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:40:17 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:40:18 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:40:18 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:40:19 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:40:19 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:40:20 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:40:20 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:40:21 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:40:21 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:40:22 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:40:22 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:40:23 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:40:23 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:40:24 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:40:24 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:40:24 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:40:25 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:40:25 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:40:26 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:40:26 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:40:26 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:40:26 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:40:27 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:40:27 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:40:27 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:40:27 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:40:27 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:40:27 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:40:27 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:40:27 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:40:36 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:40:36 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:40:39 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:40:39 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:40:39 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:40:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:40:39 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:40:39 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:40:39 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:40:40 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:40:40 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:40:40 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:40:40 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:40:40 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:40:41 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:40:41 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:40:41 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:40:41 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:40:41 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:40:41 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:40:41 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:40:41 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:40:42 | INFO     | bot_controller:_setup_bot_commands:265 - Bot commands menu set up
2025-06-20 06:40:42 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 06:40:42 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:40:42 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:40:42 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:40:43 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:40:43 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:40:43 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:40:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:40:44 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:40:44 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:40:44 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:40:44 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:40:44 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:40:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:40:45 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_view_1
2025-06-20 06:40:45 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:40:45 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_view_1
2025-06-20 06:40:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:40:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:40:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:40:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:40:47 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 06:40:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:40:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:40:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:40:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:40:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:40:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:40:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:40:50 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:40:52 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:40:52 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:40:52 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:40:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:40:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:40:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:40:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:40:52 | ERROR    | keyboards:get_forward_settings_keyboard:399 - Error creating forward settings keyboard: name 'forward_mode' is not defined
2025-06-20 06:41:12 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: main_tasks
2025-06-20 06:41:12 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:41:13 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_list
2025-06-20 06:41:13 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:41:13 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_list
2025-06-20 06:41:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:41:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:41:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:41:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:41:15 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_view_1
2025-06-20 06:41:15 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:41:15 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_view_1
2025-06-20 06:41:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:41:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:41:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:41:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:41:17 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 06:41:19 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:41:19 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:41:19 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:41:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:41:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:41:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:41:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:41:19 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:41:21 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:41:21 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:41:21 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:41:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:41:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:41:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:41:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:41:23 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:41:23 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:41:23 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:41:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:41:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:41:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:41:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:41:23 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:41:25 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:41:25 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:41:25 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:41:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:41:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:41:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:41:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:41:33 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_delays_1
2025-06-20 06:41:33 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 06:41:33 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_delays_1
2025-06-20 06:41:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 06:41:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:41:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 06:41:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 06:41:36 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:41:36 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:41:36 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:41:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:41:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:41:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:41:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:41:36 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:41:39 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_content_1
2025-06-20 06:41:39 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 06:41:39 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_content_1
2025-06-20 06:41:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 06:41:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:41:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 06:41:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 06:41:39 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 06:41:39 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 06:41:39 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 06:41:39 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 06:41:40 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:41:40 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:41:40 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:41:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:41:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:41:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:41:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:41:40 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:41:41 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:41:41 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:41:41 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:41:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:41:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:41:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:41:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:41:48 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_time_1
2025-06-20 06:41:48 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_time_1' from user 6556918772
2025-06-20 06:41:48 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_time_1
2025-06-20 06:41:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_time_1
2025-06-20 06:41:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:41:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_time_1 ===
2025-06-20 06:41:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_time_1' (type: <class 'str'>)
2025-06-20 06:41:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:41:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:41:52 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_time_1
2025-06-20 06:41:52 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_time_1' from user 6556918772
2025-06-20 06:41:52 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_time_1
2025-06-20 06:41:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_time_1
2025-06-20 06:41:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:41:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_time_1 ===
2025-06-20 06:41:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_time_1' (type: <class 'str'>)
2025-06-20 06:41:53 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:41:53 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:41:53 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:41:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:41:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:41:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:41:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:41:53 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:41:55 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:41:55 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:41:55 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:41:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:41:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:41:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:41:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:41:55 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:41:58 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_send_1
2025-06-20 06:41:58 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_send_1' from user 6556918772
2025-06-20 06:41:58 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_send_1
2025-06-20 06:41:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_send_1
2025-06-20 06:41:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:41:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_send_1 ===
2025-06-20 06:41:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_send_1' (type: <class 'str'>)
2025-06-20 06:42:01 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_delays_1
2025-06-20 06:42:01 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 06:42:01 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_delays_1
2025-06-20 06:42:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 06:42:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:42:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 06:42:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 06:42:03 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:42:03 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:42:03 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:42:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:42:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:42:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:42:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:42:03 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:42:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:42:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:42:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:42:08 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:42:08 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:42:20 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:42:20 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:42:21 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:42:21 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:42:22 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:42:22 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:42:23 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:42:23 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:42:24 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:42:24 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:42:24 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:42:25 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:42:25 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:42:26 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:42:26 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:42:27 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:42:27 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:42:28 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:42:28 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:42:29 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:42:29 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:42:30 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:42:30 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:42:31 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:42:31 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:42:31 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:42:32 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:42:32 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:42:33 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:42:33 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:42:34 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:42:34 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:42:34 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:42:34 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:42:35 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:42:35 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:42:35 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:42:35 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:42:35 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:42:35 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:42:35 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:42:35 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:42:44 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:42:44 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:42:47 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:42:47 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:42:47 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:42:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:42:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:42:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:42:47 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:42:48 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:42:48 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:42:48 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:42:48 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:42:48 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:42:49 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:42:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:42:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:42:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:42:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:42:49 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:42:49 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:42:49 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:42:49 | INFO     | bot_controller:_setup_bot_commands:265 - Bot commands menu set up
2025-06-20 06:42:49 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 06:42:49 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:42:49 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:42:49 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:42:51 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:42:51 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:42:51 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:42:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:42:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:42:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:42:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:42:52 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:42:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:42:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:42:54 | INFO     | bot_controller:start_command:297 - User 6556918772 started the bot
2025-06-20 06:42:57 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: main_tasks
2025-06-20 06:42:57 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 06:42:59 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_list
2025-06-20 06:42:59 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 06:42:59 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_list
2025-06-20 06:42:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 06:42:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 06:42:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 06:42:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 06:43:01 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_view_1
2025-06-20 06:43:01 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:43:01 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_view_1
2025-06-20 06:43:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:43:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:43:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:43:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:43:03 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 06:43:04 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:43:04 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:43:04 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:43:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:43:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:43:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:43:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:43:04 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:06 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:43:06 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:43:06 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:43:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:43:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:43:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:43:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:43:10 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_mode_1
2025-06-20 06:43:10 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_mode_1' from user 6556918772
2025-06-20 06:43:10 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_mode_1
2025-06-20 06:43:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_mode_1
2025-06-20 06:43:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 06:43:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_mode_1 ===
2025-06-20 06:43:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_mode_1' (type: <class 'str'>)
2025-06-20 06:43:12 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:43:12 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:43:12 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:43:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:43:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:43:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:43:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:43:12 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:16 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:43:16 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:43:16 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:43:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:43:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:43:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:43:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:43:18 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_time_1
2025-06-20 06:43:18 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_time_1' from user 6556918772
2025-06-20 06:43:18 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_time_1
2025-06-20 06:43:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_time_1
2025-06-20 06:43:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:43:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_time_1 ===
2025-06-20 06:43:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_time_1' (type: <class 'str'>)
2025-06-20 06:43:20 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:43:20 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:43:20 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:43:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:43:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:43:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:43:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:43:20 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:43:21 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:43:21 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:43:21 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:43:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:43:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:43:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:43:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:43:21 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:43:23 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:43:23 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:43:23 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:43:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:43:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:43:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:43:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:43:23 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:43:24 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_send_1
2025-06-20 06:43:24 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_send_1' from user 6556918772
2025-06-20 06:43:24 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_send_1
2025-06-20 06:43:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_send_1
2025-06-20 06:43:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:43:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_send_1 ===
2025-06-20 06:43:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_send_1' (type: <class 'str'>)
2025-06-20 06:43:26 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_send_1
2025-06-20 06:43:26 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_send_1' from user 6556918772
2025-06-20 06:43:26 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_send_1
2025-06-20 06:43:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_send_1
2025-06-20 06:43:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:43:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_send_1 ===
2025-06-20 06:43:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_send_1' (type: <class 'str'>)
2025-06-20 06:43:27 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_delays_1
2025-06-20 06:43:27 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 06:43:27 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_delays_1
2025-06-20 06:43:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 06:43:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:43:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 06:43:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 06:43:29 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:43:29 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:43:29 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:43:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:43:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:43:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:43:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:43:29 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:32 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 06:43:32 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:43:32 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 06:43:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:43:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:43:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:43:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:43:32 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:43:32 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:43:32 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:43:32 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 06:43:32 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 06:43:32 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:43:32 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 06:43:32 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:33 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 06:43:33 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 06:43:35 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: advanced_sending_limit_1
2025-06-20 06:43:35 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'advanced_sending_limit_1' from user 6556918772
2025-06-20 06:43:35 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: advanced_sending_limit_1
2025-06-20 06:43:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_sending_limit_1
2025-06-20 06:43:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 06:43:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_sending_limit_1 ===
2025-06-20 06:43:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_sending_limit_1' (type: <class 'str'>)
2025-06-20 06:43:35 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_sending_limit_1
2025-06-20 06:43:35 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_sending_limit_1
2025-06-20 06:43:35 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_sending_limit_1
2025-06-20 06:43:37 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 06:43:37 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:43:37 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 06:43:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:43:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:43:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:43:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:43:37 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:43:37 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:43:37 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:43:37 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 06:43:37 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 06:43:37 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:43:37 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 06:43:37 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:37 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 06:43:37 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 06:43:39 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: advanced_day_filter_1
2025-06-20 06:43:39 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'advanced_day_filter_1' from user 6556918772
2025-06-20 06:43:39 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: advanced_day_filter_1
2025-06-20 06:43:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_day_filter_1
2025-06-20 06:43:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-20 06:43:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_day_filter_1 ===
2025-06-20 06:43:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_day_filter_1' (type: <class 'str'>)
2025-06-20 06:43:39 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_day_filter_1
2025-06-20 06:43:39 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_day_filter_1
2025-06-20 06:43:39 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_day_filter_1
2025-06-20 06:43:41 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 06:43:41 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:43:41 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 06:43:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:43:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:43:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:43:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:43:41 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:43:41 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:43:41 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:43:41 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 06:43:41 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 06:43:41 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:43:41 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 06:43:41 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:41 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 06:43:41 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 06:43:42 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:43:42 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:43:42 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:43:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:43:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:43:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:43:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:43:42 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:43:47 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:43:47 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:43:47 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:43:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:43:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:43:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:43:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:43:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: forward_mode_1
2025-06-20 06:43:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'forward_mode_1' from user 6556918772
2025-06-20 06:43:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: forward_mode_1
2025-06-20 06:43:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: forward_mode_1
2025-06-20 06:43:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:43:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: forward_mode_1 ===
2025-06-20 06:43:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'forward_mode_1' (type: <class 'str'>)
2025-06-20 06:43:54 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: forward_other_1
2025-06-20 06:43:54 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'forward_other_1' from user 6556918772
2025-06-20 06:43:54 | WARNING  | bot_controller:handle_callback:673 - Unhandled callback in bot_controller: forward_other_1
2025-06-20 06:43:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:43:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:44:01 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 06:44:01 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 06:44:01 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 06:44:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 06:44:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 06:44:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 06:44:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 06:44:05 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 06:44:05 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 06:44:05 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 06:44:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 06:44:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 06:44:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 06:44:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 06:44:07 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 06:44:07 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 06:44:07 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 06:44:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 06:44:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 06:44:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 06:44:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 06:44:10 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 06:44:10 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 06:44:10 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 06:44:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 06:44:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 06:44:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 06:44:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 06:44:11 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:44:11 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:44:11 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:44:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:44:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:44:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:44:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:44:11 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:44:13 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:44:13 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:44:13 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:44:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:44:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:44:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:44:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:44:13 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:44:15 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:44:15 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:44:15 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:44:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:44:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:44:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:44:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:44:17 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_send_1
2025-06-20 06:44:17 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_send_1' from user 6556918772
2025-06-20 06:44:17 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_send_1
2025-06-20 06:44:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_send_1
2025-06-20 06:44:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:44:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_send_1 ===
2025-06-20 06:44:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_send_1' (type: <class 'str'>)
2025-06-20 06:45:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:45:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:45:13 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:45:13 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:45:13 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:45:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:45:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:45:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:45:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:45:13 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:45:15 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:45:15 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:45:15 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:45:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:45:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:45:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:45:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:45:17 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:45:17 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:45:17 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:45:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:45:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:45:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:45:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:45:17 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:45:18 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:45:18 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:45:18 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:45:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:45:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:45:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:45:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:45:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:45:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:45:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:45:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:45:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:45:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:45:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:45:50 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:45:53 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 06:45:53 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:45:53 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 06:45:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:45:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:45:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:45:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:45:53 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:45:53 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:45:53 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:45:53 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 06:45:53 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 06:45:53 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:45:53 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 06:45:53 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📅 فلتر الأيام', url=None, callback_data='advanced_day_filter_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🚦 حدود الإرسال', url=None, callback_data='advanced_sending_limit_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:45:53 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 06:45:53 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 06:46:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:46:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:46:55 | INFO     | bot_controller:text_message_handler:181 - Text handler: 'في قسم  limits 
احذف زر send limits 
Time limits 
Length limit 




انقل زر  حدود الطول من داخل زر  Filters  الى داخل زر limits 
انقل زر حدود الإرسال من داخل زر advanced  الى داخل زر limits 

انقل زر فلتر الأيام من داخل زر advanced الى داخل زر Filters' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 06:46:55 | INFO     | bot_controller:text_message_handler:219 - Unhandled text message: 'في قسم  limits 
احذف زر send limits 
Time limits 
Length limit 




انقل زر  حدود الطول من داخل زر  Filters  الى داخل زر limits 
انقل زر حدود الإرسال من داخل زر advanced  الى داخل زر limits 

انقل زر فلتر الأيام من داخل زر advanced الى داخل زر Filters' in state: BotStates:MAIN_MENU
2025-06-20 06:47:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:47:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:47:21 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:47:21 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:47:21 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:47:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:47:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:47:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:47:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:47:21 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:47:24 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:47:24 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:47:24 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:47:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:47:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:47:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:47:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:47:29 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: forward_mode_1
2025-06-20 06:47:29 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'forward_mode_1' from user 6556918772
2025-06-20 06:47:29 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: forward_mode_1
2025-06-20 06:47:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: forward_mode_1
2025-06-20 06:47:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:47:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: forward_mode_1 ===
2025-06-20 06:47:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'forward_mode_1' (type: <class 'str'>)
2025-06-20 06:48:00 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:48:00 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 06:48:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:48:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:49:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:49:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:50:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:50:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:51:18 | INFO     | bot_controller:text_message_handler:181 - Text handler: 'في قسم  forward 
غير اسم  زر الوضع اليدوي الى الاسم وضع التوجيه /يدوي👤/تلقائي 🤖

يعني فقط اذا كان الوضع اليدوي ✅ استبدل النص للزر ب ( وضع التوجيه :يدوي👤)

واذا كان نص الزر الوضع اليدوي ❌ استبدل نص الزر ب. (وضع التوجيه:تلقائي🤖)' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 06:51:18 | INFO     | bot_controller:text_message_handler:219 - Unhandled text message: 'في قسم  forward 
غير اسم  زر الوضع اليدوي الى الاسم وضع التوجيه /يدوي👤/تلقائي 🤖

يعني فقط اذا كان الوضع اليدوي ✅ استبدل النص للزر ب ( وضع التوجيه :يدوي👤)

واذا كان نص الزر الوضع اليدوي ❌ استبدل نص الزر ب. (وضع التوجيه:تلقائي🤖)' in state: BotStates:MAIN_MENU
2025-06-20 06:51:34 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:51:34 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:51:34 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:51:34 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:51:34 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:51:45 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:51:46 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:51:46 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:51:47 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:51:47 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:51:48 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:51:48 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:51:48 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:51:49 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:51:49 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:51:50 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:51:50 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:51:51 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:51:51 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:51:52 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:51:52 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:51:53 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:51:53 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:51:54 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:51:54 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:51:55 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:51:55 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:51:56 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:51:56 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:51:56 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:51:57 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:51:57 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:51:58 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:51:58 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:51:59 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:51:59 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:52:00 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:52:00 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:52:00 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:52:00 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:52:00 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:52:00 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:52:01 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:52:01 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:52:01 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:52:01 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:52:01 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:52:10 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:52:10 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:52:13 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:52:13 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:52:13 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:52:13 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:52:13 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:52:13 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:52:13 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:52:14 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:52:14 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:52:14 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:52:14 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:52:14 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:52:14 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:52:14 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:52:14 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:52:14 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:52:14 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:52:14 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:52:14 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:52:14 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:52:15 | INFO     | bot_controller:_setup_bot_commands:265 - Bot commands menu set up
2025-06-20 06:52:15 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 06:52:15 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:52:15 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:52:15 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:52:16 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:52:16 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:52:16 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:52:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:52:17 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:52:17 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:52:17 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:52:17 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:52:17 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:52:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:52:20 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:20 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:20 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:20 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:22 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:52:22 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:52:22 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:52:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:52:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:52:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:52:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:52:24 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:24 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:24 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:24 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:26 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:52:26 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:52:26 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:52:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:52:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:52:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:52:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:52:28 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:28 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:28 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:28 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:32 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 06:52:32 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 06:52:32 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 06:52:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 06:52:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 06:52:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 06:52:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 06:52:32 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 06:52:32 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 06:52:32 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 06:52:32 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 06:52:32 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 06:52:33 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 06:52:33 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 06:52:33 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:33 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 06:52:33 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 06:52:34 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:34 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:34 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:34 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:36 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:52:36 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:52:36 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:52:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:52:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:52:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:52:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:52:37 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:37 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:37 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:37 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:39 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:52:39 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:52:39 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:52:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:52:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:52:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:52:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:52:43 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:43 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:43 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:43 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:44 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:52:44 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:52:44 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:52:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:52:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:52:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:52:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:52:47 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:47 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:47 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:47 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:49 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:52:49 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:52:49 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:52:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:52:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:52:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:52:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:52:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:50 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:53 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:52:53 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:52:53 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:52:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:52:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:52:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:52:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:52:56 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:52:56 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:52:56 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:52:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:52:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:52:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:52:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:52:56 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:52:58 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:52:58 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:52:58 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:52:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:52:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:52:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:52:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:53:02 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:53:02 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:53:02 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:53:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:53:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:53:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:53:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:53:02 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:53:05 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:53:05 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:53:05 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:53:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:53:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:53:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:53:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:53:20 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:53:20 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:53:20 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:53:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:53:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:53:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:53:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:53:20 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:53:21 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:53:21 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:53:21 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:53:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:53:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:53:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:53:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:53:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:53:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:53:23 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:53:23 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:53:23 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:53:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:53:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:53:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:53:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:53:23 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:53:24 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:53:24 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:53:24 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:53:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:53:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:53:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:53:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:53:26 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:53:26 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:53:26 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:53:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:53:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:53:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:53:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:53:26 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:53:28 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:53:28 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:53:28 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:53:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:53:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:53:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:53:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:53:30 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_length_1
2025-06-20 06:53:30 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_length_1' from user 6556918772
2025-06-20 06:53:30 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_length_1
2025-06-20 06:53:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_length_1
2025-06-20 06:53:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 06:53:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_length_1 ===
2025-06-20 06:53:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_length_1' (type: <class 'str'>)
2025-06-20 06:53:30 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: limit_length_1
2025-06-20 06:54:06 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:54:06 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:54:06 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:54:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:54:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:54:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:54:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:54:06 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:54:07 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:54:07 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:54:07 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:54:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:54:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:54:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:54:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:54:09 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:54:09 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:54:09 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:54:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:54:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:54:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:54:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:54:09 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:54:10 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:54:10 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:54:10 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:54:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:54:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:54:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:54:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:54:12 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:54:12 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:54:12 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:54:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:54:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:54:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:54:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:54:12 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:54:13 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:54:13 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:54:13 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:54:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:54:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:54:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:54:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:54:16 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:54:16 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:54:16 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:54:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:54:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:54:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:54:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:54:16 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:54:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:54:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:54:54 | INFO     | bot_controller:text_message_handler:181 - Text handler: 'في قسم  forward 
غير اسم  زر الوضع اليدوي الى الاسم وضع التوجيه /يدوي👤/تلقائي 🤖

يعني فقط اذا كان الوضع اليدوي ✅ استبدل النص للزر ب ( وضع التوجيه :يدوي👤)

واذا كان نص الزر الوضع اليدوي ❌ استبدل نص الزر ب. (وضع التوجيه:تلقائي🤖)



واحذف ا' from user 6556918772, state: None
2025-06-20 06:54:54 | INFO     | bot_controller:text_message_handler:219 - Unhandled text message: 'في قسم  forward 
غير اسم  زر الوضع اليدوي الى الاسم وضع التوجيه /يدوي👤/تلقائي 🤖

يعني فقط اذا كان الوضع اليدوي ✅ استبدل النص للزر ب ( وضع التوجيه :يدوي👤)

واذا كان نص الزر الوضع اليدوي ❌ استبدل نص الزر ب. (وضع التوجيه:تلقائي🤖)



واحذف ا' in state: None
2025-06-20 06:55:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:55:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:55:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:55:36 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:55:36 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:55:47 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:55:48 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:55:48 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:55:49 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:55:49 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:55:50 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:55:50 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:55:51 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:55:51 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:55:52 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:55:52 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:55:53 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:55:53 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:55:54 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:55:54 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:55:55 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:55:55 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:55:56 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:55:56 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:55:56 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:55:57 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:55:57 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:55:58 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:55:58 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:55:59 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:55:59 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:56:00 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:56:00 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:56:01 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:56:01 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:56:02 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:56:02 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:56:02 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:56:02 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:56:03 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:56:03 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:56:03 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:56:03 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:56:03 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:56:03 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:56:03 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:56:03 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:56:12 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:56:12 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:56:15 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:56:15 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:56:15 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:56:15 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:56:15 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:56:15 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:56:15 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:56:16 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:56:16 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:56:16 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:56:16 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:56:16 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:56:17 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:56:17 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:56:17 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:56:17 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:56:17 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:56:17 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:56:17 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:56:17 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:56:17 | INFO     | bot_controller:_setup_bot_commands:265 - Bot commands menu set up
2025-06-20 06:56:17 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 06:56:17 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:56:17 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:56:17 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:56:19 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:56:19 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:56:19 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:56:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:56:20 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:56:20 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:56:20 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:56:20 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:56:20 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:56:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:56:20 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:56:20 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:56:20 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:56:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:56:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:56:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:56:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:56:20 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:56:20 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:56:20 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:56:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:56:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:56:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:56:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:56:27 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:56:27 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:56:27 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:56:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:56:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:56:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:56:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:56:27 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:56:29 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:56:29 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:56:29 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:56:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:56:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:56:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:56:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:56:31 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:56:31 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:56:31 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:56:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:56:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:56:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:56:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:56:31 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:56:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:56:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:56:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:56:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:56:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:56:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:56:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:56:52 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:56:52 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:56:52 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:56:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:56:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:56:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:56:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:56:52 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:56:53 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:56:53 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:56:53 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:56:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:56:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:56:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:56:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:56:55 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: limit_send_1
2025-06-20 06:56:55 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'limit_send_1' from user 6556918772
2025-06-20 06:56:55 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: limit_send_1
2025-06-20 06:56:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: limit_send_1
2025-06-20 06:56:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 12
2025-06-20 06:56:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: limit_send_1 ===
2025-06-20 06:56:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'limit_send_1' (type: <class 'str'>)
2025-06-20 06:56:57 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_delays_1
2025-06-20 06:56:57 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-20 06:56:57 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_delays_1
2025-06-20 06:56:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-20 06:56:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:56:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-20 06:56:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-20 06:56:59 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:56:59 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:56:59 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:56:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:56:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:56:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:56:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:56:59 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:57:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:57:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:57:52 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:57:52 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:57:52 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:57:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:57:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:57:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:57:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:58:04 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:58:04 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:58:04 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:58:04 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:58:04 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 06:58:16 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 06:58:16 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 06:58:17 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 06:58:17 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 06:58:18 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 06:58:18 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 06:58:19 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 06:58:19 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 06:58:20 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 06:58:20 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 06:58:21 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 06:58:21 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 06:58:22 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 06:58:22 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 06:58:23 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 06:58:23 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 06:58:24 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 06:58:24 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 06:58:25 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 06:58:25 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 06:58:25 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 06:58:26 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 06:58:26 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 06:58:27 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 06:58:27 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 06:58:28 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 06:58:28 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 06:58:29 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 06:58:29 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 06:58:30 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 06:58:30 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 06:58:31 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 06:58:31 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 06:58:31 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 06:58:32 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 06:58:32 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 06:58:32 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 06:58:32 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 06:58:32 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 06:58:32 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 06:58:32 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 06:58:32 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 06:58:41 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 06:58:41 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 06:58:44 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 06:58:44 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 06:58:44 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 06:58:44 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 06:58:44 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 06:58:44 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 06:58:44 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 06:58:45 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 06:58:45 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 06:58:45 | INFO     | bot_controller:_register_handlers:175 - Registering text input handler for WAITING_INPUT state
2025-06-20 06:58:45 | INFO     | bot_controller:_register_handlers:228 - Text handler registered successfully
2025-06-20 06:58:45 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 06:58:46 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 06:58:46 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 06:58:46 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 06:58:46 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 06:58:46 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 06:58:46 | INFO     | bot_controller:_register_handlers:241 - Session handler initialized
2025-06-20 06:58:46 | INFO     | bot_controller:_register_handlers:243 - Session handler registered successfully
2025-06-20 06:58:46 | INFO     | bot_controller:_register_handlers:249 - All handlers registered successfully
2025-06-20 06:58:46 | INFO     | bot_controller:_setup_bot_commands:265 - Bot commands menu set up
2025-06-20 06:58:46 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 06:58:46 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 06:58:46 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 06:58:46 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 06:58:48 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 06:58:48 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 06:58:48 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 06:58:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:58:49 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 06:58:49 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 06:58:49 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 06:58:49 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 06:58:49 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 06:58:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 06:58:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:58:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:58:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:58:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:58:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:58:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:58:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:58:50 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:58:52 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:58:52 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:58:52 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:58:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:58:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:58:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:58:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:58:54 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:58:54 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:58:54 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:58:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:58:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:58:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:58:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:58:54 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:58:56 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 06:58:56 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 06:58:56 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 06:58:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 06:58:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:58:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 06:58:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 06:58:58 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:58:58 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:58:58 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:58:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:58:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:58:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:58:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:58:58 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:59:27 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_view_1
2025-06-20 06:59:27 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 06:59:27 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_view_1
2025-06-20 06:59:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 06:59:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 06:59:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 06:59:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 06:59:29 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 06:59:29 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 06:59:29 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 06:59:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 06:59:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 06:59:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 06:59:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 06:59:30 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 06:59:33 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 06:59:33 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 06:59:33 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 06:59:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 06:59:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 06:59:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 06:59:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 06:59:33 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 06:59:35 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 06:59:35 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 06:59:35 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 06:59:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 06:59:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 06:59:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 06:59:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 06:59:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 06:59:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:00:34 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:00:34 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:00:34 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:00:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:00:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:00:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:00:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:00:34 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:00:36 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 07:00:36 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:00:36 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 07:00:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:00:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:00:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:00:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:00:37 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:00:37 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:00:37 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:00:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:00:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:00:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:00:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:00:37 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:00:39 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:00:39 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:00:39 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:00:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:00:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:00:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:00:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:00:40 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:00:40 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:00:40 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:00:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:00:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:00:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:00:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:00:40 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:00:49 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-20 07:00:56 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_view_1
2025-06-20 07:00:56 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:00:56 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_view_1
2025-06-20 07:00:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:00:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:00:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:00:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:00:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:00:59 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:00:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:00:59 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:00:59 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:00:59 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:00:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:00:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:00:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:00:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:01:02 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:02 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:02 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:02 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:04 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 07:01:04 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:01:04 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 07:01:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:01:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:01:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:01:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:01:06 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:06 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:06 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:06 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:12 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 07:01:12 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:01:12 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 07:01:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:01:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:01:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:01:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:01:14 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:14 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:14 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:14 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:15 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:01:15 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:01:15 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:01:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:01:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:01:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:01:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:01:17 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:17 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:17 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:17 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:49 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:01:49 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:01:49 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:01:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:01:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:01:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:01:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:01:54 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:54 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:54 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:54 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:55 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_limits_1
2025-06-20 07:01:55 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:01:55 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_limits_1
2025-06-20 07:01:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:01:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:01:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:01:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:01:57 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:01:57 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:01:57 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:01:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:01:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:01:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:01:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:01:57 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:01:59 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:01:59 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:01:59 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:01:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:01:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:01:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:01:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:01:59 | INFO     | bot_controller:handle_channel_message:850 - Channel post received from -1001470989107 (message 145592)
2025-06-20 07:02:00 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:02:00 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:02:00 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:02:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:02:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:02:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:02:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:02:00 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:02:00 | WARNING  | bot_controller:handle_channel_message:858 - Message 145592 from -1001470989107 was not forwarded
2025-06-20 07:02:02 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_filters_1
2025-06-20 07:02:02 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:02:02 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_filters_1
2025-06-20 07:02:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:02:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:02:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:02:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:02:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:02:04 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:02:04 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:02:04 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:02:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:02:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:02:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:02:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:02:04 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:02:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:02:09 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:02:09 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:02:09 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:02:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:02:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:02:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:02:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:02:11 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 07:02:11 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 07:02:11 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 07:02:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 07:02:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:02:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 07:02:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 07:02:17 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: toggle_manual_mode_1
2025-06-20 07:02:17 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-20 07:02:17 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: toggle_manual_mode_1
2025-06-20 07:02:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-20 07:02:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:02:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-20 07:02:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-20 07:02:48 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:02:48 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:02:48 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:02:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:02:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:02:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:02:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:02:48 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:02:50 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_advanced_1
2025-06-20 07:02:50 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:02:50 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_advanced_1
2025-06-20 07:02:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:02:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:02:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:02:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:02:50 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:02:50 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:02:50 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:02:50 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:02:50 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:02:51 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:02:51 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:02:51 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:02:51 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:02:51 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:02:53 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:02:53 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:02:53 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:02:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:02:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:02:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:02:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:02:53 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:02:54 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_forward_1
2025-06-20 07:02:54 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:02:54 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_forward_1
2025-06-20 07:02:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:02:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:02:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:02:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:02:56 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: forward_other_1
2025-06-20 07:02:56 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'forward_other_1' from user 6556918772
2025-06-20 07:02:56 | WARNING  | bot_controller:handle_callback:673 - Unhandled callback in bot_controller: forward_other_1
2025-06-20 07:02:58 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: forward_mode_1
2025-06-20 07:02:58 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'forward_mode_1' from user 6556918772
2025-06-20 07:02:58 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: forward_mode_1
2025-06-20 07:02:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: forward_mode_1
2025-06-20 07:02:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 07:02:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: forward_mode_1 ===
2025-06-20 07:02:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'forward_mode_1' (type: <class 'str'>)
2025-06-20 07:03:00 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: task_settings_1
2025-06-20 07:03:00 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:03:00 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: task_settings_1
2025-06-20 07:03:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:03:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:03:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:03:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:03:00 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:03:04 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: setting_content_1
2025-06-20 07:03:04 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 07:03:04 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: setting_content_1
2025-06-20 07:03:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 07:03:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:03:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 07:03:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 07:03:04 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 07:03:04 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 07:03:04 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 07:03:04 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 07:03:05 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: content_cleaner_1
2025-06-20 07:03:05 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 07:03:05 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: content_cleaner_1
2025-06-20 07:03:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 07:03:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:03:05 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 07:03:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 07:03:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 07:03:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:03:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:03:10 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: cleaner_words_manage_1
2025-06-20 07:03:10 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'cleaner_words_manage_1' from user 6556918772
2025-06-20 07:03:10 | INFO     | bot_controller:handle_callback:667 - Routing text cleaner callback to task handlers: cleaner_words_manage_1
2025-06-20 07:03:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_manage_1
2025-06-20 07:03:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:03:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_manage_1 ===
2025-06-20 07:03:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_manage_1' (type: <class 'str'>)
2025-06-20 07:03:12 | INFO     | bot_controller:handle_callback:596 - Bot controller received callback: content_cleaner_1
2025-06-20 07:03:12 | ERROR    | bot_controller:handle_callback:597 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 07:03:12 | INFO     | bot_controller:handle_callback:657 - Routing to task handlers: content_cleaner_1
2025-06-20 07:03:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 07:03:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:03:12 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 07:03:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 07:03:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 07:03:22 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:03:22 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:03:22 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:03:22 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:03:22 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:03:34 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:03:34 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:03:35 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:03:35 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:03:36 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:03:36 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:03:37 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:03:37 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:03:38 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:03:38 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:03:39 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:03:39 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:03:40 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:03:40 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:03:41 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:03:41 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:03:42 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:03:42 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:03:43 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:03:43 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:03:44 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:03:44 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:03:45 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:03:45 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:03:46 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:03:46 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:03:47 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:03:47 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:03:48 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:03:48 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:03:49 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:03:49 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:03:49 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:03:49 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:03:50 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:03:50 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:03:50 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:03:50 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:03:50 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:03:50 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:03:50 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:03:50 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:03:59 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:03:59 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:04:03 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:04:03 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:04:03 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:04:03 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:04:03 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:04:03 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:04:03 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:04:03 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:04:03 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:04:03 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:04:03 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:04:03 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:04:04 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:04:04 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:04:04 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:04:04 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:04:04 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:04:04 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:04:04 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:04:04 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:04:05 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:04:05 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:04:05 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:04:05 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:04:05 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:04:06 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:04:06 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:04:06 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:04:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:04:07 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:04:07 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:04:07 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:04:07 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:04:07 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:04:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:04:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 07:04:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 07:04:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 07:04:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 07:04:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 07:04:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 07:04:11 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 07:04:11 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 07:04:11 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 07:04:11 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 07:04:14 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:04:14 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:04:15 | INFO     | bot_controller:clear_cache_command:641 - Cache cleared by admin 6556918772: ['Task manager cache (2 items)', 'Task configurations reloaded']
2025-06-20 07:04:17 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:04:17 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:04:17 | INFO     | bot_controller:clear_cache_command:641 - Cache cleared by admin 6556918772: ['Task manager cache (0 items)', 'Task configurations reloaded']
2025-06-20 07:04:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_cleaner_1
2025-06-20 07:04:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-20 07:04:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_cleaner_1
2025-06-20 07:04:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-20 07:04:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:21 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-20 07:04:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-20 07:04:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-20 07:04:23 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 07:04:23 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 07:04:23 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 07:04:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 07:04:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 07:04:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 07:04:23 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 07:04:24 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 07:04:24 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 07:04:24 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 07:04:25 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:25 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:25 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:25 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:04:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:04:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:04:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:04:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:04:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:04:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:04:27 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:04:27 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:04:27 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:04:27 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:04:27 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:04:27 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:04:27 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:04:27 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:27 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:04:27 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:04:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:28 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:28 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:29 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 07:04:29 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:04:29 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 07:04:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:04:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:04:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:04:31 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:31 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:31 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:31 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:04:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:04:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:04:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:04:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:04:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:04:34 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:34 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:34 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:34 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:04:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:04:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:04:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:04:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:04:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:04:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:04:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:38 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:39 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 07:04:39 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:04:39 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 07:04:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:04:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:04:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:04:42 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:42 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:42 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:42 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:45 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:04:45 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:04:45 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:04:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:04:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:04:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:04:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:04:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:46 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:04:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:04:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:04:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:04:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:04:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:04:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:04:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:04:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:04:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:04:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:04:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:04:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:04:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:04:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:04:56 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:05:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:05:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:05:58 | INFO     | bot_controller:text_message_handler:186 - Text handler: 'زر limits مازال لم يتحدث بالتغيرات 
وكذلك زر filter  لم ينقل اليه زر فلتر الايام' from user 6556918772, state: None
2025-06-20 07:05:58 | INFO     | bot_controller:text_message_handler:224 - Unhandled text message: 'زر limits مازال لم يتحدث بالتغيرات 
وكذلك زر filter  لم ينقل اليه زر فلتر الايام' in state: None
2025-06-20 07:06:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:06:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:07:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:07:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:08:21 | INFO     | bot_controller:text_message_handler:186 - Text handler: 'افحص الأزرار الفرعيه لزر limit 
افحص الازرار الفرعيه ل filters هل  تم تطبيق التحديثات 

ماهي الأزرار الحاليه' from user 6556918772, state: None
2025-06-20 07:08:21 | INFO     | bot_controller:text_message_handler:224 - Unhandled text message: 'افحص الأزرار الفرعيه لزر limit 
افحص الازرار الفرعيه ل filters هل  تم تطبيق التحديثات 

ماهي الأزرار الحاليه' in state: None
2025-06-20 07:08:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:08:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:09:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:09:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:09:28 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:09:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:09:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:09:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:09:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:09:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:09:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:09:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:09:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:09:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:09:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:09:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:09:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:09:32 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:09:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:09:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 07:09:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:09:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 07:09:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:09:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:09:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:09:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:09:35 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:09:35 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:09:35 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:09:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:09:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:09:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:09:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:09:35 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:09:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:09:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:09:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:09:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:09:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:09:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:09:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:09:36 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:09:36 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:09:36 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:09:36 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:09:36 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:09:37 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:09:37 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:09:37 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:09:37 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:09:37 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:09:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:09:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:09:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:09:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:09:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:09:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:09:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:09:38 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:09:40 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 07:09:40 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:09:40 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 07:09:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:09:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:09:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:09:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:09:42 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:09:42 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:09:42 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:09:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:09:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:09:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:09:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:09:42 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:09:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:09:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:09:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:09:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:09:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:09:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:09:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:10:10 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:10:10 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:10:32 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:10:32 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:10:32 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:10:32 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:10:32 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:10:44 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:10:44 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:10:45 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:10:45 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:10:46 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:10:46 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:10:47 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:10:47 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:10:48 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:10:48 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:10:49 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:10:49 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:10:49 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:10:50 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:10:50 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:10:51 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:10:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:10:52 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:10:52 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:10:53 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:10:53 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:10:54 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:10:54 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:10:55 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:10:55 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:10:56 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:10:56 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:10:57 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:10:57 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:10:58 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:10:58 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:10:59 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:10:59 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:10:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:10:59 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:10:59 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:10:59 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:10:59 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:10:59 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:10:59 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:10:59 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:10:59 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:11:09 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:11:09 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:11:12 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:11:12 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:11:12 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:11:12 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:11:12 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:11:12 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:11:12 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:11:13 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:11:13 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:11:13 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:11:13 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:11:13 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:11:13 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:11:13 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:11:13 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:11:13 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:11:13 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:11:13 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:11:13 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:11:13 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:11:14 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:11:14 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:11:14 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:11:14 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:11:14 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:11:15 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:11:15 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:11:15 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:11:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:11:16 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:11:16 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:11:16 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:11:16 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:11:16 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:11:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:11:18 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:11:18 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:11:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:21 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:11:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:11:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:11:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:11:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:11:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:11:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:11:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:11:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:26 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:26 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:11:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:11:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:11:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:11:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:11:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:11:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:11:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:11:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:43 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:11:45 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_reset_1
2025-06-20 07:11:45 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_reset_1' from user 6556918772
2025-06-20 07:11:45 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_reset_1
2025-06-20 07:11:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_reset_1
2025-06-20 07:11:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_reset_1 ===
2025-06-20 07:11:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_reset_1' (type: <class 'str'>)
2025-06-20 07:11:47 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: confirm_reset_1
2025-06-20 07:11:47 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'confirm_reset_1' from user 6556918772
2025-06-20 07:11:47 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: confirm_reset_1
2025-06-20 07:11:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: confirm_reset_1
2025-06-20 07:11:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: confirm_reset_1 ===
2025-06-20 07:11:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'confirm_reset_1' (type: <class 'str'>)
2025-06-20 07:11:47 | WARNING  | handlers.tasks:handle_callback:898 - Unhandled task callback: confirm_reset_1
2025-06-20 07:11:49 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:49 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:49 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:49 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:11:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 07:11:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 07:11:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 07:11:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 07:11:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:11:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 07:11:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 07:11:50 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 07:11:50 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 07:11:50 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 07:11:51 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 07:11:52 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:52 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:52 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:52 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:11:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:11:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:11:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:11:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:11:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:11:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:11:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:11:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:11:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:11:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:11:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:11:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:11:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:11:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:11:55 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:12:14 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:12:14 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:12:14 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:12:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:12:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:12:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:12:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:12:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:12:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:13:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:13:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:14:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:14:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:14:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:14:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:14:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:14:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:14:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:14:13 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:14:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:14:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:14:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:14:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:14:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:14:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:14:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:14:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:14:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:15:02 | INFO     | bot_controller:text_message_handler:186 - Text handler: 'ازرار فرعية لزر  Limits:
⏰ Delays
📏 حد الطول
🚦 حد الإرسال 

أزرار فرعيه لزر  Filters:
🔤 الكلمات المفتاحية
📷 أنواع الوسائط
🔄 الرسائل المعاد توجيهها
🔗 فلتر الروابط
🔘 الأزرار الشفافة
🔁 فلتر التكرار
🌍 فلتر اللغة
📅 فلتر الأيام' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 07:15:02 | INFO     | bot_controller:text_message_handler:224 - Unhandled text message: 'ازرار فرعية لزر  Limits:
⏰ Delays
📏 حد الطول
🚦 حد الإرسال 

أزرار فرعيه لزر  Filters:
🔤 الكلمات المفتاحية
📷 أنواع الوسائط
🔄 الرسائل المعاد توجيهها
🔗 فلتر الروابط
🔘 الأزرار الشفافة
🔁 فلتر التكرار
🌍 فلتر اللغة
📅 فلتر الأيام' in state: BotStates:MAIN_MENU
2025-06-20 07:15:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 07:15:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 07:15:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 07:15:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 07:15:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:15:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:15:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_help
2025-06-20 07:15:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_help' from user 6556918772
2025-06-20 07:15:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 07:15:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 07:15:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_statistics
2025-06-20 07:15:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 07:15:47 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:15:47 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:15:51 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 07:15:51 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 07:15:52 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_statistics
2025-06-20 07:15:52 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 07:15:54 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 07:15:54 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 07:15:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:15:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:15:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:15:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:15:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:15:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:15:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:15:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:15:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:15:59 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:15:59 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:15:59 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:15:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:15:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:15:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:15:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:16:01 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:16:03 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:16:03 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:16:03 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:16:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:16:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:16:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:16:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:16:03 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:16:04 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:16:04 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:16:04 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:16:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:16:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:16:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:16:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:16:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:16:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:16:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:16:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:16:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:16:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:16:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:16:06 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:16:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 07:16:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 07:16:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 07:16:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 07:16:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:16:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 07:16:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 07:16:10 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:16:10 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:16:10 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:16:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:16:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:16:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:16:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:16:10 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:16:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:16:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:16:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:16:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:16:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:16:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:16:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:16:20 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:16:20 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:16:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:16:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:17:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:17:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:17:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:17:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:17:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:17:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:17:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:17:08 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:17:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:17:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:17:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:17:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:17:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:17:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:17:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:17:43 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:17:43 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:17:43 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:17:43 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:17:43 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:17:45 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:17:45 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:17:45 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:17:45 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:17:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:17:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:17:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:17:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:17:45 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:17:45 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:17:45 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:17:45 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:17:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:17:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:17:48 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:17:48 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:17:48 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:17:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:17:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:17:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:17:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:17:48 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:17:48 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:17:48 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:17:48 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:17:48 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:17:48 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:17:48 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:17:48 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:17:49 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:17:49 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:17:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:17:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:17:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:17:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:17:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:17:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:17:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:17:50 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:17:50 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:17:50 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:17:50 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:17:52 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: workdays_1
2025-06-20 07:17:52 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'workdays_1' from user 6556918772
2025-06-20 07:17:52 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: workdays_1
2025-06-20 07:17:54 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:17:54 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:17:54 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:17:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:17:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:17:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:17:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:17:54 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:17:54 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:17:54 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:17:54 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:17:54 | INFO     | handlers.tasks:_handle_advanced_setting:7814 - Starting advanced settings handler for task 1
2025-06-20 07:17:54 | INFO     | handlers.tasks:_handle_advanced_setting:7816 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:17:54 | INFO     | handlers.tasks:_handle_advanced_setting:7826 - Creating keyboard for task 1
2025-06-20 07:17:54 | INFO     | handlers.tasks:_handle_advanced_setting:7828 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:17:54 | INFO     | handlers.tasks:_handle_advanced_setting:7831 - Message edited successfully for task 1
2025-06-20 07:17:54 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:17:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:17:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:17:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:17:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:17:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:17:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:17:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:17:56 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:18:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:18:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:19:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:19:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:20:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:20:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:20:44 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:20:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:20:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:20:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:20:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:20:46 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:20:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:20:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:20:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:20:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:20:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:20:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:20:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:20:48 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:20:48 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:20:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_settings
2025-06-20 07:20:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 07:20:54 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 07:20:54 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 07:20:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_quick_start
2025-06-20 07:20:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_quick_start' from user 6556918772
2025-06-20 07:20:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 07:20:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 07:21:00 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:21:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:21:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:21:03 | INFO     | bot_controller:text_message_handler:186 - Text handler: '/lang' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 07:21:06 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:21:25 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:21:25 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:21:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:21:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:21:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:21:47 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:21:47 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:22:00 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:22:00 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:22:00 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:22:01 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:22:01 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:22:02 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:22:02 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:22:03 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:22:03 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:22:04 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:22:04 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:22:05 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:22:05 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:22:06 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:22:06 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:22:07 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:22:07 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:22:08 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:22:08 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:22:09 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:22:09 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:22:09 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:22:10 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:22:10 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:22:11 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:22:11 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:22:12 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:22:12 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:22:13 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:22:13 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:22:14 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:22:14 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:22:14 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:22:14 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:22:15 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:22:15 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:22:15 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:22:15 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:22:15 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:22:15 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:22:15 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:22:15 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:22:24 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:22:24 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:22:27 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:22:27 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:22:27 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:22:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:22:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:22:27 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:22:27 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:22:28 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:22:28 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:22:28 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:22:28 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:22:28 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:22:29 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:22:29 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:22:29 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:22:29 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:22:29 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:22:29 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:22:29 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:22:29 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:22:29 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:22:29 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:22:29 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:22:29 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:22:29 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:22:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:22:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:22:31 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:22:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:22:32 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:22:32 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:22:32 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:22:32 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:22:32 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:22:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:22:34 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:22:34 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:22:35 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:22:35 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:22:35 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:22:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:22:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:22:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:22:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:22:37 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:22:37 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:22:37 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:22:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:22:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:22:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:22:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:22:40 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:22:41 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:22:41 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:22:41 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:22:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:22:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:22:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:22:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:22:41 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:22:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:22:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:22:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:22:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:22:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:22:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:22:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:23:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:23:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:24:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:24:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:25:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:25:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:26:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:26:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:27:03 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:27:04 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:27:04 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:27:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:27:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:27:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:27:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:27:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:27:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:27:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:27:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:27:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:27:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:27:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:27:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:27:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:27:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:27:09 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:27:10 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:27:10 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:27:10 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:27:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:27:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:27:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:27:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:27:10 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:27:14 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:27:14 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:27:14 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:27:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:27:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:27:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:27:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:27:17 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:27:17 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:27:17 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:27:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:27:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:27:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:27:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:27:17 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:27:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:27:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:27:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:27:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:27:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:27:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:27:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:27:20 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:27:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:27:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:27:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:27:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:27:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:27:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:27:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:27:23 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_4
2025-06-20 07:27:23 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-20 07:27:23 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_4
2025-06-20 07:27:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-20 07:27:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:27:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-20 07:27:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-20 07:27:25 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 4 mode is bot
2025-06-20 07:27:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:27:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:27:26 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:27:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:27:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:27:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:27:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:27:26 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:27:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_4
2025-06-20 07:27:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_4' from user 6556918772
2025-06-20 07:27:28 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_4
2025-06-20 07:27:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_4
2025-06-20 07:27:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:27:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_4 ===
2025-06-20 07:27:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_4' (type: <class 'str'>)
2025-06-20 07:27:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:27:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:27:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:27:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:27:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:27:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:27:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:27:30 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:27:31 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:27:31 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:27:31 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:27:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:27:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:27:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:27:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:27:34 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:27:34 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:27:34 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:27:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:27:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:27:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:27:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:27:36 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:27:36 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:27:38 | ERROR    | handlers.tasks:_handle_filters_setting:1929 - Error in filters setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 07:27:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:27:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:29:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:29:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:30:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:30:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:30:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:30:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:30:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:30:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:30:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:30:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:30:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:30:19 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:30:20 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:30:20 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:30:20 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:30:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:30:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:30:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:30:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:30:42 | INFO     | bot_controller:text_message_handler:186 - Text handler: 'قسم Limits يشمل الآن:
⏱️ التأخير
📏 حدود الطول (منقول من Filters)
🚦 حدود الإرسال' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 07:30:42 | INFO     | bot_controller:text_message_handler:224 - Unhandled text message: 'قسم Limits يشمل الآن:
⏱️ التأخير
📏 حدود الطول (منقول من Filters)
🚦 حدود الإرسال' in state: BotStates:MAIN_MENU
2025-06-20 07:31:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:31:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:31:24 | INFO     | bot_controller:text_message_handler:186 - Text handler: 'اريد حذف الأزرار التاليه 
    📊 Send Limits
📏 Length Limit   
   ⏰ Time Limits
استبدلها بالازرار 

📏 حدود الطول 
🚦 حدود الإرسال' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-20 07:31:24 | INFO     | bot_controller:text_message_handler:224 - Unhandled text message: 'اريد حذف الأزرار التاليه 
    📊 Send Limits
📏 Length Limit   
   ⏰ Time Limits
استبدلها بالازرار 

📏 حدود الطول 
🚦 حدود الإرسال' in state: BotStates:MAIN_MENU
2025-06-20 07:32:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:32:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:32:41 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:32:41 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:32:54 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:32:54 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:32:54 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:32:54 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:32:54 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:33:05 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:33:06 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:33:06 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:33:07 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:33:07 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:33:08 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:33:08 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:33:09 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:33:09 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:33:09 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:33:10 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:33:10 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:33:11 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:33:11 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:33:12 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:33:12 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:33:13 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:33:13 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:33:14 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:33:14 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:33:15 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:33:15 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:33:15 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:33:16 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:33:16 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:33:17 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:33:17 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:33:18 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:33:18 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:33:19 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:33:19 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:33:20 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:33:20 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:33:20 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:33:20 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:33:20 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:33:20 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:33:20 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:33:20 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:33:20 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:33:20 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:33:20 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:33:29 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:33:29 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:33:32 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:33:32 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:33:32 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:33:32 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:33:32 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:33:32 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:33:32 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:33:33 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:33:33 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:33:33 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:33:33 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:33:33 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:33:34 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:33:34 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:33:34 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:33:34 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:33:34 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:33:34 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:33:34 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:33:34 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:33:34 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:33:34 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:33:34 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:33:34 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:33:34 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:33:36 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:33:36 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:33:36 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:33:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:33:37 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:33:37 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:33:37 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:33:37 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:33:37 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:33:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:33:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:33:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:33:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:33:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:33:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:33:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:33:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:33:57 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:33:59 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:33:59 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:33:59 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:33:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:33:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:33:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:33:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:34:01 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:34:01 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:34:01 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:34:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:34:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:34:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:34:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:34:01 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:34:02 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_4
2025-06-20 07:34:02 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_4' from user 6556918772
2025-06-20 07:34:02 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_4
2025-06-20 07:34:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_4
2025-06-20 07:34:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:34:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_4 ===
2025-06-20 07:34:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_4' (type: <class 'str'>)
2025-06-20 07:34:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_length_4
2025-06-20 07:34:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_length_4' from user 6556918772
2025-06-20 07:34:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_length_4
2025-06-20 07:34:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_length_4
2025-06-20 07:34:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:34:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_length_4 ===
2025-06-20 07:34:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_length_4' (type: <class 'str'>)
2025-06-20 07:34:05 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: filter_length_4
2025-06-20 07:34:05 | INFO     | handlers.tasks:handle_callback:418 - Routing to length filter main interface: filter_length_4
2025-06-20 07:34:05 | INFO     | handlers.tasks:_handle_length_filter:10664 - Loading enhanced length filter for task 4
2025-06-20 07:34:05 | INFO     | handlers.tasks:_handle_length_filter:10686 - Fresh data loaded for task 4: {}
2025-06-20 07:34:06 | INFO     | handlers.tasks:_handle_length_filter:10712 - Initialized empty length filter settings for task 4: {'enabled': False, 'min_length': 0, 'max_length': 4096, 'action_mode': 'block'}
2025-06-20 07:34:06 | INFO     | handlers.tasks:_handle_length_filter:10809 - UI updated successfully for task 4 with timestamp 6588, action: block
2025-06-20 07:34:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:34:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:34:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:34:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:34:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:34:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:34:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:34:10 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:34:10 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:34:10 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:34:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:34:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:34:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:34:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:34:10 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:34:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_4
2025-06-20 07:34:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_4' from user 6556918772
2025-06-20 07:34:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_4
2025-06-20 07:34:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_4
2025-06-20 07:34:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:34:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_4 ===
2025-06-20 07:34:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_4' (type: <class 'str'>)
2025-06-20 07:34:14 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_sending_limit_4
2025-06-20 07:34:14 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_sending_limit_4' from user 6556918772
2025-06-20 07:34:14 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_sending_limit_4
2025-06-20 07:34:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_sending_limit_4
2025-06-20 07:34:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:34:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_sending_limit_4 ===
2025-06-20 07:34:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_sending_limit_4' (type: <class 'str'>)
2025-06-20 07:34:14 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_sending_limit_4
2025-06-20 07:34:14 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_sending_limit_4
2025-06-20 07:34:14 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_sending_limit_4
2025-06-20 07:34:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: sending_limit_edit_4
2025-06-20 07:34:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'sending_limit_edit_4' from user 6556918772
2025-06-20 07:34:19 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: sending_limit_edit_4
2025-06-20 07:34:20 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_4
2025-06-20 07:34:20 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_4' from user 6556918772
2025-06-20 07:34:20 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_4
2025-06-20 07:34:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_4
2025-06-20 07:34:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:34:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_4 ===
2025-06-20 07:34:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_4' (type: <class 'str'>)
2025-06-20 07:34:20 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_4
2025-06-20 07:34:20 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_4
2025-06-20 07:34:20 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_4
2025-06-20 07:34:20 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 4
2025-06-20 07:34:20 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 4
2025-06-20 07:34:21 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 4, 'forward_mode': 'copy', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': False, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': False, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': True, 'max_message_length': 4096, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 17, 17, 18, 26, 710882), 'updated_at': datetime.datetime(2025, 6, 17, 17, 18, 26, 710882), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": false, "remove_emojis": true, "remove_numbers": false, "remove_hashtags": false, "remove_mentions": false, "remove_extra_lines": false, "remove_punctuation": false, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': True, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]', 'inline_button_settings': '{}'}
2025-06-20 07:34:21 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 4
2025-06-20 07:34:21 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:34:21 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 4
2025-06-20 07:34:21 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:34:46 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:34:46 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:34:46 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:34:46 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:34:46 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:34:58 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:34:59 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:34:59 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:35:00 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:35:00 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:35:01 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:35:01 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:35:02 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:35:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:35:02 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:35:03 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:35:03 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:35:04 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:35:04 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:35:05 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:35:05 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:35:06 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:35:06 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:35:07 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:35:07 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:35:08 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:35:08 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:35:09 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:35:09 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:35:10 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:35:10 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:35:11 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:35:11 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:35:12 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:35:12 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:35:13 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:35:13 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:35:13 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:35:13 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:35:14 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:35:14 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:35:14 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:35:14 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:35:14 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:35:14 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:35:14 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:35:14 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:35:23 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:35:23 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:35:27 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:35:27 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:35:27 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:35:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:35:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:35:27 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:35:27 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:35:27 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:35:27 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:35:27 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:35:27 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:35:27 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:35:28 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:35:28 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:35:28 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:35:28 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:35:28 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:35:28 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:35:28 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:35:28 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:35:29 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:35:29 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:35:29 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:35:29 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:35:29 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:35:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:35:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:35:31 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:35:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:35:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:35:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:35:31 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:35:31 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:35:31 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:35:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:35:41 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:35:41 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:35:41 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:35:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:35:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:35:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:35:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:35:41 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:35:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_4
2025-06-20 07:35:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_4' from user 6556918772
2025-06-20 07:35:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_4
2025-06-20 07:35:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_4
2025-06-20 07:35:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:35:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_4 ===
2025-06-20 07:35:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_4' (type: <class 'str'>)
2025-06-20 07:35:49 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:35:49 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:35:49 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:35:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:35:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:35:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:35:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:35:49 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:35:51 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_4
2025-06-20 07:35:51 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_4' from user 6556918772
2025-06-20 07:35:51 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_4
2025-06-20 07:35:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_4
2025-06-20 07:35:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:35:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_4 ===
2025-06-20 07:35:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_4' (type: <class 'str'>)
2025-06-20 07:35:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_delays_4
2025-06-20 07:35:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_delays_4' from user 6556918772
2025-06-20 07:35:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_delays_4
2025-06-20 07:35:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_4
2025-06-20 07:35:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:35:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_4 ===
2025-06-20 07:35:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_4' (type: <class 'str'>)
2025-06-20 07:35:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:35:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:35:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:35:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:35:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:35:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:35:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:35:55 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:36:00 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_4
2025-06-20 07:36:00 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_4' from user 6556918772
2025-06-20 07:36:00 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_4
2025-06-20 07:36:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_4
2025-06-20 07:36:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:36:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_4 ===
2025-06-20 07:36:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_4' (type: <class 'str'>)
2025-06-20 07:36:12 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: forward_mode_4
2025-06-20 07:36:12 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'forward_mode_4' from user 6556918772
2025-06-20 07:36:12 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: forward_mode_4
2025-06-20 07:36:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: forward_mode_4
2025-06-20 07:36:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 07:36:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: forward_mode_4 ===
2025-06-20 07:36:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'forward_mode_4' (type: <class 'str'>)
2025-06-20 07:36:14 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_mode_4
2025-06-20 07:36:14 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_mode_4' from user 6556918772
2025-06-20 07:36:14 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_mode_4
2025-06-20 07:36:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_mode_4
2025-06-20 07:36:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:36:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_mode_4 ===
2025-06-20 07:36:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_mode_4' (type: <class 'str'>)
2025-06-20 07:36:17 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_4
2025-06-20 07:36:17 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_4' from user 6556918772
2025-06-20 07:36:17 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_4
2025-06-20 07:36:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_4
2025-06-20 07:36:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:36:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_4 ===
2025-06-20 07:36:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_4' (type: <class 'str'>)
2025-06-20 07:36:17 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 4: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_4', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:36:22 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_4
2025-06-20 07:36:22 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_4' from user 6556918772
2025-06-20 07:36:22 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_4
2025-06-20 07:36:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_4
2025-06-20 07:36:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:36:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_4 ===
2025-06-20 07:36:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_4' (type: <class 'str'>)
2025-06-20 07:36:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:36:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:37:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:37:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:38:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:38:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:39:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:39:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:40:40 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:40:40 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:40:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:40:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:42:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:42:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:43:32 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:43:32 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:43:32 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:43:32 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:43:32 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:43:43 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:43:44 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:43:44 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:43:45 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:43:45 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:43:46 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:43:46 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:43:46 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:43:47 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:43:47 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:43:48 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:43:48 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:43:49 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:43:49 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:43:50 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:43:50 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:43:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:43:51 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:43:52 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:43:52 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:43:52 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:43:53 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:43:53 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:43:54 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:43:54 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:43:55 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:43:55 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:43:56 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:43:56 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:43:57 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:43:57 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:43:58 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:43:58 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:43:58 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:43:58 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:43:58 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:43:58 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:43:58 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:43:58 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:43:58 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:43:58 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:43:58 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:44:07 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:44:07 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:44:10 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:44:10 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:44:10 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:44:10 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:44:10 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:44:10 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:44:10 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:44:11 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:44:11 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:44:11 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:44:11 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:44:11 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:44:12 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:44:12 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:44:12 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:44:12 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:44:12 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:44:12 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:44:12 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:44:12 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:44:12 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:44:12 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:44:12 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:44:12 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:44:12 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:44:14 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:44:14 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:44:14 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:44:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:44:15 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:44:15 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:44:15 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:44:15 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:44:15 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:44:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:44:53 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:44:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_settings
2025-06-20 07:44:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 07:44:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 07:44:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 07:44:59 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_quick_start
2025-06-20 07:44:59 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_quick_start' from user 6556918772
2025-06-20 07:45:00 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 07:45:00 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 07:45:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:45:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:45:48 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:45:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:45:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:45:54 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:45:54 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:45:54 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:45:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:45:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:45:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:45:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:45:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:45:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:45:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:45:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:45:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:45:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:45:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:45:59 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:46:01 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:46:01 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:46:01 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:46:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:46:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:46:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:46:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:46:01 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:46:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:46:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:46:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:46:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:46:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:46:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:46:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:46:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:46:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:46:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:46:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:46:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:46:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:46:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:46:07 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:46:09 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:46:09 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:46:09 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:46:09 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:46:09 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:46:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 07:46:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 07:46:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 07:46:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 07:46:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:46:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 07:46:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 07:46:16 | INFO     | handlers.tasks:_handle_content_setting:1937 - Content setting accessed for task 1
2025-06-20 07:46:16 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 07:46:16 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 07:46:16 | INFO     | handlers.tasks:_handle_content_setting:1985 - Content message updated with new text and keyboard
2025-06-20 07:46:21 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:46:21 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:46:22 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:46:22 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:46:23 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:46:23 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:46:24 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:46:24 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:46:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:46:25 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:46:25 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:46:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:46:26 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:46:26 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:46:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:46:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:46:26 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:46:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:46:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:46:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:46:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:46:26 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:46:27 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:46:27 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:46:27 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:46:28 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:46:28 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:46:29 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:46:29 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 07:46:29 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 07:46:29 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 07:46:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 07:46:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 07:46:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 07:46:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 07:46:29 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:46:30 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:46:30 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:46:31 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:46:31 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:46:32 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:46:32 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:46:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:46:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:46:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:46:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:46:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:46:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:46:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:46:32 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:46:33 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:46:33 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:46:34 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:46:34 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:46:35 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:46:35 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:46:35 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:46:35 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:46:35 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:46:36 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:46:36 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:46:36 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:46:36 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:46:36 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:46:36 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:46:36 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:46:36 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:46:45 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:46:45 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:46:49 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:46:49 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:46:49 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:46:49 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:46:49 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:46:49 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:46:49 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:46:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:46:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:46:49 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:46:49 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:46:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:46:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:46:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:46:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:46:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:46:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:46:50 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:46:50 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:46:50 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:46:51 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:46:51 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:46:51 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:46:51 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:46:51 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:46:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:46:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:46:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:46:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:46:53 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:46:53 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:46:53 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:46:53 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:46:53 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:46:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:47:01 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:47:01 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:47:01 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:47:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:47:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:47:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:47:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:47:03 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:47:03 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:47:03 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:47:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:47:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:47:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:47:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:47:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:47:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:47:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:47:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:47:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:47:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:47:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:47:06 | INFO     | handlers.tasks:_handle_task_settings:1333 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:47:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:47:09 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:47:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:47:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:47:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:47:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:47:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:47:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:47:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:47:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:47:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:47:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:47:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:47:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:47:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:47:36 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:39 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:47:39 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:47:39 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:47:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:47:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:47:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:47:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:47:39 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:47:39 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:47:39 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:47:39 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:47:39 | INFO     | handlers.tasks:_handle_advanced_setting:7818 - Starting advanced settings handler for task 1
2025-06-20 07:47:39 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:47:39 | INFO     | handlers.tasks:_handle_advanced_setting:7830 - Creating keyboard for task 1
2025-06-20 07:47:39 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:39 | INFO     | handlers.tasks:_handle_advanced_setting:7835 - Message edited successfully for task 1
2025-06-20 07:47:39 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:47:41 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:47:41 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:47:41 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:47:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:47:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:47:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:47:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:47:41 | INFO     | handlers.tasks:_handle_task_settings:1333 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:47:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:47:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:47:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:47:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:47:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:47:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:47:43 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:47:43 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:47:43 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:47:43 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:47:43 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:47:43 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:47:43 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:47:43 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:44 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:47:44 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:47:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:47:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:47:44 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:47:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:47:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:47:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:47:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:47:44 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:47:44 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:47:44 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:47:44 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:47:48 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: workdays_1
2025-06-20 07:47:48 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'workdays_1' from user 6556918772
2025-06-20 07:47:48 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: workdays_1
2025-06-20 07:47:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:47:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:47:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:47:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:47:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:47:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:47:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:47:50 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:47:50 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:47:50 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:47:50 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:47:50 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:47:51 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:47:51 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:47:51 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:47:51 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:47:51 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:47:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:47:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:48:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:48:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:48:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:48:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:48:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:48:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:48:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:48:11 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:48:11 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:48:11 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:48:11 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:48:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:48:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:48:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:48:26 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:48:26 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:48:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:48:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:48:38 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:48:38 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:48:38 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:48:39 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:48:39 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:48:40 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:48:40 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:48:41 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:48:41 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:48:42 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:48:42 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:48:43 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:48:43 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:48:44 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:48:44 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:48:44 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:48:45 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:48:45 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:48:46 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:48:46 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:48:47 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:48:47 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:48:48 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:48:48 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:48:49 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:48:49 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:48:50 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:48:50 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:48:50 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:48:51 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:48:51 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:48:52 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:48:52 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:48:52 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:48:53 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:48:53 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:48:53 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:48:53 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:48:53 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:48:53 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:48:53 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:48:53 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:48:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:48:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:48:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:48:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:48:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:48:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:48:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:48:55 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:48:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:48:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:48:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:48:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:48:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:48:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:48:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:49:02 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:49:02 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:49:04 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:49:04 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:49:04 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:49:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:49:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:49:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:49:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:49:04 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:49:05 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:49:05 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:49:05 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:49:05 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:49:05 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:49:05 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:49:05 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:49:05 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:49:05 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:49:05 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:49:05 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:49:05 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:49:06 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:49:06 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:49:06 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:49:06 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:49:06 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:49:06 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:49:06 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:49:06 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:49:07 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:49:07 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:49:07 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:49:07 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:49:07 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:49:08 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:49:08 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:49:08 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:49:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:49:09 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:49:09 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:49:09 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:49:09 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:49:09 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:49:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:49:12 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:49:12 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:49:12 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:49:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:49:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:49:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:49:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:49:12 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:49:12 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:49:12 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:49:12 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:49:12 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:49:12 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:49:12 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:49:12 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:49:12 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:49:12 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:49:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:49:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:49:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:49:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:49:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:49:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:49:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:49:16 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:49:16 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:49:16 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:49:16 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:49:23 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:49:23 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:49:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:49:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:49:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:49:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:49:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:49:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:49:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:49:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:49:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:49:55 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:49:55 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:49:55 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:49:55 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:49:55 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:49:56 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:49:56 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:49:56 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:49:56 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:49:56 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:50:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:50:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:50:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:50:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:50:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:50:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:50:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:50:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:50:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:50:18 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:50:18 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:50:18 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:50:18 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:50:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:50:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:50:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:50:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:50:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:50:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:50:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:50:24 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:50:24 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:50:24 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:50:24 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:50:24 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:50:25 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:50:25 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:50:25 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:50:25 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:50:25 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:50:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:50:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:51:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:51:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:51:31 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:51:31 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:51:31 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:51:31 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:51:31 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:51:43 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:51:44 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:51:44 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:51:44 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:51:45 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:51:45 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:51:46 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:51:46 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:51:47 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:51:47 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:51:48 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:51:48 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:51:49 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:51:49 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:51:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:51:50 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:51:50 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:51:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:51:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:51:51 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:51:51 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:51:52 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:51:52 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:51:53 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:51:53 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:51:54 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:51:54 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:51:55 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:51:55 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:51:56 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:51:56 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:51:57 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:51:57 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:51:57 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:51:57 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:51:57 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:51:58 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:51:58 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:51:58 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:51:58 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:51:58 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:51:58 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:51:58 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:51:58 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:52:07 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:52:07 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:52:10 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:52:10 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:52:10 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:52:10 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:52:10 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:52:10 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:52:10 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:52:11 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:52:11 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:52:11 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:52:11 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:52:11 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:52:12 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:52:12 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:52:12 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:52:12 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:52:12 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:52:12 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:52:12 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:52:12 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:52:12 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:52:12 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:52:12 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:52:12 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:52:12 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:52:14 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:52:14 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:52:14 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:52:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:52:14 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 07:52:15 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:52:15 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:52:15 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:52:15 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:52:15 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:52:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:52:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 07:52:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 07:52:17 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 07:52:17 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 07:52:17 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 07:52:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 07:52:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 07:52:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 07:52:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 07:52:20 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 07:52:20 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 07:52:20 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 07:52:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 07:52:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 07:52:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 07:52:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 07:52:23 | INFO     | handlers.tasks:_handle_task_view:1156 - Task view: Task 1 mode is bot
2025-06-20 07:52:25 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:52:25 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:52:25 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:52:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:52:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:52:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:52:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:52:25 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:52:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 07:52:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 07:52:28 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 07:52:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 07:52:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 07:52:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 07:52:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 07:52:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 07:52:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 07:52:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 07:52:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 07:52:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:52:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 07:52:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 07:52:30 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:52:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:52:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:52:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:52:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:52:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:52:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:52:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:52:33 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:52:33 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:52:33 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:52:33 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:52:33 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 07:52:34 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:52:34 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 07:52:34 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:52:34 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 07:52:34 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:52:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:52:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:52:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:52:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:52:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:52:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:52:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:52:36 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:52:36 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:52:36 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:52:36 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:52:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:52:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:52:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:52:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:52:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:52:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:52:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:52:40 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:52:40 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:52:40 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:52:40 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:52:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:52:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:52:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 07:52:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 07:52:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 07:52:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 07:52:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:52:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 07:52:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 07:52:56 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 1 required positional argument: 'state'
2025-06-20 07:53:00 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 07:53:00 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 07:53:00 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 07:53:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 07:53:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:53:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 07:53:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 07:53:00 | ERROR    | handlers.tasks:handle_callback:902 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 2 required positional arguments: 'language_code' and 'state'
2025-06-20 07:53:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:53:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:53:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:53:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:53:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:53:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:53:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:53:07 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:53:07 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:53:07 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:53:07 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:53:07 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:53:08 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:53:08 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:53:08 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:53:08 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:53:08 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:53:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:53:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:53:09 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:53:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:53:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:53:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:53:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:53:09 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:53:09 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:53:09 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:53:09 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:53:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 07:53:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 07:53:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: target_lang_1
2025-06-20 07:53:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'target_lang_1' from user 6556918772
2025-06-20 07:53:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 07:53:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 07:53:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:53:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:53:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:53:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:53:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:53:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:53:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:53:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:53:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:53:21 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:53:21 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:53:21 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:53:21 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:53:21 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:53:21 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:53:21 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:53:21 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:53:22 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:53:22 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:53:23 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:53:23 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:53:23 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:53:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:53:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:53:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:53:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:53:23 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:53:23 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:53:23 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:53:23 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:53:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:53:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:53:26 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:53:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:53:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:53:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:53:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:53:27 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:53:27 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:53:27 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:53:28 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:53:29 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:53:29 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:53:29 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:53:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:53:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:53:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:53:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:53:31 | INFO     | handlers.tasks:_handle_translation_setting:7549 - Loading translation settings for task 1
2025-06-20 07:53:31 | INFO     | handlers.tasks:_handle_translation_setting:7575 - Creating translation keyboard for task 1
2025-06-20 07:53:31 | INFO     | handlers.tasks:_handle_translation_setting:7577 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:53:31 | INFO     | handlers.tasks:_handle_translation_setting:7580 - Translation settings displayed for task 1
2025-06-20 07:53:54 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1001470989107 (message 145594)
2025-06-20 07:53:55 | WARNING  | bot_controller:handle_channel_message:913 - Message 145594 from -1001470989107 was not forwarded
2025-06-20 07:53:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:53:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:53:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:53:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:53:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:53:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:53:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:53:55 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:53:55 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:53:55 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:53:55 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:53:55 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:53:56 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:53:56 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:53:56 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:53:56 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:53:56 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:53:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:53:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:53:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:53:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:53:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:53:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:53:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:53:57 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:53:57 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:53:57 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:53:57 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:53:59 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 07:53:59 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 07:54:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:54:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:54:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:54:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:54:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:54:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:54:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:54:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:54:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:54:09 | INFO     | handlers.tasks:_handle_translation_setting:7549 - Loading translation settings for task 1
2025-06-20 07:54:09 | INFO     | handlers.tasks:_handle_translation_setting:7575 - Creating translation keyboard for task 1
2025-06-20 07:54:09 | INFO     | handlers.tasks:_handle_translation_setting:7577 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:54:10 | INFO     | handlers.tasks:_handle_translation_setting:7580 - Translation settings displayed for task 1
2025-06-20 07:54:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:54:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:54:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:54:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:54:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:54:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:54:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:54:12 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:54:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:54:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:54:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:54:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:54:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:54:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:54:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:54:13 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:54:13 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:54:13 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:54:13 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:54:13 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:54:13 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:54:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:54:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:54:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:54:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:54:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:54:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:54:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:54:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:54:15 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:54:15 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:54:15 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:54:20 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 07:54:20 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 07:54:22 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: target_lang_1
2025-06-20 07:54:22 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'target_lang_1' from user 6556918772
2025-06-20 07:54:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:54:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:54:26 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:54:26 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 07:54:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:54:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:54:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:54:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:54:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:54:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:54:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:55:00 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:55:00 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:55:00 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:00 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:55:02 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:55:02 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:55:02 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:55:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:55:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:55:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:55:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:02 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:55:02 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:55:02 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:55:02 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:55:02 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 07:55:02 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:55:02 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 07:55:02 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:03 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 07:55:03 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:55:04 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:55:04 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:55:04 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:55:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:55:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:55:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:55:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:55:04 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:55:04 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:55:04 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:55:04 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:55:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:55:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:55:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:55:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:55:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:55:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:55:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:55:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:55:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:55:07 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:55:07 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:55:07 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:08 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:55:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 07:55:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 07:55:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 07:55:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 07:55:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:55:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 07:55:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 07:55:11 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 1 required positional argument: 'state'
2025-06-20 07:55:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:55:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:55:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:55:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:55:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:55:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:55:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:13 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:55:13 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:55:13 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:55:13 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:55:13 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 07:55:14 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:55:14 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 07:55:14 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:14 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 07:55:14 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:55:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:55:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:55:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:55:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:55:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:55:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:55:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:55:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:55:15 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:55:15 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:55:15 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:55:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 07:55:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 07:55:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:55:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:55:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:55:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:55:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:55:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:55:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:55:20 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:55:21 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:55:21 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:21 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:55:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:55:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:55:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:55:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:55:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:55:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:55:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:55:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:30 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:55:30 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:55:30 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:55:30 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:55:30 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:55:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:55:31 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:55:31 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:55:31 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:31 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:55:31 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:55:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:55:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:55:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:55:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:55:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:55:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:55:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:55:32 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:55:32 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:55:32 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:55:32 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:55:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:55:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:55:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:55:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:55:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:55:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:55:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:55:47 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 07:55:47 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 07:55:47 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:48 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 07:55:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: translation_advanced_1
2025-06-20 07:55:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'translation_advanced_1' from user 6556918772
2025-06-20 07:55:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: translation_advanced_1
2025-06-20 07:55:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: translation_advanced_1
2025-06-20 07:55:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:55:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: translation_advanced_1 ===
2025-06-20 07:55:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'translation_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:50 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': translation_advanced_1
2025-06-20 07:55:50 | WARNING  | handlers.tasks:handle_callback:907 - Unhandled task callback: translation_advanced_1
2025-06-20 07:55:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:55:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:55:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:55:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:55:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:55:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:55:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:53 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:55:53 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:55:53 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:55:53 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:55:53 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:55:54 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:55:54 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:55:54 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:55:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:55:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:55:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:55:54 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:55:54 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:55:54 | ERROR    | handlers.tasks:_handle_advanced_setting:7822 - Error in advanced settings: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 07:55:54 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:56:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:56:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:56:22 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:56:22 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:56:22 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:56:22 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:56:22 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 07:56:31 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:56:31 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:56:31 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:56:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:56:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:56:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:56:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:56:31 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:56:31 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:56:31 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:56:31 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:56:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:56:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:56:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:56:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:56:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:56:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:56:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:56:34 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 07:56:34 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 07:56:34 | INFO     | handlers.tasks:_handle_translation_setting:7549 - Loading translation settings for task 1
2025-06-20 07:56:35 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 07:56:35 | INFO     | handlers.tasks:_handle_translation_setting:7575 - Creating translation keyboard for task 1
2025-06-20 07:56:35 | INFO     | handlers.tasks:_handle_translation_setting:7577 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:56:35 | INFO     | handlers.tasks:_handle_translation_setting:7580 - Translation settings displayed for task 1
2025-06-20 07:56:35 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 07:56:36 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 07:56:36 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 07:56:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 07:56:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 07:56:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 07:56:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 07:56:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:56:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 07:56:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 07:56:37 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 07:56:37 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 07:56:37 | INFO     | handlers.tasks:_handle_translation_setting:7549 - Loading translation settings for task 1
2025-06-20 07:56:37 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 07:56:38 | INFO     | handlers.tasks:_handle_translation_setting:7575 - Creating translation keyboard for task 1
2025-06-20 07:56:38 | INFO     | handlers.tasks:_handle_translation_setting:7577 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='✅ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🌐 اختيار اللغة المستهدفة:', url=None, callback_data='dummy', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇸🇦 العربية ✅', url=None, callback_data='set_target_lang_ar_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇺🇸 الإنجليزية', url=None, callback_data='set_target_lang_en_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇫🇷 الفرنسية', url=None, callback_data='set_target_lang_fr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇩🇪 الألمانية', url=None, callback_data='set_target_lang_de_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇪🇸 الإسبانية', url=None, callback_data='set_target_lang_es_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇷🇺 الروسية', url=None, callback_data='set_target_lang_ru_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🇹🇷 التركية', url=None, callback_data='set_target_lang_tr_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🇮🇷 الفارسية', url=None, callback_data='set_target_lang_fa_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 اختبار الترجمة', url=None, callback_data='test_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📊 إحصائيات الترجمة', url=None, callback_data='translation_stats_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚙️ إعدادات متقدمة', url=None, callback_data='translation_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:56:38 | INFO     | handlers.tasks:_handle_translation_setting:7580 - Translation settings displayed for task 1
2025-06-20 07:56:38 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 07:56:38 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 07:56:39 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 07:56:39 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 07:56:40 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:56:40 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:56:40 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:56:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:56:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:56:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:56:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:56:40 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:56:40 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:56:40 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:56:40 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:56:40 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:56:40 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 07:56:40 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:56:40 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:56:40 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:56:40 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:56:40 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:56:40 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 07:56:41 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 07:56:41 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 07:56:41 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:56:41 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:56:41 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:56:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:56:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:56:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:56:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:56:41 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:56:41 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:56:41 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:56:41 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:56:42 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 07:56:42 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 07:56:43 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 07:56:43 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 07:56:44 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 07:56:44 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 07:56:44 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 07:56:45 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 07:56:45 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 07:56:46 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 07:56:46 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 07:56:47 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 07:56:47 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 07:56:48 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 07:56:48 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 07:56:48 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 07:56:48 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 07:56:49 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 07:56:49 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 07:56:49 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 07:56:49 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 07:56:49 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 07:56:49 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 07:56:49 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 07:56:49 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 07:56:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:56:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:56:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:56:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:56:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:56:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:56:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:56:56 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:56:56 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:56:56 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:56:56 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:56:56 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:56:57 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:56:57 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:56:57 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:56:57 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:56:57 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:56:58 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 07:56:58 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 07:56:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_recurring_1
2025-06-20 07:56:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_recurring_1' from user 6556918772
2025-06-20 07:56:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_recurring_1
2025-06-20 07:56:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_recurring_1
2025-06-20 07:56:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:56:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_recurring_1 ===
2025-06-20 07:56:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_recurring_1' (type: <class 'str'>)
2025-06-20 07:56:58 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_recurring_1
2025-06-20 07:56:58 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_recurring_1
2025-06-20 07:56:58 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_recurring_1
2025-06-20 07:56:58 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_recurring_1
2025-06-20 07:57:00 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_recurring_1
2025-06-20 07:57:00 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_recurring_1' from user 6556918772
2025-06-20 07:57:00 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_recurring_1
2025-06-20 07:57:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_recurring_1
2025-06-20 07:57:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:57:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_recurring_1 ===
2025-06-20 07:57:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_recurring_1' (type: <class 'str'>)
2025-06-20 07:57:01 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:57:01 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 07:57:01 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 07:57:01 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 07:57:01 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 07:57:01 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 07:57:01 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 07:57:02 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 07:57:02 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 07:57:02 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 07:57:02 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 07:57:02 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 07:57:02 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_recurring_1
2025-06-20 07:57:02 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_recurring_1' from user 6556918772
2025-06-20 07:57:02 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_recurring_1
2025-06-20 07:57:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_recurring_1
2025-06-20 07:57:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:57:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_recurring_1 ===
2025-06-20 07:57:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_recurring_1' (type: <class 'str'>)
2025-06-20 07:57:02 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 07:57:02 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 07:57:02 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 07:57:02 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 07:57:02 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 07:57:02 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 07:57:02 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 07:57:02 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 07:57:03 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 07:57:03 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 07:57:03 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 07:57:03 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 07:57:03 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 07:57:04 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: add_recurring_1
2025-06-20 07:57:04 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'add_recurring_1' from user 6556918772
2025-06-20 07:57:04 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: add_recurring_1
2025-06-20 07:57:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: add_recurring_1
2025-06-20 07:57:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 07:57:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: add_recurring_1 ===
2025-06-20 07:57:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'add_recurring_1' (type: <class 'str'>)
2025-06-20 07:57:05 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 07:57:05 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 07:57:05 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 07:57:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:57:05 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 07:57:05 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 07:57:05 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 07:57:05 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 07:57:05 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 07:57:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:57:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: list_recurring_1
2025-06-20 07:57:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'list_recurring_1' from user 6556918772
2025-06-20 07:57:06 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: list_recurring_1
2025-06-20 07:57:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: interval_recurring_1
2025-06-20 07:57:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'interval_recurring_1' from user 6556918772
2025-06-20 07:57:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: interval_recurring_1
2025-06-20 07:57:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: interval_recurring_1
2025-06-20 07:57:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:57:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: interval_recurring_1 ===
2025-06-20 07:57:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'interval_recurring_1' (type: <class 'str'>)
2025-06-20 07:57:07 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback interval_recurring_1: TaskHandlers._handle_set_recurring_interval() missing 1 required positional argument: 'state'
2025-06-20 07:57:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:57:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:57:09 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:57:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:57:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:57:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:57:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:57:09 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:57:09 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:57:09 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:57:09 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:57:09 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:57:10 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:57:10 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:57:10 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:57:10 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:57:10 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:57:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:57:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:57:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:57:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:57:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:57:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:57:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:57:11 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:57:11 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:57:11 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:57:11 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:57:12 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 07:57:12 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 07:57:12 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 07:57:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 07:57:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 07:57:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 07:57:12 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback advanced_working_hours_1: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 07:57:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: workdays_1
2025-06-20 07:57:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'workdays_1' from user 6556918772
2025-06-20 07:57:13 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: workdays_1
2025-06-20 07:57:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:57:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:57:31 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:57:31 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:57:31 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:57:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:57:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:57:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:57:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:57:31 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:57:31 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:57:31 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:57:31 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:57:31 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:57:31 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:57:31 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:57:31 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:57:32 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:57:32 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:57:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_recurring_1
2025-06-20 07:57:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_recurring_1' from user 6556918772
2025-06-20 07:57:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_recurring_1
2025-06-20 07:57:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_recurring_1
2025-06-20 07:57:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 07:57:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_recurring_1 ===
2025-06-20 07:57:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_recurring_1' (type: <class 'str'>)
2025-06-20 07:57:33 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_recurring_1
2025-06-20 07:57:33 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_recurring_1
2025-06-20 07:57:33 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_recurring_1
2025-06-20 07:57:33 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_recurring_1
2025-06-20 07:57:35 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 07:57:35 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 07:57:35 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 07:57:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 07:57:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 07:57:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 07:57:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 07:57:35 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 07:57:35 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 07:57:35 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 07:57:35 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 07:57:35 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 07:57:36 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 07:57:36 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 07:57:36 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 07:57:36 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 07:57:36 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 07:57:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 07:57:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 07:57:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 07:57:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 07:57:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 07:57:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 07:57:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 07:57:38 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 07:57:38 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 07:57:38 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 07:57:38 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 07:58:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:58:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:58:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:58:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:59:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:59:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:59:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 07:59:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 07:59:32 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 07:59:32 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:00:06 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-20 08:00:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:00:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:00:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:00:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:00:32 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-20 08:00:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_translation_1
2025-06-20 08:00:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_translation_1' from user 6556918772
2025-06-20 08:00:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_translation_1
2025-06-20 08:00:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_translation_1
2025-06-20 08:00:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:00:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_translation_1 ===
2025-06-20 08:00:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_translation_1' (type: <class 'str'>)
2025-06-20 08:00:57 | INFO     | handlers.tasks:_handle_translation_setting:7537 - Loading translation settings for task 1
2025-06-20 08:00:57 | INFO     | handlers.tasks:_handle_translation_setting:7563 - Creating translation keyboard for task 1
2025-06-20 08:00:57 | INFO     | handlers.tasks:_handle_translation_setting:7565 - Translation keyboard created: inline_keyboard=[[InlineKeyboardButton(text='❌ تفعيل الترجمة', url=None, callback_data='toggle_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للمتقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:00:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:00:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:00:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:00:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:00:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:00:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:00:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:00:58 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:00:58 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:00:58 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:00:58 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_translation_setting:7568 - Translation settings displayed for task 1
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:00:58 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:00:58 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:01:00 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:01:00 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:01:00 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:01:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:01:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:01:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:01:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:01:00 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:01:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:01:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:01:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:01:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:01:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:01:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:01:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:01:06 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:01:06 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:01:06 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:01:06 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:01:06 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Starting advanced settings handler for task 1
2025-06-20 08:01:07 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:01:07 | INFO     | handlers.tasks:_handle_advanced_setting:7827 - Creating keyboard for task 1
2025-06-20 08:01:07 | INFO     | handlers.tasks:_handle_advanced_setting:7829 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:01:07 | INFO     | handlers.tasks:_handle_advanced_setting:7832 - Message edited successfully for task 1
2025-06-20 08:01:07 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:01:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:01:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:01:09 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:01:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:01:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:01:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:01:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:01:09 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:01:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_view_1
2025-06-20 08:01:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_view_1' from user 6556918772
2025-06-20 08:01:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_view_1
2025-06-20 08:01:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_view_1
2025-06-20 08:01:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 08:01:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_view_1 ===
2025-06-20 08:01:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_view_1' (type: <class 'str'>)
2025-06-20 08:01:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:01:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:01:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:01:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:01:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:01:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:01:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:01:20 | INFO     | handlers.tasks:_handle_task_view:1165 - Task view: Task 1 mode is bot
2025-06-20 08:01:22 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:01:22 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:01:22 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:01:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:01:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:01:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:01:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:01:22 | INFO     | handlers.tasks:_handle_task_settings:1330 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:01:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:01:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:01:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:01:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:01:38 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:01:38 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:01:38 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:01:38 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:01:38 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:01:50 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:01:51 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:01:51 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:01:52 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:01:52 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:01:53 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:01:53 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:01:53 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:01:54 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:01:54 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:01:55 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:01:55 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:01:56 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:01:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:01:57 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:01:57 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:01:58 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:01:58 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:01:59 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:01:59 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:02:00 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:02:00 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:02:01 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:02:01 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:02:02 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:02:02 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:02:03 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:02:03 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:02:03 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:02:04 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:02:04 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:02:05 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:02:05 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:02:05 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:02:06 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:02:06 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:02:06 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:02:06 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:02:06 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:02:06 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:02:06 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:02:06 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:02:15 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:02:15 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:02:18 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:02:18 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:02:18 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:02:18 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:02:18 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:02:18 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:02:18 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:02:19 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:02:19 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:02:19 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:02:19 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:02:19 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:02:19 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:02:20 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:02:20 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:02:20 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:02:20 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:02:20 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:02:20 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:02:20 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:02:20 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:02:20 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:02:20 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:02:20 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:02:20 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:02:20 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:02:22 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:02:22 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:02:22 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:02:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:02:23 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:02:23 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:02:23 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:02:23 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:02:23 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:02:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:02:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:02:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:02:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:02:33 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:02:33 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:02:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:02:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:02:45 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:02:45 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:02:46 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:02:46 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:02:47 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:02:47 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:02:48 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:02:48 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:02:49 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:02:49 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:02:50 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:02:50 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:02:51 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:02:51 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:02:51 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:02:52 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:02:52 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:02:53 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:02:53 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:02:54 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:02:54 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:02:55 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:02:55 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:02:56 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:02:56 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:02:57 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:02:57 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:02:58 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:02:58 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:02:58 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:02:59 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:02:59 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:02:59 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:02:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:03:00 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:03:00 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:03:00 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:03:00 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:03:00 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:03:00 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:03:00 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:03:00 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:03:09 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:03:09 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:03:12 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:03:12 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:03:12 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:03:12 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:03:12 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:03:12 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:03:12 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:03:13 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:03:13 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:03:13 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:03:13 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:03:13 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:03:14 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:03:14 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:03:14 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:03:14 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:03:14 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:03:14 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:03:14 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:03:14 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:03:14 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:03:14 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:03:14 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:03:14 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:03:14 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:03:14 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:03:16 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:03:16 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:03:16 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:03:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:03:17 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:03:17 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:03:17 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:03:17 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:03:17 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:03:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:03:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:03:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:03:55 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:03:55 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:03:55 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:03:55 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:03:55 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:04:07 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:04:07 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:04:08 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:04:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:04:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:04:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:04:08 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:04:08 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:04:08 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:04:09 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:04:09 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:04:10 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:04:10 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:04:11 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:04:11 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:04:12 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:04:12 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:04:13 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:04:13 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:04:14 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:04:14 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:04:14 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:04:15 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:04:15 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:04:16 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:04:16 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:04:17 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:04:17 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:04:18 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:04:18 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:04:19 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:04:19 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:04:20 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:04:20 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:04:20 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:04:20 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:04:21 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:04:21 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:04:21 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:04:21 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:04:21 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:04:21 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:04:22 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:04:22 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:04:22 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:04:22 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:04:22 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:04:22 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:04:22 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:04:22 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:04:22 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:04:22 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:04:22 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:04:23 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:04:23 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:04:24 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:04:24 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:04:25 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:04:25 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:04:26 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:04:26 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:04:27 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:04:27 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:04:28 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:04:28 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:04:28 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:04:29 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:04:29 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:04:30 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:04:30 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:04:31 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:04:31 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:04:31 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:04:31 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:04:32 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:04:32 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:04:33 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:04:33 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:04:33 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:04:34 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:04:34 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:04:34 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:04:34 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:04:34 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:04:34 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:04:34 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:04:34 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:04:34 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:04:34 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:04:34 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:04:35 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:04:35 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:04:35 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:04:35 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:04:35 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:04:35 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:04:35 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:04:35 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:04:35 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:04:35 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:04:35 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:04:35 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:04:35 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:04:36 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:04:36 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:04:36 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:04:36 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:04:36 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:04:36 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:04:36 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:04:36 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:04:36 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:04:36 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:04:36 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:04:36 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:04:36 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:04:36 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:04:38 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:04:38 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:04:38 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:04:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:04:39 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:04:39 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:04:39 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:04:39 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:04:39 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:04:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:04:41 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 08:04:44 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 08:04:44 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:04:44 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:04:45 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 08:04:45 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:04:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 08:04:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:04:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 08:04:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:04:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:04:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:04:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:04:47 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:04:47 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:04:47 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:04:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:04:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:04:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:04:47 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:04:48 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:04:48 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:04:48 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:04:48 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:04:48 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:04:49 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:04:49 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:04:49 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:04:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:04:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:04:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:04:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:04:49 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:04:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:04:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:04:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:04:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:04:49 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:04:49 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:04:49 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:04:49 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:04:49 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:04:49 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:04:49 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:04:49 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:04:49 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:04:51 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:04:51 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:04:51 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:04:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:04:51 | INFO     | handlers.tasks:_handle_task_view:1165 - Task view: Task 1 mode is bot
2025-06-20 08:04:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:04:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:04:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:04:52 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:04:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:04:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:04:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:04:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:04:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:04:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:04:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:04:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:04:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:04:53 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:04:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:04:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:04:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:04:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:04:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:04:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:04:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:04:55 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:04:55 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:04:55 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:04:55 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:04:55 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:04:55 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:04:55 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:04:55 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:04:55 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:04:55 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:04:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:04:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:04:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:04:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:04:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:04:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:04:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:04:56 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:04:56 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:04:56 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:04:56 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:04:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_auto_translate_1
2025-06-20 08:04:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_auto_translate_1' from user 6556918772
2025-06-20 08:04:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_auto_translate_1
2025-06-20 08:04:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_auto_translate_1
2025-06-20 08:04:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 08:04:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_auto_translate_1 ===
2025-06-20 08:04:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_auto_translate_1' (type: <class 'str'>)
2025-06-20 08:05:00 | INFO     | handlers.tasks:_handle_advanced_translation:7828 - Advanced translation handler called for task 1
2025-06-20 08:05:01 | INFO     | handlers.tasks:_handle_advanced_translation:7858 - Translation settings displayed for task 1
2025-06-20 08:05:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_ar_1
2025-06-20 08:05:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_ar_1' from user 6556918772
2025-06-20 08:05:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_ar_1
2025-06-20 08:05:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_ar_1
2025-06-20 08:05:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:05:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_ar_1 ===
2025-06-20 08:05:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_ar_1' (type: <class 'str'>)
2025-06-20 08:05:16 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_source_lang_ar_1: TaskHandlers._handle_set_source_language() takes 3 positional arguments but 4 were given
2025-06-20 08:05:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_ar_1
2025-06-20 08:05:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_ar_1' from user 6556918772
2025-06-20 08:05:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_ar_1
2025-06-20 08:05:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_ar_1
2025-06-20 08:05:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:05:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_ar_1 ===
2025-06-20 08:05:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_ar_1' (type: <class 'str'>)
2025-06-20 08:05:16 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_source_lang_ar_1: TaskHandlers._handle_set_source_language() takes 3 positional arguments but 4 were given
2025-06-20 08:05:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 08:05:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 08:05:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 08:05:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 08:05:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:05:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 08:05:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 08:05:19 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 1 required positional argument: 'state'
2025-06-20 08:05:23 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:05:23 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:05:23 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:05:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:05:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:05:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:05:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:05:23 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:05:23 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:05:23 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:05:23 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:05:23 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:05:24 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:05:24 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:05:24 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:05:24 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:05:24 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:05:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:05:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:05:26 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:05:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:05:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:05:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:05:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:05:26 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:05:26 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:05:26 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:05:26 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:05:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: source_lang_1
2025-06-20 08:05:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-20 08:05:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_auto_translate_1
2025-06-20 08:05:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_auto_translate_1' from user 6556918772
2025-06-20 08:05:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_auto_translate_1
2025-06-20 08:05:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_auto_translate_1
2025-06-20 08:05:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 08:05:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_auto_translate_1 ===
2025-06-20 08:05:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_auto_translate_1' (type: <class 'str'>)
2025-06-20 08:05:31 | INFO     | handlers.tasks:_handle_advanced_translation:7828 - Advanced translation handler called for task 1
2025-06-20 08:05:32 | INFO     | handlers.tasks:_handle_advanced_translation:7858 - Translation settings displayed for task 1
2025-06-20 08:05:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:05:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:05:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:05:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:05:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:05:56 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:05:56 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:06:08 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:06:09 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:06:09 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:06:10 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:06:10 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:06:11 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:06:11 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:06:12 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:06:12 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:06:13 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:06:13 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:06:14 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:06:14 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:06:14 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:06:15 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:06:15 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:06:16 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:06:16 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:06:17 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:06:17 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:06:18 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:06:18 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:06:19 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:06:19 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:06:20 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:06:20 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:06:21 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:06:21 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:06:22 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:06:22 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:06:22 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:06:23 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:06:23 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:06:23 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:06:24 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:06:24 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:06:24 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:06:24 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:06:24 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:06:24 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:06:24 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:06:24 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:06:33 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:06:33 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:06:36 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:06:36 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:06:36 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:06:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:06:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:06:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:06:36 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:06:37 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:06:37 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:06:37 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:06:37 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:06:37 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:06:38 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:06:38 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:06:38 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:06:38 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:06:38 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:06:38 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:06:38 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:06:38 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:06:38 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:06:38 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:06:38 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:06:38 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:06:38 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:06:38 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:06:40 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:06:40 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:06:40 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:06:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:06:41 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:06:41 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:06:41 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:06:41 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:06:41 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:06:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:06:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:06:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:07:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:07:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:07:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:07:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:08:28 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:08:28 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:08:28 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:08:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:08:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:08:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:08:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:08:28 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:08:28 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:08:28 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:08:28 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:08:28 | INFO     | handlers.tasks:_handle_advanced_setting:7801 - Starting advanced settings handler for task 1
2025-06-20 08:08:29 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:08:29 | INFO     | handlers.tasks:_handle_advanced_setting:7813 - Creating keyboard for task 1
2025-06-20 08:08:29 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:08:29 | INFO     | handlers.tasks:_handle_advanced_setting:7818 - Message edited successfully for task 1
2025-06-20 08:08:29 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:08:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:08:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:08:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:08:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:08:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:08:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:08:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:08:30 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:08:30 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:08:30 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:08:30 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:08:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_auto_translate_1
2025-06-20 08:08:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_auto_translate_1' from user 6556918772
2025-06-20 08:08:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_auto_translate_1
2025-06-20 08:08:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_auto_translate_1
2025-06-20 08:08:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 08:08:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_auto_translate_1 ===
2025-06-20 08:08:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_auto_translate_1' (type: <class 'str'>)
2025-06-20 08:08:34 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:08:35 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:08:37 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: dummy
2025-06-20 08:08:37 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'dummy' from user 6556918772
2025-06-20 08:08:37 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: dummy
2025-06-20 08:08:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:08:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:08:44 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:08:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:08:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:08:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:08:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:08:44 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:08:44 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:08:44 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:08:44 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:08:44 | INFO     | handlers.tasks:_handle_advanced_setting:7801 - Starting advanced settings handler for task 1
2025-06-20 08:08:44 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:08:44 | INFO     | handlers.tasks:_handle_advanced_setting:7813 - Creating keyboard for task 1
2025-06-20 08:08:44 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:08:44 | INFO     | handlers.tasks:_handle_advanced_setting:7818 - Message edited successfully for task 1
2025-06-20 08:08:44 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:08:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:08:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:08:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:08:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:08:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:08:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:08:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:08:46 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:08:46 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:08:46 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:08:46 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:08:48 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_auto_translate_1
2025-06-20 08:08:48 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_auto_translate_1' from user 6556918772
2025-06-20 08:08:48 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_auto_translate_1
2025-06-20 08:08:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_auto_translate_1
2025-06-20 08:08:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 08:08:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_auto_translate_1 ===
2025-06-20 08:08:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_auto_translate_1' (type: <class 'str'>)
2025-06-20 08:08:49 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:08:50 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:08:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:08:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:08:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:08:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:09:01 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_auto_translate_1
2025-06-20 08:09:01 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_auto_translate_1' from user 6556918772
2025-06-20 08:09:01 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_auto_translate_1
2025-06-20 08:09:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_auto_translate_1
2025-06-20 08:09:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-20 08:09:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_auto_translate_1 ===
2025-06-20 08:09:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_auto_translate_1' (type: <class 'str'>)
2025-06-20 08:09:02 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:03 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_auto_1
2025-06-20 08:09:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_auto_1' from user 6556918772
2025-06-20 08:09:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_auto_1
2025-06-20 08:09:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_auto_1
2025-06-20 08:09:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:09:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_auto_1 ===
2025-06-20 08:09:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_auto_1' (type: <class 'str'>)
2025-06-20 08:09:06 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:07 | ERROR    | handlers.tasks:_handle_advanced_translation:7859 - Error in advanced translation handler: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:09:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_en_1
2025-06-20 08:09:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_en_1' from user 6556918772
2025-06-20 08:09:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_en_1
2025-06-20 08:09:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_en_1
2025-06-20 08:09:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_en_1 ===
2025-06-20 08:09:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_en_1' (type: <class 'str'>)
2025-06-20 08:09:11 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:12 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:12 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_ar_1
2025-06-20 08:09:12 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_ar_1' from user 6556918772
2025-06-20 08:09:12 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_ar_1
2025-06-20 08:09:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_ar_1
2025-06-20 08:09:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_ar_1 ===
2025-06-20 08:09:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_ar_1' (type: <class 'str'>)
2025-06-20 08:09:13 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:14 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 08:09:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 08:09:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 08:09:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 08:09:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 08:09:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 08:09:18 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 1 required positional argument: 'state'
2025-06-20 08:09:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_fr_1
2025-06-20 08:09:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_fr_1' from user 6556918772
2025-06-20 08:09:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_fr_1
2025-06-20 08:09:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_fr_1
2025-06-20 08:09:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_fr_1 ===
2025-06-20 08:09:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_fr_1' (type: <class 'str'>)
2025-06-20 08:09:22 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:22 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 08:09:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 08:09:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 08:09:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 08:09:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 08:09:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 08:09:24 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback set_target_lang_en_1: TaskHandlers._handle_set_target_language() missing 1 required positional argument: 'state'
2025-06-20 08:09:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_target_lang_en_1
2025-06-20 08:09:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_target_lang_en_1' from user 6556918772
2025-06-20 08:09:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_target_lang_en_1
2025-06-20 08:09:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_target_lang_en_1
2025-06-20 08:09:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:09:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_target_lang_en_1 ===
2025-06-20 08:09:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_target_lang_en_1' (type: <class 'str'>)
2025-06-20 08:09:27 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:28 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: set_source_lang_auto_1
2025-06-20 08:09:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'set_source_lang_auto_1' from user 6556918772
2025-06-20 08:09:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: set_source_lang_auto_1
2025-06-20 08:09:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_source_lang_auto_1
2025-06-20 08:09:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:09:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_source_lang_auto_1 ===
2025-06-20 08:09:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_source_lang_auto_1' (type: <class 'str'>)
2025-06-20 08:09:37 | INFO     | handlers.tasks:_handle_advanced_translation:7826 - Advanced translation handler called for task 1
2025-06-20 08:09:37 | INFO     | handlers.tasks:_handle_advanced_translation:7856 - Translation settings displayed for task 1
2025-06-20 08:09:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: dummy
2025-06-20 08:09:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'dummy' from user 6556918772
2025-06-20 08:09:43 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: dummy
2025-06-20 08:09:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:09:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:09:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:09:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:09:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:09:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:09:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:09:46 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:09:46 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:09:46 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:09:46 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:09:46 | INFO     | handlers.tasks:_handle_advanced_setting:7801 - Starting advanced settings handler for task 1
2025-06-20 08:09:47 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:09:47 | INFO     | handlers.tasks:_handle_advanced_setting:7813 - Creating keyboard for task 1
2025-06-20 08:09:47 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:09:47 | INFO     | handlers.tasks:_handle_advanced_setting:7818 - Message edited successfully for task 1
2025-06-20 08:09:47 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:09:47 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:09:47 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:09:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:09:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:09:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:09:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:09:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:09:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:09:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:09:50 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:09:50 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:09:50 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:09:50 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:09:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:09:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:10:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:10:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:10:06 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1846)
2025-06-20 08:10:07 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:10:07 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:10:07 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-20 08:10:07 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:10:09 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasirah2'
2025-06-20 08:10:09 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:10:09 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:10:09 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:10:10 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:10:10 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:10:10 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\n⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-20 08:10:10 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\n⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/...'
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:10:10 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:10:10 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:10:10 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:10:10 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:10:10 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:10:12 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1846 from -1002289754739 forwarded successfully
2025-06-20 08:11:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:11:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:11:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:11:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:11:38 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1001470989107 (message 145595)
2025-06-20 08:11:39 | WARNING  | bot_controller:handle_channel_message:913 - Message 145595 from -1001470989107 was not forwarded
2025-06-20 08:11:49 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:11:49 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:12:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:12:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:12:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:12:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:12:11 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:12:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:12:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:12:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:12:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:12:11 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:12:11 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:12:11 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:12:11 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:12:11 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:12:13 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:12:13 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:12:13 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:12:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:12:14 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:12:14 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:12:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:12:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:12:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:12:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:12:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:12:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:12:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:12:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:12:16 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:12:18 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:12:18 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:12:18 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:12:18 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:12:18 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:12:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 08:12:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:12:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 08:12:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:12:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:12:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:12:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:12:18 | INFO     | handlers.tasks:_handle_content_setting:1925 - Content setting accessed for task 1
2025-06-20 08:12:18 | INFO     | handlers.tasks:_handle_content_setting:1966 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:12:18 | INFO     | handlers.tasks:_handle_content_setting:1967 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:12:19 | INFO     | handlers.tasks:_handle_content_setting:1973 - Content message updated with new text and keyboard
2025-06-20 08:12:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_replace_1
2025-06-20 08:12:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:12:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_replace_1
2025-06-20 08:12:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:12:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:12:19 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:12:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:12:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:12:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: replace_bulk_add_1
2025-06-20 08:12:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'replace_bulk_add_1' from user 6556918772
2025-06-20 08:12:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: replace_bulk_add_1
2025-06-20 08:12:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_bulk_add_1
2025-06-20 08:12:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:12:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_bulk_add_1 ===
2025-06-20 08:12:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_bulk_add_1' (type: <class 'str'>)
2025-06-20 08:12:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: replace_add_1
2025-06-20 08:12:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'replace_add_1' from user 6556918772
2025-06-20 08:12:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: replace_add_1
2025-06-20 08:12:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_add_1
2025-06-20 08:12:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 08:12:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_add_1 ===
2025-06-20 08:12:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_add_1' (type: <class 'str'>)
2025-06-20 08:12:29 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_replace_1
2025-06-20 08:12:29 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:12:29 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_replace_1
2025-06-20 08:12:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:12:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:12:29 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:12:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:12:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:12:30 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:12:31 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:12:31 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:12:32 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:12:32 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:12:32 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:12:33 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:12:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: replace_list_1
2025-06-20 08:12:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'replace_list_1' from user 6556918772
2025-06-20 08:12:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: replace_list_1
2025-06-20 08:12:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_list_1
2025-06-20 08:12:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 08:12:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_list_1 ===
2025-06-20 08:12:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_list_1' (type: <class 'str'>)
2025-06-20 08:12:33 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:12:34 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:12:34 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:12:35 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:12:35 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:12:36 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:12:36 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:12:37 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:12:37 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:12:38 | INFO     | __main__:signal_handler:371 - Received signal 15, shutting down...
2025-06-20 08:12:38 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-06-20 08:12:38 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:273 - Could not add working_hours_enabled column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:282 - Could not add start_hour column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:291 - Could not add end_hour column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:300 - Could not add timezone column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:309 - Could not add recurring_post_enabled column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:318 - Could not add recurring_post_content column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:327 - Could not add recurring_interval_hours column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:337 - Could not add format_settings column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:347 - Could not add text_cleaner_settings column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:357 - Could not add replace_text column: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:368 - Could not add prefix/suffix columns: pool is closing
2025-06-20 08:12:38 | WARNING  | database:migrate_columns:380 - Could not add inline buttons columns: pool is closing
2025-06-20 08:12:38 | WARNING  | database:create_advanced_tables:405 - Could not create manual_approvals table: pool is closing
2025-06-20 08:12:38 | WARNING  | database:create_advanced_tables:424 - Could not create message_tracking table: pool is closing
2025-06-20 08:12:38 | WARNING  | database:create_advanced_tables:446 - Could not create recurring_posts table: pool is closing
2025-06-20 08:12:38 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:12:38 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:12:38 | ERROR    | security:_load_user_permissions:82 - Failed to load user permissions: pool is closing
2025-06-20 08:12:38 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:12:38 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:12:38 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:12:38 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:12:38 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:12:38 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:12:38 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_users: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_users: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for admin_users: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_tasks: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_tasks: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_sources: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_targets: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_messages: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for successful_messages: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for failed_messages: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_today: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_week: pool is closing
2025-06-20 08:12:38 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_month: pool is closing
2025-06-20 08:12:38 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:12:38 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:12:38 | ERROR    | database:get_active_tasks:540 - Failed to get active tasks with sources/targets: pool is closing
2025-06-20 08:12:38 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 0 active tasks
2025-06-20 08:12:38 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:12:38 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:12:38 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:12:38 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:12:38 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:12:38 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:12:38 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-20 08:12:38 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:12:38 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:12:38 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:12:38 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:12:38 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:12:38 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-20 08:12:38 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:12:38 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:12:38 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:12:38 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:12:38 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:12:38 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:12:38 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:12:38 | INFO     | database:close:695 - Connection pool closed
2025-06-20 08:12:38 | INFO     | database:close:699 - Database engine disposed
2025-06-20 08:12:38 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-06-20 08:12:38 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-06-20 08:12:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:12:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:12:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:12:43 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:12:43 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:12:55 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:12:55 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:12:56 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:12:56 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:12:57 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:12:57 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:12:58 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:12:58 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1847)
2025-06-20 08:12:58 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:12:58 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:12:59 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:12:59 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:12:59 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:12:59 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: '#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المسا...'
2025-06-20 08:12:59 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:12:59 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:13:00 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:13:00 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:13:01 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: '#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.'
2025-06-20 08:13:01 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:13:01 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:13:01 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:13:01 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:13:01 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:13:01 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:13:01 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:13:01 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\n#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.'' (Bold: False)
2025-06-20 08:13:01 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\n#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.''
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيت...'
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:13:01 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:13:01 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:13:01 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:13:01 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:13:01 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:13:02 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:13:02 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:13:03 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:13:03 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:13:04 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:13:04 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1847 from -1002289754739 forwarded successfully
2025-06-20 08:13:04 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:13:04 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:13:05 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:13:05 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:13:06 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:13:06 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:13:07 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:13:07 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:13:08 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:13:08 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:13:09 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:13:09 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:13:09 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:13:09 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:13:10 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:13:10 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:13:10 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:13:10 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:13:10 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:13:10 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:13:10 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:13:10 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:13:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:13:19 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:13:19 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:13:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:13:20 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1848)
2025-06-20 08:13:21 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:13:22 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:13:22 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: '#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المسا...'
2025-06-20 08:13:22 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:13:22 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:13:22 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:13:22 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:13:22 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:13:22 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:13:22 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:13:22 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:13:23 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: '#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.'
2025-06-20 08:13:23 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:13:23 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:13:23 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:13:23 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:13:23 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:13:23 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:13:23 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:13:23 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:13:23 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:13:23 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:13:23 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\n#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.'' (Bold: False)
2025-06-20 08:13:23 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\n#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيتها عشرات الشهداء والإصابات.''
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
#عاجل | قوات الاحتلال ترتكب مجزرة بحق منتظري المساعدات قرب حاجز نتساريم وسط قطاع غزة، راح ضحيت...'
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:13:23 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:13:23 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:13:23 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:13:23 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:13:23 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:13:23 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:13:23 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:13:23 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:13:23 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:13:23 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:13:23 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:13:23 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:13:23 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:13:24 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:13:24 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:13:24 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:13:24 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:13:24 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:13:24 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:13:25 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1848 from -1002289754739 forwarded successfully
2025-06-20 08:13:25 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:13:25 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:13:25 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:13:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:13:26 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:13:26 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:13:26 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:13:26 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:13:26 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:13:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:13:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_replace_1
2025-06-20 08:13:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:13:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_replace_1
2025-06-20 08:13:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:13:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:13:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:13:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:13:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:14:04 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1849)
2025-06-20 08:14:05 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:14:05 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:14:05 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: 'سابر...'
2025-06-20 08:14:05 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:14:06 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: 'سابر'
2025-06-20 08:14:06 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:14:06 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:14:06 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:14:07 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:14:07 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:14:07 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\nسابر'' (Bold: False)
2025-06-20 08:14:07 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\nسابر''
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
سابر...'
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:14:07 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:14:07 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:14:07 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:14:07 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:14:07 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:14:08 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1849 from -1002289754739 forwarded successfully
2025-06-20 08:14:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:14:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:14:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:14:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:14:39 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 08:14:39 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:14:39 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 08:14:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:14:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:14:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:14:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:14:39 | INFO     | handlers.tasks:_handle_content_setting:1923 - Content setting accessed for task 1
2025-06-20 08:14:39 | INFO     | handlers.tasks:_handle_content_setting:1964 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:14:39 | INFO     | handlers.tasks:_handle_content_setting:1965 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:14:39 | INFO     | handlers.tasks:_handle_content_setting:1971 - Content message updated with new text and keyboard
2025-06-20 08:14:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_replace_1
2025-06-20 08:14:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:14:44 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_replace_1
2025-06-20 08:14:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:14:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:14:44 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:14:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:14:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:14:51 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:14:51 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:14:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: replace_list_1
2025-06-20 08:14:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'replace_list_1' from user 6556918772
2025-06-20 08:14:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: replace_list_1
2025-06-20 08:14:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_list_1
2025-06-20 08:14:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 08:14:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_list_1 ===
2025-06-20 08:14:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_list_1' (type: <class 'str'>)
2025-06-20 08:15:03 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1850)
2025-06-20 08:15:04 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:15:04 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:15:04 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: 'سابر...'
2025-06-20 08:15:04 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:15:05 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: 'سابر'
2025-06-20 08:15:05 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:15:05 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:15:05 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:15:06 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:15:06 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:15:06 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\nسابر'' (Bold: False)
2025-06-20 08:15:06 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\nسابر''
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
سابر...'
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:15:06 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:15:06 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:15:06 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:15:06 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:15:06 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:15:07 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1850 from -1002289754739 forwarded successfully
2025-06-20 08:15:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:15:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:15:31 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: content_replace_1
2025-06-20 08:15:31 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:15:31 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: content_replace_1
2025-06-20 08:15:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:15:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:15:31 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:15:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:15:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:15:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_content_1
2025-06-20 08:15:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:15:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_content_1
2025-06-20 08:15:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:15:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:15:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:15:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:15:33 | INFO     | handlers.tasks:_handle_content_setting:1925 - Content setting accessed for task 1
2025-06-20 08:15:33 | INFO     | handlers.tasks:_handle_content_setting:1966 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:15:33 | INFO     | handlers.tasks:_handle_content_setting:1967 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:15:33 | INFO     | handlers.tasks:_handle_content_setting:1973 - Content message updated with new text and keyboard
2025-06-20 08:15:34 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:15:34 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:15:34 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:15:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:15:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:15:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:15:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:15:34 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:15:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:15:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:15:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:15:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:15:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:15:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:15:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:15:36 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:15:36 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:15:36 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:15:36 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:15:36 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:15:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:15:36 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:15:36 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:15:36 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:15:36 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:15:36 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:15:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:15:37 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 08:15:37 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 08:15:37 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 08:15:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 08:15:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 08:15:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 08:15:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 08:15:37 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 08:15:37 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 08:15:37 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 08:15:37 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 08:15:39 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: timezone_1
2025-06-20 08:15:39 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'timezone_1' from user 6556918772
2025-06-20 08:15:39 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: timezone_1
2025-06-20 08:15:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: timezone_1
2025-06-20 08:15:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 10
2025-06-20 08:15:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: timezone_1 ===
2025-06-20 08:15:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'timezone_1' (type: <class 'str'>)
2025-06-20 08:15:39 | WARNING  | handlers.tasks:handle_callback:907 - Unhandled task callback: timezone_1
2025-06-20 08:15:41 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_workhours_1
2025-06-20 08:15:41 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_workhours_1' from user 6556918772
2025-06-20 08:15:41 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_workhours_1
2025-06-20 08:15:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_workhours_1
2025-06-20 08:15:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:15:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_workhours_1 ===
2025-06-20 08:15:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_workhours_1' (type: <class 'str'>)
2025-06-20 08:16:20 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:16:20 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:16:20 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:16:20 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:16:20 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:16:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:16:31 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:16:32 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:16:32 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:16:33 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:16:33 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:16:34 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:16:34 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:16:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:16:35 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:16:35 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:16:36 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:16:36 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:16:36 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:16:37 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:16:37 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:16:38 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:16:38 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:16:39 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:16:39 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:16:40 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:16:40 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:16:41 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:16:41 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:16:42 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:16:42 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:16:43 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:16:43 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:16:43 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:16:44 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:16:44 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:16:45 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:16:45 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:16:46 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:16:46 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:16:46 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:16:47 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:16:47 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:16:47 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:16:47 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:16:47 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:16:47 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:16:47 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:16:47 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:16:56 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:16:56 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:16:59 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:16:59 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:16:59 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:16:59 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:16:59 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:16:59 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:16:59 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:17:00 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:17:00 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:17:00 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:17:00 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:17:00 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:17:00 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:17:00 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:17:00 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:17:00 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:17:00 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:17:00 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:17:00 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:17:00 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:17:01 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:17:01 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:17:01 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:17:01 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:17:01 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:17:01 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:17:02 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:17:02 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:17:02 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:17:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:17:03 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:17:03 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:17:03 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:17:03 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:17:03 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:17:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:17:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:17:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:17:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:17:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:17:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:17:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:17:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:17:05 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:17:05 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:17:05 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:17:05 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:17:05 | INFO     | handlers.tasks:_handle_advanced_setting:7801 - Starting advanced settings handler for task 1
2025-06-20 08:17:06 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:17:06 | INFO     | handlers.tasks:_handle_advanced_setting:7813 - Creating keyboard for task 1
2025-06-20 08:17:06 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:17:06 | INFO     | handlers.tasks:_handle_advanced_setting:7818 - Message edited successfully for task 1
2025-06-20 08:17:06 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:17:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_recurring_1
2025-06-20 08:17:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_recurring_1' from user 6556918772
2025-06-20 08:17:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_recurring_1
2025-06-20 08:17:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_recurring_1
2025-06-20 08:17:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:17:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_recurring_1 ===
2025-06-20 08:17:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_recurring_1' (type: <class 'str'>)
2025-06-20 08:17:07 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_recurring_1
2025-06-20 08:17:07 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_recurring_1
2025-06-20 08:17:07 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_recurring_1
2025-06-20 08:17:07 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_recurring_1
2025-06-20 08:17:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: list_recurring_1
2025-06-20 08:17:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'list_recurring_1' from user 6556918772
2025-06-20 08:17:09 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: list_recurring_1
2025-06-20 08:17:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:17:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:17:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:17:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:17:44 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:17:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:17:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:17:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:17:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:17:44 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:17:44 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:17:44 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:17:44 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:17:44 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:17:45 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:17:45 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:17:52 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:17:52 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:17:52 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:17:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:17:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:17:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:17:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:17:52 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:17:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:17:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:17:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:17:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:17:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:17:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:17:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:17:57 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_forwarded_1
2025-06-20 08:17:57 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_forwarded_1' from user 6556918772
2025-06-20 08:17:57 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_forwarded_1
2025-06-20 08:17:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_forwarded_1
2025-06-20 08:17:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:17:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_forwarded_1 ===
2025-06-20 08:17:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_forwarded_1' (type: <class 'str'>)
2025-06-20 08:17:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:17:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:17:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:17:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:17:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:17:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:17:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:18:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_days_1
2025-06-20 08:18:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_days_1' from user 6556918772
2025-06-20 08:18:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_days_1
2025-06-20 08:18:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_days_1
2025-06-20 08:18:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 08:18:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_days_1 ===
2025-06-20 08:18:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_days_1' (type: <class 'str'>)
2025-06-20 08:18:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:18:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:18:11 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: day_filter_toggle_1
2025-06-20 08:18:11 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'day_filter_toggle_1' from user 6556918772
2025-06-20 08:18:11 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: day_filter_toggle_1
2025-06-20 08:18:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: day_toggle_thursday_1
2025-06-20 08:18:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'day_toggle_thursday_1' from user 6556918772
2025-06-20 08:18:13 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: day_toggle_thursday_1
2025-06-20 08:18:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:18:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:18:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:18:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:18:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:18:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:18:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:18:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:18:15 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:18:15 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:18:15 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:18:15 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:18:15 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:18:15 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:18:15 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:18:15 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:18:15 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:18:17 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:18:17 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:18:17 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:18:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:18:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:18:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:18:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:18:17 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:18:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:18:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:18:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:18:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:18:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:18:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:18:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:18:30 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:18:30 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:18:30 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:18:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:18:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:18:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:18:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:18:30 | INFO     | handlers.tasks:_handle_task_settings:1337 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:18:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:18:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:18:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:18:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:18:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:18:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:18:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:18:36 | INFO     | handlers.tasks:_handle_task_view:1165 - Task view: Task 1 mode is bot
2025-06-20 08:18:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:18:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:19:06 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:19:06 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:19:06 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:19:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:19:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:19:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:19:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:19:06 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:19:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:19:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:19:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:19:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:19:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:19:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:19:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:19:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:19:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:19:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:19:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:19:54 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:19:54 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:20:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:20:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:20:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:20:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:20:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:20:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:20:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:20:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:20:18 | INFO     | handlers.tasks:_handle_task_settings:1337 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:20:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:20:20 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 08:20:20 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:20:20 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 08:20:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:20:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:20:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:20:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:20:22 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:20:22 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:20:22 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:20:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:20:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:20:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:20:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:20:22 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:20:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:20:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:20:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:20:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:20:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:20:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:20:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:20:26 | INFO     | handlers.tasks:_handle_task_view:1163 - Task view: Task 1 mode is bot
2025-06-20 08:20:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:20:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:21:03 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:21:03 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:21:03 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:21:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:21:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:21:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:21:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:21:03 | INFO     | handlers.tasks:_handle_task_settings:1337 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:21:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:21:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:21:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:21:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:21:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:21:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:21:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:21:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:21:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:21:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:21:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:21:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:21:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:21:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:21:06 | ERROR    | handlers.tasks:_handle_filters_setting:1915 - Error in filters setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:21:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_days_1
2025-06-20 08:21:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_days_1' from user 6556918772
2025-06-20 08:21:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_days_1
2025-06-20 08:21:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_days_1
2025-06-20 08:21:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 08:21:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_days_1 ===
2025-06-20 08:21:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_days_1' (type: <class 'str'>)
2025-06-20 08:21:10 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:21:10 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:21:10 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:21:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:21:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:21:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:21:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:21:10 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:21:10 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:21:10 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:21:10 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:21:10 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:21:10 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:21:10 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:21:10 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:21:11 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:21:11 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:21:15 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_recurring_1
2025-06-20 08:21:15 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_recurring_1' from user 6556918772
2025-06-20 08:21:15 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_recurring_1
2025-06-20 08:21:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_recurring_1
2025-06-20 08:21:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-20 08:21:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_recurring_1 ===
2025-06-20 08:21:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_recurring_1' (type: <class 'str'>)
2025-06-20 08:21:15 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_recurring_1
2025-06-20 08:21:15 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_recurring_1
2025-06-20 08:21:15 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_recurring_1
2025-06-20 08:21:15 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_recurring_1
2025-06-20 08:21:17 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:21:17 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:21:17 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:21:17 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:21:17 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:21:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: add_recurring_1
2025-06-20 08:21:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'add_recurring_1' from user 6556918772
2025-06-20 08:21:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: add_recurring_1
2025-06-20 08:21:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: add_recurring_1
2025-06-20 08:21:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:21:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: add_recurring_1 ===
2025-06-20 08:21:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'add_recurring_1' (type: <class 'str'>)
2025-06-20 08:21:19 | ERROR    | handlers.tasks:handle_callback:911 - Error in task callback add_recurring_1: 'TaskHandlers' object has no attribute '_handle_add_recurring_post'
2025-06-20 08:21:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:21:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:21:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:21:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:21:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:21:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:21:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:21:21 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:21:21 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:21:21 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:21:21 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:21:21 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:21:21 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:21:21 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:21:21 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:21:22 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:21:22 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:21:23 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 08:21:23 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 08:21:23 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 08:21:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 08:21:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 08:21:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 08:21:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 08:21:23 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 08:21:23 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 08:21:23 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 08:21:23 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 08:21:29 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:21:29 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: toggle_workhours_1
2025-06-20 08:21:29 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'toggle_workhours_1' from user 6556918772
2025-06-20 08:21:29 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: toggle_workhours_1
2025-06-20 08:21:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_workhours_1
2025-06-20 08:21:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:21:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_workhours_1 ===
2025-06-20 08:21:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_workhours_1' (type: <class 'str'>)
2025-06-20 08:21:29 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:21:30 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:21:30 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:21:31 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:21:31 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:21:32 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:21:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: end_hour_1
2025-06-20 08:21:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'end_hour_1' from user 6556918772
2025-06-20 08:21:32 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: end_hour_1
2025-06-20 08:21:32 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:21:33 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:21:33 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:21:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: breaks_1
2025-06-20 08:21:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'breaks_1' from user 6556918772
2025-06-20 08:21:33 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: breaks_1
2025-06-20 08:21:33 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:21:34 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:21:34 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:21:35 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: workdays_1
2025-06-20 08:21:35 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'workdays_1' from user 6556918772
2025-06-20 08:21:35 | WARNING  | bot_controller:handle_callback:728 - Unhandled callback in bot_controller: workdays_1
2025-06-20 08:21:35 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:21:35 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:21:36 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:21:36 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:21:37 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:21:37 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:21:38 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:21:38 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:21:39 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:21:39 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:21:40 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:21:40 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:21:41 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:21:41 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:21:42 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:21:42 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:21:43 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:21:43 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:21:44 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:21:44 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:21:44 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:21:44 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:21:44 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:21:44 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:21:44 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:21:44 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:21:44 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:21:44 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:21:44 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:21:48 | INFO     | __main__:signal_handler:371 - Received signal 15, shutting down...
2025-06-20 08:21:48 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-06-20 08:21:48 | SUCCESS  | __main__:shutdown:346 - Forwarding engine stopped
2025-06-20 08:21:48 | SUCCESS  | __main__:shutdown:356 - Bot session closed
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_sources: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_targets: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_messages: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for successful_messages: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for failed_messages: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_today: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_week: pool is closing
2025-06-20 08:21:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_month: pool is closing
2025-06-20 08:21:48 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:21:48 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:21:48 | ERROR    | database:get_active_tasks:540 - Failed to get active tasks with sources/targets: pool is closing
2025-06-20 08:21:48 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 0 active tasks
2025-06-20 08:21:48 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:21:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:21:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:21:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:21:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:21:48 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:21:48 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-20 08:21:48 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:21:48 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:21:48 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:21:48 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:21:48 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:21:48 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-20 08:21:48 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:21:48 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:21:48 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:21:48 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:21:48 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:21:48 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:21:48 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:21:48 | INFO     | database:close:695 - Connection pool closed
2025-06-20 08:21:49 | INFO     | database:close:699 - Database engine disposed
2025-06-20 08:21:49 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-06-20 08:21:49 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-06-20 08:21:53 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:21:53 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:21:53 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:21:53 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:21:53 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:21:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:21:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:22:04 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:22:05 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:22:05 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:22:06 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:22:06 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:22:07 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:22:07 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:22:08 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:22:08 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:22:09 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:22:09 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:22:10 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:22:10 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:22:11 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:22:11 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:22:12 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:22:12 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:22:13 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:22:13 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:22:14 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:22:14 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:22:15 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:22:15 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:22:16 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:22:16 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:22:17 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:22:17 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:22:18 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:22:18 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:22:19 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:22:19 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:22:19 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:22:19 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:22:19 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:22:20 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:22:20 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:22:20 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:22:20 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:22:20 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:22:20 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:22:20 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:22:20 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:22:30 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:22:30 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:22:33 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:22:33 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:22:33 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:22:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:22:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:22:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:22:33 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:22:34 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:22:34 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:22:34 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:22:34 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:22:34 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:22:34 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:22:34 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:22:34 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:22:34 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:22:34 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:22:34 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:22:34 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:22:34 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:22:35 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:22:35 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:22:35 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:22:35 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:22:35 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:22:35 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:22:37 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:22:37 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:22:37 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:22:37 | INFO     | bot_controller:handle_channel_message:905 - Channel post received from -1002289754739 (message 1851)
2025-06-20 08:22:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:22:38 | INFO     | forwarding_engine:process_channel_message:246 - Processing channel message from -1002289754739 for task 1
2025-06-20 08:22:38 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:22:38 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:22:38 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:22:38 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:22:38 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:22:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:22:38 | DEBUG    | forwarding_engine:process_message:1007 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-20 08:22:38 | INFO     | forwarding_engine:_should_process_message:1138 - Pure text message detected: 'سابر...'
2025-06-20 08:22:38 | INFO     | forwarding_engine:_should_process_message:1139 - Text filter setting: allow_text = True
2025-06-20 08:22:39 | INFO     | forwarding_engine:_should_process_message:1358 - DEBUG: Text message content: 'سابر'
2025-06-20 08:22:39 | INFO     | forwarding_engine:_should_process_message:1359 - DEBUG: keyword_filters raw: None
2025-06-20 08:22:39 | INFO     | forwarding_engine:_should_process_message:1360 - DEBUG: keyword_filter_mode: whitelist
2025-06-20 08:22:39 | INFO     | forwarding_engine:_should_process_message:1415 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:1787 - Applying text replacement rules: [{'old': 'سابر', 'new': 'تمام'}]
2025-06-20 08:22:40 | ERROR    | forwarding_engine:_forward_with_bot:1798 - Error applying text replacements: 'list' object has no attribute 'items'
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:1816 - Text cleaning: no changes needed
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:1878 - Applied header: 'هسهسه'
2025-06-20 08:22:40 | INFO     | forwarding_engine:_apply_formatting:2538 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-20 08:22:40 | INFO     | forwarding_engine:_apply_formatting:2621 - Successfully applied formatting: ''هسهسه\nسابر'' (Bold: False)
2025-06-20 08:22:40 | INFO     | forwarding_engine:_apply_formatting:2622 - DEBUG: Final formatted text being returned: ''هسهسه\nسابر''
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:1902 - Using text with headers/footers (no formatting changes): 'هسهسه
سابر...'
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:2022 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-20 08:22:40 | INFO     | forwarding_engine:_create_inline_buttons:1523 - Inline buttons are enabled, proceeding to create buttons
2025-06-20 08:22:40 | INFO     | forwarding_engine:_create_inline_buttons:1550 - Found 4 buttons to create
2025-06-20 08:22:40 | INFO     | forwarding_engine:_create_inline_buttons:1556 - Using new row structure with 2 rows
2025-06-20 08:22:40 | INFO     | forwarding_engine:_create_inline_buttons:1663 - Created custom inline keyboard with 2 rows
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:2025 - Custom inline buttons created successfully for modified text
2025-06-20 08:22:40 | INFO     | forwarding_engine:_forward_with_bot:2033 - Inline buttons added to send_kwargs for modified text message
2025-06-20 08:22:43 | SUCCESS  | bot_controller:handle_channel_message:911 - Message 1851 from -1002289754739 forwarded successfully
2025-06-20 08:22:47 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:22:47 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:22:47 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:22:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:22:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:22:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:22:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:22:47 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:22:47 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:22:47 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:22:47 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:22:47 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:22:48 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:22:48 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:22:48 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:22:48 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:22:48 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:22:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:22:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:22:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:22:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:22:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:22:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:22:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:22:50 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:22:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:22:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:22:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:22:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:22:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:22:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:22:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:22:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:23:01 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:01 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:01 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:01 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:03 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 08:23:03 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:23:03 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 08:23:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:23:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:23:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:23:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:23:03 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 08:23:03 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:23:03 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 08:23:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:23:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:23:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:23:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:23:04 | ERROR    | handlers.tasks:_handle_limits_setting:2075 - Error in limits setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:23:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:23:05 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_length_1
2025-06-20 08:23:05 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_length_1' from user 6556918772
2025-06-20 08:23:05 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_length_1
2025-06-20 08:23:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_length_1
2025-06-20 08:23:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_length_1 ===
2025-06-20 08:23:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_length_1' (type: <class 'str'>)
2025-06-20 08:23:05 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: filter_length_1
2025-06-20 08:23:05 | INFO     | handlers.tasks:handle_callback:424 - Routing to length filter main interface: filter_length_1
2025-06-20 08:23:05 | INFO     | handlers.tasks:_handle_length_filter:10652 - Loading enhanced length filter for task 1
2025-06-20 08:23:06 | INFO     | handlers.tasks:_handle_length_filter:10674 - Fresh data loaded for task 1: {'enabled': False, 'max_length': 4096, 'min_length': 0, 'action_mode': 'block'}
2025-06-20 08:23:06 | INFO     | handlers.tasks:_handle_length_filter:10797 - UI updated successfully for task 1 with timestamp 6755, action: block
2025-06-20 08:23:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:08 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:08 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:08 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:13 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:13 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:13 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:13 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:13 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:13 | ERROR    | handlers.tasks:_handle_task_settings:1412 - Error displaying task settings: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:23:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_forward_1
2025-06-20 08:23:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 08:23:18 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_forward_1
2025-06-20 08:23:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 08:23:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 08:23:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 08:23:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:19 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:19 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:24 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:24 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:24 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:32 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: user_filter_1
2025-06-20 08:23:32 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'user_filter_1' from user 6556918772
2025-06-20 08:23:32 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: user_filter_1
2025-06-20 08:23:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: user_filter_1
2025-06-20 08:23:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 08:23:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: user_filter_1 ===
2025-06-20 08:23:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'user_filter_1' (type: <class 'str'>)
2025-06-20 08:23:32 | WARNING  | handlers.tasks:handle_callback:907 - Unhandled task callback: user_filter_1
2025-06-20 08:23:33 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: user_filter_1
2025-06-20 08:23:33 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'user_filter_1' from user 6556918772
2025-06-20 08:23:33 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: user_filter_1
2025-06-20 08:23:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: user_filter_1
2025-06-20 08:23:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-20 08:23:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: user_filter_1 ===
2025-06-20 08:23:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'user_filter_1' (type: <class 'str'>)
2025-06-20 08:23:33 | WARNING  | handlers.tasks:handle_callback:907 - Unhandled task callback: user_filter_1
2025-06-20 08:23:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_duplicates_1
2025-06-20 08:23:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_duplicates_1' from user 6556918772
2025-06-20 08:23:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_duplicates_1
2025-06-20 08:23:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_duplicates_1
2025-06-20 08:23:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-20 08:23:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_duplicates_1 ===
2025-06-20 08:23:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_duplicates_1' (type: <class 'str'>)
2025-06-20 08:23:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:23:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:23:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:46 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:46 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:47 | ERROR    | handlers.tasks:_handle_task_settings:1412 - Error displaying task settings: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:23:51 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:51 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:51 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:23:56 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:23:56 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:23:56 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:23:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:23:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:23:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:23:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:23:56 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:23:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:23:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:23:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:23:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:23:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:23:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:23:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:24:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:24:07 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: filter_links_1
2025-06-20 08:24:07 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'filter_links_1' from user 6556918772
2025-06-20 08:24:07 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: filter_links_1
2025-06-20 08:24:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_links_1
2025-06-20 08:24:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-20 08:24:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_links_1 ===
2025-06-20 08:24:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_links_1' (type: <class 'str'>)
2025-06-20 08:24:09 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_filters_1
2025-06-20 08:24:09 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:24:09 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_filters_1
2025-06-20 08:24:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:24:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:24:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:24:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:24:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:24:12 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:24:12 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:24:12 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:24:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:24:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:24:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:24:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:24:12 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:17 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 08:24:17 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:24:17 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 08:24:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:24:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:24:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:24:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:24:22 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:24:22 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:24:22 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:24:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:24:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:24:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:24:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:24:22 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:25 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:24:25 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:24:25 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:24:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:24:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:24:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:24:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:24:25 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:24:25 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:24:25 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:24:25 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:24:25 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:24:26 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:24:26 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:24:26 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:26 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:24:26 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:24:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_translation_1
2025-06-20 08:24:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 08:24:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_translation_1
2025-06-20 08:24:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 08:24:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 08:24:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 08:24:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 08:24:27 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 08:24:27 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 08:24:27 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 08:24:27 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 08:24:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:24:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:24:43 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:24:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:24:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:24:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:24:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:24:43 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:24:43 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:24:43 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:24:43 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:24:43 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:24:44 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:24:44 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:24:44 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:44 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:24:44 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:24:45 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:24:45 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:24:45 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:24:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:24:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:24:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:24:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:24:45 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:24:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:24:48 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_limits_1
2025-06-20 08:24:48 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:24:48 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_limits_1
2025-06-20 08:24:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:24:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:24:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:24:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:24:50 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:24:50 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:24:50 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:24:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:24:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:24:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:24:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:24:50 | INFO     | handlers.tasks:_handle_task_settings:1339 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:24:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:24:53 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:24:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:24:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:24:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:24:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:24:53 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:24:53 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:24:53 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:24:53 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:24:53 | INFO     | handlers.tasks:_handle_advanced_setting:7803 - Starting advanced settings handler for task 1
2025-06-20 08:24:54 | INFO     | handlers.tasks:_handle_advanced_setting:7805 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:24:54 | INFO     | handlers.tasks:_handle_advanced_setting:7815 - Creating keyboard for task 1
2025-06-20 08:24:54 | INFO     | handlers.tasks:_handle_advanced_setting:7817 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:24:54 | INFO     | handlers.tasks:_handle_advanced_setting:7820 - Message edited successfully for task 1
2025-06-20 08:24:54 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:24:55 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: advanced_working_hours_1
2025-06-20 08:24:55 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-20 08:24:55 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: advanced_working_hours_1
2025-06-20 08:24:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-20 08:24:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-20 08:24:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-20 08:24:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-20 08:24:55 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-20 08:24:55 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-20 08:24:55 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-20 08:24:55 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-20 08:24:58 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: timezone_1
2025-06-20 08:24:58 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'timezone_1' from user 6556918772
2025-06-20 08:24:58 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: timezone_1
2025-06-20 08:24:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: timezone_1
2025-06-20 08:24:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 10
2025-06-20 08:24:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: timezone_1 ===
2025-06-20 08:24:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'timezone_1' (type: <class 'str'>)
2025-06-20 08:24:58 | WARNING  | handlers.tasks:handle_callback:907 - Unhandled task callback: timezone_1
2025-06-20 08:24:59 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:24:59 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:25:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:25:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:25:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: setting_advanced_1
2025-06-20 08:25:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:25:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: setting_advanced_1
2025-06-20 08:25:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:25:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:25:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:25:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:25:36 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:25:36 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:25:36 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:25:36 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:25:36 | INFO     | handlers.tasks:_handle_advanced_setting:7953 - Starting advanced settings handler for task 1
2025-06-20 08:25:36 | INFO     | handlers.tasks:_handle_advanced_setting:7955 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:25:36 | INFO     | handlers.tasks:_handle_advanced_setting:7965 - Creating keyboard for task 1
2025-06-20 08:25:36 | INFO     | handlers.tasks:_handle_advanced_setting:7967 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:25:36 | INFO     | handlers.tasks:_handle_advanced_setting:7970 - Message edited successfully for task 1
2025-06-20 08:25:36 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:25:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_settings_1
2025-06-20 08:25:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:25:38 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_settings_1
2025-06-20 08:25:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:25:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:25:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:25:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:25:38 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:25:40 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:25:40 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:25:40 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:25:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:25:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:25:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:25:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:25:42 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_view_1
2025-06-20 08:25:42 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:25:42 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_view_1
2025-06-20 08:25:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:25:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:25:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:25:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:25:42 | INFO     | handlers.tasks:_handle_task_view:1165 - Task view: Task 1 mode is bot
2025-06-20 08:25:46 | INFO     | handlers.tasks:_handle_task_view:1165 - Task view: Task 1 mode is bot
2025-06-20 08:25:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 08:25:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:25:46 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 08:25:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:25:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:25:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:25:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:25:46 | ERROR    | handlers.tasks:_handle_task_view:1170 - Error viewing task: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:25:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:25:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:26:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:26:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:26:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:26:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:27:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:27:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:27:46 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:27:46 | INFO     | forwarding_engine:_reload_tasks:2901 - Reloaded tasks: 2 active
2025-06-20 08:28:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:28:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:28:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:28:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:29:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:29:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:29:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:29:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:30:03 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:30:03 | INFO     | forwarding_engine:_reload_tasks:2865 - Reloaded tasks: 2 active
2025-06-20 08:30:16 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:30:16 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:30:16 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:30:16 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:30:16 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:30:27 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:30:28 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:30:28 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:30:29 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:30:29 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:30:30 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:30:30 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:30:31 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:30:31 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:30:32 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:30:32 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:30:32 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:30:33 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:30:33 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:30:34 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:30:34 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:30:35 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:30:35 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:30:36 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:30:36 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:30:37 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:30:37 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:30:38 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:30:38 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:30:39 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:30:39 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:30:39 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:30:40 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:30:40 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:30:41 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:30:41 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:30:42 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:30:42 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:30:42 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:30:42 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:30:42 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:30:42 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:30:43 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:30:43 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:30:43 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:30:43 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:30:43 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:30:52 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:30:52 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:30:55 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:30:55 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:30:55 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:30:55 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:30:55 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:30:55 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:30:55 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:30:55 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:30:55 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:30:55 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:30:55 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:30:55 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:30:56 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:30:56 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:30:56 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:30:56 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:30:56 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:30:56 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:30:56 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:30:56 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:30:57 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:30:57 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:30:57 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:30:57 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:30:57 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:30:57 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:30:58 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:30:58 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:30:58 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:30:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:30:59 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:30:59 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:30:59 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:30:59 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:30:59 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:30:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:31:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:32:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:33:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:33:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:33:15 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:33:15 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:33:15 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:33:15 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:33:15 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:33:27 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-20 08:33:27 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-20 08:33:28 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-20 08:33:28 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-20 08:33:29 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-20 08:33:29 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-20 08:33:30 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-20 08:33:30 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-20 08:33:31 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-20 08:33:31 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-20 08:33:32 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-20 08:33:32 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-20 08:33:33 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-20 08:33:33 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-20 08:33:34 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-20 08:33:34 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-20 08:33:35 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-20 08:33:35 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-20 08:33:36 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-20 08:33:36 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-20 08:33:37 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-20 08:33:37 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-20 08:33:38 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-20 08:33:38 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-20 08:33:39 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-20 08:33:39 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-20 08:33:40 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-20 08:33:40 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-20 08:33:41 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-20 08:33:41 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-20 08:33:42 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-20 08:33:42 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-20 08:33:42 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-20 08:33:42 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:33:43 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:33:43 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:33:43 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:33:43 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:33:43 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:33:43 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:33:43 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:33:43 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:33:52 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:33:52 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:33:56 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:33:56 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:33:56 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:33:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:33:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:33:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:33:56 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:33:56 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:33:56 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:33:56 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:33:56 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:33:56 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:33:57 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:33:57 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:33:57 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:33:57 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:33:57 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:33:57 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:33:57 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:33:57 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:33:58 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:33:58 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:33:58 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:33:58 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:33:58 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:33:58 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:33:59 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:33:59 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:33:59 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:33:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:34:00 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:34:00 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:34:00 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:34:00 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:34:00 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:34:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:34:02 | INFO     | bot_controller:start_command:302 - User 6556918772 started the bot
2025-06-20 08:34:35 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 08:34:35 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:34:36 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 08:34:36 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:34:36 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 08:34:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:34:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:34:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:34:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:34:38 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 08:34:38 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:34:40 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 08:34:40 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:34:43 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 08:34:43 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 08:35:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:35:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:35:26 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_advanced_tools
2025-06-20 08:35:26 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 08:35:40 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_statistics
2025-06-20 08:35:40 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 08:35:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 08:35:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:35:46 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_statistics
2025-06-20 08:35:46 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 08:35:53 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 08:35:53 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:36:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:36:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:37:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:37:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:38:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:38:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:39:18 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:39:18 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:39:18 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:39:18 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:39:18 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:39:30 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:39:30 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:39:31 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:39:31 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:39:32 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:39:32 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:39:33 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:39:33 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:39:34 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:39:34 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:39:34 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:39:35 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:39:35 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:39:36 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:39:36 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:39:37 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:39:37 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:39:38 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:39:38 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:39:39 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:39:39 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:39:40 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:39:40 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:39:40 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:39:41 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:39:41 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:39:42 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:39:42 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:39:43 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:39:44 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:39:44 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:39:45 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:39:45 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:39:45 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:39:45 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:39:45 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:39:45 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:39:45 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:39:45 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:39:45 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:39:45 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:39:45 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:39:55 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:39:55 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:39:58 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:39:58 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:39:58 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:39:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:39:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:39:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:39:58 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:39:58 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:39:58 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:39:58 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:39:58 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:39:58 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:39:59 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:39:59 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:39:59 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:39:59 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:39:59 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:39:59 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:39:59 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:39:59 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:40:00 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:40:00 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:40:00 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:40:00 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:40:00 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:40:00 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:40:01 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:40:01 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:40:01 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:40:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:40:02 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:40:02 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:40:02 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:40:02 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:40:02 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:40:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:40:14 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 08:40:14 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:40:16 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: task_list
2025-06-20 08:40:16 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:40:16 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: task_list
2025-06-20 08:40:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:40:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:40:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:40:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:40:18 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_tasks
2025-06-20 08:40:18 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:40:19 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_back
2025-06-20 08:40:19 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:40:21 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: lang_menu
2025-06-20 08:40:21 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:40:21 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: lang_menu
2025-06-20 08:40:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: lang_menu
2025-06-20 08:40:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:40:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: lang_menu ===
2025-06-20 08:40:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'lang_menu' (type: <class 'str'>)
2025-06-20 08:40:21 | WARNING  | handlers.tasks:handle_callback:960 - Unhandled task callback: lang_menu
2025-06-20 08:41:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:41:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:42:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:42:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:42:27 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: lang_menu
2025-06-20 08:42:27 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:42:27 | INFO     | bot_controller:handle_callback:712 - Routing to task handlers: lang_menu
2025-06-20 08:42:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: lang_menu
2025-06-20 08:42:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:42:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: lang_menu ===
2025-06-20 08:42:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'lang_menu' (type: <class 'str'>)
2025-06-20 08:42:27 | WARNING  | handlers.tasks:handle_callback:960 - Unhandled task callback: lang_menu
2025-06-20 08:42:44 | INFO     | bot_controller:handle_callback:651 - Bot controller received callback: main_settings
2025-06-20 08:42:44 | ERROR    | bot_controller:handle_callback:652 - DEBUGGING CALLBACK: 'main_settings' from user 6556918772
2025-06-20 08:42:51 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:42:51 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:42:51 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:42:51 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:42:51 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:43:03 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:43:04 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:43:04 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:43:05 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:43:05 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:43:06 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:43:06 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:43:06 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:43:07 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:43:07 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:43:08 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:43:08 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:43:09 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:43:09 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:43:10 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:43:10 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:43:11 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:43:11 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:43:12 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:43:12 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:43:13 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:43:13 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:43:14 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:43:14 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:43:15 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:43:15 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:43:16 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:43:16 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:43:17 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:43:18 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:43:18 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:43:19 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:43:19 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:43:19 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:43:19 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:43:19 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:43:19 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:43:19 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:43:19 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:43:19 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:43:19 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:43:19 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:43:29 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:43:29 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:43:30 | INFO     | __main__:signal_handler:371 - Received signal 15, shutting down...
2025-06-20 08:43:30 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-06-20 08:43:30 | SUCCESS  | __main__:shutdown:346 - Forwarding engine stopped
2025-06-20 08:43:30 | SUCCESS  | __main__:shutdown:356 - Bot session closed
2025-06-20 08:43:30 | ERROR    | database:get_active_tasks:548 - Failed to get active tasks with sources/targets: pool is closing
2025-06-20 08:43:30 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 0 active tasks
2025-06-20 08:43:30 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:43:30 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:43:30 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:43:30 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:43:30 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:43:30 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:43:30 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-20 08:43:30 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:43:30 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:43:30 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:43:30 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:43:30 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:43:30 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-20 08:43:30 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:43:30 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:43:30 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:43:30 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:43:30 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:43:30 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:43:30 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:43:31 | INFO     | database:close:703 - Connection pool closed
2025-06-20 08:43:31 | INFO     | database:close:707 - Database engine disposed
2025-06-20 08:43:31 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-06-20 08:43:31 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-06-20 08:43:37 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:43:37 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:43:37 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:43:37 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:43:37 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:43:49 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:43:49 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:43:50 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:43:50 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:43:51 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:43:51 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:43:52 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:43:52 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:43:53 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:43:53 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:43:54 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:43:54 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:43:54 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:43:55 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:43:55 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:43:56 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:43:56 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:43:57 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:43:57 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:43:58 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:43:58 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:43:59 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:43:59 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:44:00 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:44:00 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:44:01 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:44:01 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:44:02 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:44:02 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:44:03 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:44:03 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:44:04 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:44:04 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:44:04 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:44:05 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:44:05 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:44:05 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:44:05 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:44:05 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:44:05 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:44:05 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:44:05 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:44:14 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:44:14 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:44:17 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:44:17 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:44:17 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:44:17 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:44:17 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:44:17 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:44:17 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:44:18 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:44:18 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:44:18 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:44:18 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:44:18 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:44:18 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:44:18 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:44:18 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:44:18 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:44:18 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:44:18 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:44:18 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:44:18 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:44:19 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:44:19 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:44:19 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:44:19 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:44:19 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:44:19 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:44:21 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:44:21 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:44:21 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:44:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:44:22 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:44:22 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:44:22 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:44:22 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:44:22 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:44:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:44:25 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:44:25 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:44:25 | ERROR    | bot_controller:_handle_language_menu:1155 - Error in language menu: name 'InlineKeyboardButton' is not defined
2025-06-20 08:44:27 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:44:27 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:44:27 | ERROR    | bot_controller:_handle_language_menu:1155 - Error in language menu: name 'InlineKeyboardButton' is not defined
2025-06-20 08:44:28 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:44:28 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:44:28 | ERROR    | bot_controller:_handle_language_menu:1155 - Error in language menu: name 'InlineKeyboardButton' is not defined
2025-06-20 08:44:48 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:44:48 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:44:48 | ERROR    | bot_controller:_handle_language_menu:1155 - Error in language menu: name 'InlineKeyboardButton' is not defined
2025-06-20 08:45:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:45:32 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:45:32 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:45:32 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:45:32 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:45:32 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:45:44 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:45:44 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:45:45 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:45:45 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:45:46 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:45:46 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:45:46 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:45:47 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:45:47 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:45:48 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:45:48 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:45:49 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:45:49 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:45:50 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:45:50 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:45:51 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:45:51 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:45:52 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:45:52 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:45:53 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:45:53 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:45:54 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:45:54 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:45:55 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:45:55 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:45:55 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:45:56 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:45:56 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:45:57 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:45:58 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:45:58 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:45:59 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:45:59 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:45:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:45:59 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:45:59 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:45:59 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:46:00 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:46:00 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:46:00 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:46:00 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:46:00 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:46:09 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:46:09 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:46:12 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:46:12 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:46:12 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:46:12 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:46:12 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:46:12 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:46:12 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:46:13 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:46:13 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:46:13 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:46:13 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:46:13 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:46:13 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:46:13 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:46:13 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:46:13 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:46:13 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:46:13 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:46:13 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:46:13 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:46:14 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:46:14 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:46:14 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:46:14 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:46:14 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:46:14 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:46:16 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:46:16 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:46:16 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:46:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:46:16 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:46:16 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:46:16 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:46:16 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:46:16 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:46:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:46:20 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:46:20 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:46:22 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: set_lang_en
2025-06-20 08:46:22 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'set_lang_en' from user 6556918772
2025-06-20 08:46:22 | INFO     | localization:set_user_language:454 - User 6556918772 language set to en
2025-06-20 08:46:27 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_tasks
2025-06-20 08:46:27 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:46:28 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_back
2025-06-20 08:46:28 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:46:30 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:46:30 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:46:31 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: set_lang_en
2025-06-20 08:46:31 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'set_lang_en' from user 6556918772
2025-06-20 08:46:31 | INFO     | localization:set_user_language:454 - User 6556918772 language set to en
2025-06-20 08:46:58 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_advanced_tools
2025-06-20 08:46:58 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 08:46:59 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_tasks
2025-06-20 08:46:59 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:47:00 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_list
2025-06-20 08:47:00 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:47:00 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_list
2025-06-20 08:47:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:47:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:47:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:47:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:47:03 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_view_1
2025-06-20 08:47:03 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:47:03 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_view_1
2025-06-20 08:47:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:47:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:47:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:47:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:47:05 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:47:07 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_list
2025-06-20 08:47:07 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:47:07 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_list
2025-06-20 08:47:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:47:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:47:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:47:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:47:09 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_tasks
2025-06-20 08:47:09 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:47:11 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_back
2025-06-20 08:47:11 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:47:13 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: lang_menu
2025-06-20 08:47:13 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:47:14 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: set_lang_ar
2025-06-20 08:47:14 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'set_lang_ar' from user 6556918772
2025-06-20 08:47:14 | INFO     | localization:set_user_language:454 - User 6556918772 language set to ar
2025-06-20 08:47:16 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: main_tasks
2025-06-20 08:47:16 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:47:18 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_list
2025-06-20 08:47:18 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:47:18 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_list
2025-06-20 08:47:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:47:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:47:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:47:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:47:20 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_view_1
2025-06-20 08:47:20 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:47:20 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_view_1
2025-06-20 08:47:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:47:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:47:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:47:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:47:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:47:22 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:47:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:47:23 | INFO     | bot_controller:handle_callback:661 - Bot controller received callback: task_settings_1
2025-06-20 08:47:23 | ERROR    | bot_controller:handle_callback:662 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:47:23 | INFO     | bot_controller:handle_callback:726 - Routing to task handlers: task_settings_1
2025-06-20 08:47:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:47:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:47:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:47:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:47:23 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:48:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:48:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:48:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:48:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:48:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:48:48 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:48:48 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:49:00 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:49:00 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:49:01 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:49:01 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:49:02 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:49:02 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:49:03 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:49:03 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:49:03 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:49:04 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:49:04 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:49:05 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:49:06 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:49:06 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:49:07 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:49:07 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:49:07 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:49:08 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:49:08 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:49:09 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:49:09 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:49:10 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:49:10 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:49:11 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:49:11 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:49:12 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:49:12 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:49:13 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:49:13 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:49:14 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:49:15 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:49:15 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:49:15 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:49:15 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:49:16 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:49:16 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:49:16 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:49:16 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:49:16 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:49:16 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:49:16 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:49:16 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:49:26 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:49:26 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:49:29 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:49:29 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:49:29 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:49:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:49:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:49:29 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:49:29 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:49:30 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:49:30 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:49:30 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:49:30 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:49:30 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:49:30 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:49:30 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:49:30 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:49:30 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:49:30 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:49:30 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:49:30 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:49:30 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:49:31 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:49:31 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:49:31 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:49:31 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:49:31 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:49:31 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:49:33 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:49:33 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:49:33 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:49:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:49:34 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:49:34 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:49:34 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:49:34 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:49:34 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:49:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:49:34 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:49:34 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:49:34 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:49:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:49:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:49:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:49:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:49:37 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:49:40 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:49:40 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:49:42 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:49:42 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:49:42 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:49:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:49:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:49:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:49:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:49:44 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:49:44 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:49:44 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:49:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:49:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:49:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:49:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:49:46 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:49:48 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:49:48 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:49:48 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:49:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:49:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:49:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:49:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:49:48 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:49:50 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:49:50 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:49:50 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:49:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:49:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:49:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:49:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:49:50 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:49:50 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:49:50 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:49:50 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:49:52 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:49:52 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:49:52 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:49:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:49:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:49:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:49:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:49:52 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:49:53 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 08:49:53 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:49:53 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 08:49:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:49:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:49:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:49:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:49:57 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:49:57 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:49:57 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:49:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:49:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:49:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:49:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:49:57 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:49:59 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_reset_1
2025-06-20 08:49:59 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_reset_1' from user 6556918772
2025-06-20 08:49:59 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_reset_1
2025-06-20 08:49:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_reset_1
2025-06-20 08:49:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:49:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_reset_1 ===
2025-06-20 08:49:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_reset_1' (type: <class 'str'>)
2025-06-20 08:50:00 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:50:00 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:50:00 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:50:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:50:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:50:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:50:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:50:00 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:50:02 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:50:02 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:50:02 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:50:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:50:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:50:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:50:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:50:02 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:50:02 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:50:02 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:50:02 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:50:03 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: content_replace_1
2025-06-20 08:50:03 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-20 08:50:03 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: content_replace_1
2025-06-20 08:50:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-20 08:50:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:50:03 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-20 08:50:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-20 08:50:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-20 08:50:05 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:50:05 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:50:05 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:50:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:50:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:50:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:50:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:50:05 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:50:05 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:50:05 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:50:05 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:50:18 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:50:18 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:50:18 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:50:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:50:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:50:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:50:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:50:18 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:50:19 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:50:19 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:50:19 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:50:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:50:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:50:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:50:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:50:21 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:50:23 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:50:23 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:50:23 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:50:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:50:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:50:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:50:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:50:24 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:50:24 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:50:26 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:50:26 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:50:27 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:50:27 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:50:29 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: set_lang_ar
2025-06-20 08:50:29 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'set_lang_ar' from user 6556918772
2025-06-20 08:50:29 | INFO     | localization:set_user_language:468 - User 6556918772 language set to ar
2025-06-20 08:50:31 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:50:31 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:50:33 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:50:33 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:50:33 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:50:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:50:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:50:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:50:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:50:36 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:50:36 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:50:37 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:50:37 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:50:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:50:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:51:28 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:51:28 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:51:30 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: set_lang_en
2025-06-20 08:51:30 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'set_lang_en' from user 6556918772
2025-06-20 08:51:30 | INFO     | localization:set_user_language:468 - User 6556918772 language set to en
2025-06-20 08:51:34 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_statistics
2025-06-20 08:51:34 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_statistics' from user 6556918772
2025-06-20 08:51:37 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:51:37 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:51:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:51:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:52:38 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:52:38 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:52:47 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:52:47 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:52:47 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:52:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:52:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:52:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:52:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:52:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:52:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:52:50 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:52:50 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:52:50 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:52:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:52:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:52:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:52:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:52:52 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:52:54 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:52:54 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:52:54 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:52:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:52:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:52:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:52:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:52:54 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:52:58 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 08:52:58 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:52:58 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 08:52:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:52:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:52:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:52:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:53:17 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:53:17 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:53:17 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:53:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:53:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:53:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:53:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:53:17 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:53:19 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:53:19 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:53:19 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:53:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:53:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:53:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:53:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:53:19 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:53:19 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:53:19 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:53:19 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:53:20 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:53:20 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:53:20 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:53:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:53:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:53:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:53:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:53:20 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:53:21 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 08:53:21 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:53:21 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 08:53:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:53:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:53:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:53:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:53:24 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:53:24 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:53:24 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:53:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:53:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:53:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:53:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:53:24 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:53:26 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:53:26 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:53:26 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:53:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:53:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:53:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:53:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:53:26 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:53:26 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:53:26 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:53:26 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:53:27 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: content_prefix_1
2025-06-20 08:53:27 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 08:53:27 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: content_prefix_1
2025-06-20 08:53:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 08:53:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:53:27 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 08:53:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 08:53:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 08:53:30 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:53:30 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:53:30 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:53:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:53:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:53:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:53:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:53:30 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:53:30 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:53:30 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:53:30 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:53:32 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: content_prefix_1
2025-06-20 08:53:32 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 08:53:32 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: content_prefix_1
2025-06-20 08:53:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 08:53:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:53:32 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 08:53:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 08:53:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 08:53:51 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:53:51 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:53:51 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:53:51 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:53:51 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:54:03 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:54:04 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:54:04 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:54:05 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:54:05 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:54:06 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:54:06 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:54:06 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:54:07 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:54:07 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:54:08 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:54:08 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:54:09 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:54:09 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:54:10 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:54:10 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:54:11 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:54:11 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:54:12 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:54:12 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:54:13 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:54:13 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:54:14 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:54:14 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:54:14 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:54:15 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:54:15 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:54:16 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:54:16 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:54:17 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:54:18 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:54:18 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:54:18 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:54:18 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:54:19 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:54:19 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:54:19 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:54:19 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:54:19 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:54:19 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:54:19 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:54:19 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:54:28 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:54:28 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:54:31 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:54:31 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:54:31 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:54:31 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:54:31 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:54:31 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:54:31 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:54:32 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:54:32 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:54:32 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:54:32 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:54:32 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:54:33 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:54:33 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:54:33 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:54:33 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:54:33 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:54:33 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:54:33 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:54:33 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:54:33 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:54:33 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:54:33 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:54:33 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:54:33 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:54:33 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:54:35 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:54:35 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:54:35 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:54:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:54:36 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:54:36 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:54:36 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:54:36 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:54:36 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:54:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:54:39 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:54:39 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:54:39 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:54:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:54:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:54:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:54:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:54:39 | INFO     | handlers.tasks:_handle_content_setting:1978 - Content setting accessed for task 1
2025-06-20 08:54:39 | INFO     | handlers.tasks:_handle_content_setting:2019 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:54:39 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:54:39 | INFO     | handlers.tasks:_handle_content_setting:2026 - Content message updated with new text and keyboard
2025-06-20 08:54:41 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:54:41 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:54:41 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:54:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:54:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:54:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:54:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:54:41 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:54:42 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:54:42 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:54:42 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:54:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:54:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:54:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:54:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:54:44 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:54:44 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:54:44 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:54:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:54:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:54:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:54:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:54:44 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:54:46 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:54:46 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:54:46 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:54:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:54:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:54:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:54:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:54:46 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:54:48 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:54:48 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:54:48 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:54:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:54:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:54:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:54:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:54:50 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:54:50 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:54:52 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:54:52 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:54:53 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:54:53 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:54:55 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: set_lang_ar
2025-06-20 08:54:55 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'set_lang_ar' from user 6556918772
2025-06-20 08:54:55 | INFO     | localization:set_user_language:562 - User 6556918772 language set to ar
2025-06-20 08:54:57 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:54:57 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:54:59 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:54:59 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:54:59 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:54:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:54:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:54:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:54:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:55:01 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:55:01 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:55:01 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:55:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:55:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:55:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:55:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:55:03 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:55:08 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:55:08 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:55:08 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:55:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:55:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:55:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:55:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:55:08 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:55:10 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 08:55:10 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:55:10 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 08:55:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:55:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:55:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:55:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:55:12 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:55:12 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:55:12 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:55:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:55:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:55:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:55:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:55:12 | INFO     | handlers.tasks:_handle_task_settings:1392 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:55:13 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:55:13 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:55:13 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:55:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:55:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:55:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:55:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:55:15 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:55:16 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:55:16 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:55:16 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:55:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:55:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:55:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:55:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:55:22 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:55:22 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:55:25 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:55:25 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:55:30 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:55:30 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:55:31 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:55:31 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:55:31 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:55:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:55:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:55:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:55:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:55:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:55:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:55:49 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:55:49 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:55:50 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:55:50 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:55:51 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:55:51 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:56:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:56:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:57:38 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:57:38 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:57:38 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:57:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:57:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:57:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:57:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:57:40 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:57:40 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:57:42 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:57:42 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:57:43 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:57:43 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:57:46 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: set_lang_en
2025-06-20 08:57:46 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'set_lang_en' from user 6556918772
2025-06-20 08:57:46 | INFO     | localization:set_user_language:562 - User 6556918772 language set to en
2025-06-20 08:57:48 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:57:48 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:57:50 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:57:50 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:57:50 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:57:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:57:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:57:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:57:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:57:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:57:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:57:54 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:57:54 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:57:54 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:57:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:57:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:57:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:57:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:57:54 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:57:54 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:57:54 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:57:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:57:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:57:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:57:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:57:54 | ERROR    | handlers.tasks:_handle_task_list:1182 - Error displaying task list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:57:55 | ERROR    | handlers.tasks:_handle_task_list:1182 - Error displaying task list: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 08:57:56 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:57:56 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:57:56 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:57:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:57:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:57:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:57:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:57:58 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:58:09 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:58:09 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:58:09 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:58:09 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:58:09 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:58:09 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:58:09 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:58:09 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:58:09 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:58:09 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 08:58:20 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:58:20 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 08:58:21 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:58:21 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 08:58:21 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:58:21 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 08:58:22 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:58:22 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 08:58:22 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:58:22 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 08:58:23 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:58:23 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 08:58:23 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:58:23 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 08:58:24 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:58:24 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 08:58:24 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:58:24 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:58:25 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 08:58:26 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:58:26 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 08:58:26 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:58:26 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 08:58:27 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:58:27 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 08:58:27 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:58:27 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 08:58:28 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:58:28 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 08:58:28 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:58:28 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 08:58:29 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:58:29 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 08:58:29 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:58:29 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 08:58:30 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:58:30 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 08:58:30 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:58:30 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 08:58:31 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:58:31 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 08:58:31 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:58:31 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 08:58:31 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:58:32 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 08:58:32 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:58:32 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 08:58:32 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:58:32 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 08:58:33 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:58:33 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 08:58:33 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:58:33 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 08:58:34 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:58:34 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 08:58:35 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:58:35 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 08:58:35 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:58:35 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:58:35 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:58:35 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 08:58:35 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 08:58:35 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 08:58:36 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:58:36 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:58:36 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:58:36 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:58:36 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:58:36 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:58:36 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:58:36 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:58:36 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 08:58:36 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 08:58:36 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 08:58:36 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 08:58:36 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 08:58:36 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 08:58:36 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 08:58:36 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 08:58:45 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:58:45 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:58:45 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 08:58:45 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 08:58:48 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:58:48 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:58:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:58:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:58:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:58:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:58:48 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:58:48 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 08:58:48 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 08:58:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 08:58:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 08:58:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 08:58:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 08:58:48 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 08:58:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:58:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:58:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:58:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 08:58:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 08:58:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 08:58:49 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:58:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:58:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:58:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:58:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:58:49 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:58:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 08:58:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 08:58:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 08:58:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 08:58:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 08:58:50 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 08:58:50 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 08:58:50 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 08:58:50 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:58:50 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:58:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:58:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:58:50 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:58:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:58:50 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 08:58:50 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 08:58:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 08:58:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 08:58:50 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 08:58:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:58:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:58:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 08:58:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 08:58:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:58:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:58:52 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:58:52 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:58:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:58:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:58:53 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 08:58:53 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 08:58:53 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 08:58:53 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 08:58:53 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 08:58:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:58:56 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:58:56 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:58:57 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:58:57 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:58:57 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:58:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:58:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:58:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:58:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:59:01 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:59:01 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:59:02 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 08:59:02 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 08:59:04 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 08:59:04 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 08:59:06 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: set_lang_ar
2025-06-20 08:59:06 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'set_lang_ar' from user 6556918772
2025-06-20 08:59:06 | INFO     | localization:set_user_language:592 - User 6556918772 language set to ar
2025-06-20 08:59:08 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 08:59:08 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 08:59:10 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:59:10 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:59:10 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:59:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:59:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:59:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:59:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:59:18 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:59:18 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:59:18 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:59:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:59:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:59:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:59:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:59:20 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:59:27 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:27 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:27 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:27 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:30 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 08:59:30 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 08:59:30 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 08:59:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 08:59:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:59:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 08:59:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 08:59:33 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:33 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:33 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:33 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:34 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:59:34 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:59:34 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:59:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:59:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:59:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:59:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:59:34 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content setting accessed for task 1
2025-06-20 08:59:34 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:59:34 | INFO     | handlers.tasks:_handle_content_setting:2021 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:59:34 | INFO     | handlers.tasks:_handle_content_setting:2027 - Content message updated with new text and keyboard
2025-06-20 08:59:36 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:36 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:36 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:36 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:38 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_forward_1
2025-06-20 08:59:38 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-20 08:59:38 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_forward_1
2025-06-20 08:59:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-20 08:59:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:59:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-20 08:59:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-20 08:59:40 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:40 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:40 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:40 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:40 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:40 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:40 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:40 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:43 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 08:59:43 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 08:59:43 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 08:59:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 08:59:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 08:59:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 08:59:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 08:59:43 | INFO     | handlers.tasks:_handle_content_setting:1979 - Content setting accessed for task 1
2025-06-20 08:59:43 | INFO     | handlers.tasks:_handle_content_setting:2020 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 08:59:43 | INFO     | handlers.tasks:_handle_content_setting:2021 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 08:59:43 | INFO     | handlers.tasks:_handle_content_setting:2027 - Content message updated with new text and keyboard
2025-06-20 08:59:44 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:44 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:44 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:44 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:45 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_limits_1
2025-06-20 08:59:45 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_limits_1' from user 6556918772
2025-06-20 08:59:45 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_limits_1
2025-06-20 08:59:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_limits_1
2025-06-20 08:59:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 08:59:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_limits_1 ===
2025-06-20 08:59:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_limits_1' (type: <class 'str'>)
2025-06-20 08:59:47 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:47 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:47 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:47 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:48 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_reset_1
2025-06-20 08:59:48 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_reset_1' from user 6556918772
2025-06-20 08:59:48 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_reset_1
2025-06-20 08:59:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_reset_1
2025-06-20 08:59:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_reset_1 ===
2025-06-20 08:59:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_reset_1' (type: <class 'str'>)
2025-06-20 08:59:49 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: confirm_reset_1
2025-06-20 08:59:49 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'confirm_reset_1' from user 6556918772
2025-06-20 08:59:49 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: confirm_reset_1
2025-06-20 08:59:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: confirm_reset_1
2025-06-20 08:59:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: confirm_reset_1 ===
2025-06-20 08:59:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'confirm_reset_1' (type: <class 'str'>)
2025-06-20 08:59:49 | WARNING  | handlers.tasks:handle_callback:960 - Unhandled task callback: confirm_reset_1
2025-06-20 08:59:51 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 08:59:51 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 08:59:51 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 08:59:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 08:59:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 08:59:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 08:59:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 08:59:51 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:52 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:59:52 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:59:52 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:59:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:59:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:59:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:59:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:59:53 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 08:59:53 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 08:59:53 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 08:59:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 08:59:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 08:59:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 08:59:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 08:59:54 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_advanced_1
2025-06-20 08:59:54 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 08:59:54 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_advanced_1
2025-06-20 08:59:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 08:59:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 08:59:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 08:59:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 08:59:54 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 08:59:54 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 08:59:54 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 08:59:54 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 08:59:54 | INFO     | handlers.tasks:_handle_advanced_setting:7954 - Starting advanced settings handler for task 1
2025-06-20 08:59:54 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:59:55 | INFO     | handlers.tasks:_handle_advanced_setting:7956 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 08:59:55 | INFO     | handlers.tasks:_handle_advanced_setting:7966 - Creating keyboard for task 1
2025-06-20 08:59:55 | INFO     | handlers.tasks:_handle_advanced_setting:7968 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 08:59:55 | INFO     | handlers.tasks:_handle_advanced_setting:7971 - Message edited successfully for task 1
2025-06-20 08:59:55 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 08:59:55 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 08:59:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:59:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 08:59:57 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 08:59:57 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 08:59:57 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 08:59:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 08:59:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 08:59:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 08:59:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 08:59:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 08:59:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:00:00 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 09:00:00 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 09:00:00 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 09:00:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 09:00:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 09:00:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 09:00:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 09:00:02 | INFO     | handlers.tasks:_handle_task_view:1218 - Task view: Task 1 mode is bot
2025-06-20 09:00:03 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:00:03 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:00:03 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:00:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:00:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:00:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:00:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:00:03 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:00:04 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:00:04 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:00:04 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:00:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:00:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:00:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:00:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:00:04 | INFO     | handlers.tasks:_handle_task_settings:1393 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 المرشحات', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ المحتوى', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 التوجيه', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ الحدود', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ متقدم', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 إعادة تعيين', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 عرض الكل', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 حفظ', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 رجوع', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:00:05 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_advanced_1
2025-06-20 09:00:05 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 09:00:05 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_advanced_1
2025-06-20 09:00:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 09:00:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 09:00:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 09:00:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 09:00:05 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 09:00:05 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 09:00:05 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 09:00:05 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 09:00:05 | INFO     | handlers.tasks:_handle_advanced_setting:7954 - Starting advanced settings handler for task 1
2025-06-20 09:00:05 | INFO     | handlers.tasks:_handle_advanced_setting:7956 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 09:00:05 | INFO     | handlers.tasks:_handle_advanced_setting:7966 - Creating keyboard for task 1
2025-06-20 09:00:05 | INFO     | handlers.tasks:_handle_advanced_setting:7968 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:00:06 | INFO     | handlers.tasks:_handle_advanced_setting:7971 - Message edited successfully for task 1
2025-06-20 09:00:06 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 09:00:09 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: advanced_translation_1
2025-06-20 09:00:09 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 09:00:09 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: advanced_translation_1
2025-06-20 09:00:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 09:00:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 09:00:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 09:00:09 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: advanced_translation_1
2025-06-20 09:00:09 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-20 09:00:09 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: advanced_translation_1
2025-06-20 09:00:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-20 09:00:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-20 09:00:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-20 09:00:09 | ERROR    | handlers.tasks:handle_callback:964 - Error in task callback advanced_translation_1: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-20 09:00:11 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_advanced_1
2025-06-20 09:00:11 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-20 09:00:11 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_advanced_1
2025-06-20 09:00:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-20 09:00:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-20 09:00:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-20 09:00:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-20 09:00:11 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-20 09:00:11 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-20 09:00:11 | WARNING  | handlers.tasks:handle_callback:282 - MATCHED setting_advanced_: setting_advanced_1
2025-06-20 09:00:11 | WARNING  | handlers.tasks:handle_callback:284 - Extracted task_id: 1
2025-06-20 09:00:11 | INFO     | handlers.tasks:_handle_advanced_setting:7954 - Starting advanced settings handler for task 1
2025-06-20 09:00:11 | INFO     | handlers.tasks:_handle_advanced_setting:7956 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': '[{"old": "\\u0633\\u0627\\u0628\\u0631", "new": "\\u062a\\u0645\\u0627\\u0645"}]', 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 20, 5, 2, 34, 10044), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': True, 'target_language': 'en', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': 'هسهسه', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}, {"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقع 1", "type": "url", "value": "https://site1.com"}, {"row": 0, "text": "موقع 2", "type": "url", "value": "https://site2.com"}], [{"row": 1, "text": "مشاركة 1", "type": "share", "value": ""}, {"row": 1, "text": "مشاركة 2", "type": "share", "value": ""}]]}'}
2025-06-20 09:00:11 | INFO     | handlers.tasks:_handle_advanced_setting:7966 - Creating keyboard for task 1
2025-06-20 09:00:11 | INFO     | handlers.tasks:_handle_advanced_setting:7968 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:00:11 | INFO     | handlers.tasks:_handle_advanced_setting:7971 - Message edited successfully for task 1
2025-06-20 09:00:11 | WARNING  | handlers.tasks:handle_callback:286 - Completed _handle_advanced_setting call
2025-06-20 09:00:53 | INFO     | database:cleanup_old_logs:666 - Cleaned up old logs: DELETE 0
2025-06-20 09:00:53 | INFO     | database:cleanup_old_logs:666 - Cleaned up old logs: DELETE 0
2025-06-20 09:01:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:01:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:01:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:01:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:02:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:02:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:02:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:02:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:02:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 09:02:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 09:02:27 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 09:02:27 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 09:02:27 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 09:02:39 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 09:02:39 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 09:02:40 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 09:02:40 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 09:02:41 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 09:02:41 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 09:02:42 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 09:02:42 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 09:02:43 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 09:02:43 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 09:02:44 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 09:02:44 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 09:02:45 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 09:02:45 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 09:02:46 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 09:02:46 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 09:02:47 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 09:02:47 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 09:02:48 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 09:02:48 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 09:02:48 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 09:02:49 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 09:02:49 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 09:02:50 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 09:02:50 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 09:02:51 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 09:02:51 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 09:02:52 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 09:02:52 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 09:02:53 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 09:02:54 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 09:02:54 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 09:02:54 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 09:02:54 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 09:02:55 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 09:02:55 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 09:02:55 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 09:02:55 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 09:02:55 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 09:02:55 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 09:02:55 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 09:02:55 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 09:03:05 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 09:03:05 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 09:03:08 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 09:03:08 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 09:03:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 09:03:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 09:03:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 09:03:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 09:03:08 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 09:03:09 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 09:03:09 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 09:03:09 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 09:03:09 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 09:03:09 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 09:03:09 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 09:03:09 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 09:03:09 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 09:03:09 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 09:03:09 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 09:03:09 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 09:03:09 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 09:03:09 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 09:03:10 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 09:03:10 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 09:03:10 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 09:03:10 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 09:03:10 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 09:03:10 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 09:03:12 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 09:03:12 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 09:03:12 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 09:03:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:03:13 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 09:03:13 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 09:03:13 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 09:03:13 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 09:03:13 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 09:03:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:03:16 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:03:16 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:03:17 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 09:03:17 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 09:03:17 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 09:03:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 09:03:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 09:03:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 09:03:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 09:03:20 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 09:03:20 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 09:03:20 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 09:03:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 09:03:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 09:03:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 09:03:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 09:03:23 | INFO     | handlers.tasks:_handle_task_view:1225 - Task view: Task 1 mode is bot
2025-06-20 09:03:26 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 09:03:26 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 09:03:26 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 09:03:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 09:03:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 09:03:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 09:03:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 09:03:27 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:03:27 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:03:29 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 09:03:29 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 09:03:30 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 09:03:30 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 09:04:14 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 09:04:14 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 09:04:16 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:04:16 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:04:17 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:04:18 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 09:04:18 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 09:04:18 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 09:04:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 09:04:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 09:04:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 09:04:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 09:04:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:04:20 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:04:20 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:04:26 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 09:04:26 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 09:04:28 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: lang_menu
2025-06-20 09:04:28 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'lang_menu' from user 6556918772
2025-06-20 09:04:29 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_back
2025-06-20 09:04:29 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_back' from user 6556918772
2025-06-20 09:04:31 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_advanced_tools
2025-06-20 09:04:31 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_advanced_tools' from user 6556918772
2025-06-20 09:05:22 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:05:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:06:25 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 09:06:25 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 09:06:25 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 09:06:25 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 09:06:25 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-20 09:06:36 | INFO     | database:migrate_columns:121 - Added length_filter_settings column
2025-06-20 09:06:37 | INFO     | database:migrate_columns:130 - Added hashtag_settings column
2025-06-20 09:06:37 | INFO     | database:migrate_columns:139 - Added text_cleaner_settings column
2025-06-20 09:06:38 | INFO     | database:migrate_columns:149 - Added filter_inline_buttons column
2025-06-20 09:06:38 | INFO     | database:migrate_columns:158 - Added filter_duplicates column
2025-06-20 09:06:39 | INFO     | database:migrate_columns:167 - Added filter_language column
2025-06-20 09:06:39 | INFO     | database:migrate_columns:176 - Added language_filter_mode column
2025-06-20 09:06:40 | INFO     | database:migrate_columns:185 - Added allowed_languages column
2025-06-20 09:06:40 | INFO     | database:migrate_columns:195 - Added manual_mode column
2025-06-20 09:06:41 | INFO     | database:migrate_columns:204 - Added link_preview column
2025-06-20 09:06:41 | INFO     | database:migrate_columns:213 - Added pin_messages column
2025-06-20 09:06:42 | INFO     | database:migrate_columns:222 - Added silent_mode column
2025-06-20 09:06:42 | INFO     | database:migrate_columns:231 - Added sync_edits column
2025-06-20 09:06:43 | INFO     | database:migrate_columns:240 - Added sync_deletes column
2025-06-20 09:06:43 | INFO     | database:migrate_columns:249 - Added preserve_replies column
2025-06-20 09:06:43 | INFO     | database:migrate_columns:259 - Added auto_translate column
2025-06-20 09:06:44 | INFO     | database:migrate_columns:268 - Added target_language column
2025-06-20 09:06:44 | INFO     | database:migrate_columns:277 - Added working_hours_enabled column
2025-06-20 09:06:45 | INFO     | database:migrate_columns:286 - Added start_hour column
2025-06-20 09:06:45 | INFO     | database:migrate_columns:295 - Added end_hour column
2025-06-20 09:06:46 | INFO     | database:migrate_columns:304 - Added timezone column
2025-06-20 09:06:46 | INFO     | database:migrate_columns:313 - Added recurring_post_enabled column
2025-06-20 09:06:47 | INFO     | database:migrate_columns:322 - Added recurring_post_content column
2025-06-20 09:06:47 | INFO     | database:migrate_columns:331 - Added recurring_interval_hours column
2025-06-20 09:06:48 | INFO     | database:migrate_columns:341 - Added format_settings column
2025-06-20 09:06:48 | INFO     | database:migrate_columns:351 - Added text_cleaner_settings column
2025-06-20 09:06:49 | INFO     | database:migrate_columns:361 - Added replace_text column
2025-06-20 09:06:49 | INFO     | database:migrate_columns:372 - Added prefix/suffix columns
2025-06-20 09:06:50 | INFO     | database:migrate_columns:384 - Added inline buttons columns
2025-06-20 09:06:51 | INFO     | database:create_advanced_tables:409 - Created manual_approvals table
2025-06-20 09:06:51 | INFO     | database:create_advanced_tables:428 - Created message_tracking table
2025-06-20 09:06:51 | INFO     | database:create_advanced_tables:450 - Created recurring_posts table
2025-06-20 09:06:51 | SUCCESS  | database:initialize:108 - Database initialized successfully
2025-06-20 09:06:51 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-20 09:06:52 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-20 09:06:52 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-20 09:06:52 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-20 09:06:52 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-20 09:06:52 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-20 09:06:52 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-20 09:06:52 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-20 09:06:52 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-20 09:07:01 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-20 09:07:01 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-20 09:07:04 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 09:07:04 | SUCCESS  | forwarding_engine:initialize:82 - Forwarding engine initialized successfully
2025-06-20 09:07:04 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-20 09:07:04 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-20 09:07:05 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-20 09:07:05 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-20 09:07:05 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-20 09:07:05 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-20 09:07:05 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-20 09:07:05 | INFO     | bot_controller:_register_handlers:180 - Registering text input handler for WAITING_INPUT state
2025-06-20 09:07:05 | INFO     | bot_controller:_register_handlers:233 - Text handler registered successfully
2025-06-20 09:07:05 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-20 09:07:06 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-20 09:07:06 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-20 09:07:06 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-20 09:07:06 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-20 09:07:06 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-20 09:07:06 | INFO     | bot_controller:_register_handlers:246 - Session handler initialized
2025-06-20 09:07:06 | INFO     | bot_controller:_register_handlers:248 - Session handler registered successfully
2025-06-20 09:07:06 | INFO     | bot_controller:_register_handlers:254 - All handlers registered successfully
2025-06-20 09:07:06 | INFO     | bot_controller:_setup_bot_commands:270 - Bot commands menu set up
2025-06-20 09:07:06 | SUCCESS  | bot_controller:initialize:74 - Bot controller initialized successfully
2025-06-20 09:07:06 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-20 09:07:06 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-20 09:07:06 | INFO     | __main__:start:329 - No webhook host configured or localhost detected, using polling mode...
2025-06-20 09:07:06 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-20 09:07:08 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-20 09:07:08 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-20 09:07:08 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-20 09:07:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:07:09 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-20 09:07:09 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-20 09:07:09 | INFO     | forwarding_engine:_start_task_monitoring:193 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-20 09:07:09 | SUCCESS  | forwarding_engine:start:103 - Forwarding engine started successfully
2025-06-20 09:07:09 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-20 09:07:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:07:12 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:07:12 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:07:16 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_create
2025-06-20 09:07:16 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_create' from user 6556918772
2025-06-20 09:07:16 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_create
2025-06-20 09:07:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_create
2025-06-20 09:07:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 09:07:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_create ===
2025-06-20 09:07:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_create' (type: <class 'str'>)
2025-06-20 09:07:17 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: main_tasks
2025-06-20 09:07:17 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-20 09:07:19 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_list
2025-06-20 09:07:19 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-20 09:07:19 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_list
2025-06-20 09:07:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-20 09:07:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-20 09:07:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-20 09:07:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-20 09:07:22 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_view_1
2025-06-20 09:07:22 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-20 09:07:22 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_view_1
2025-06-20 09:07:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-20 09:07:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-20 09:07:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-20 09:07:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-20 09:07:24 | INFO     | handlers.tasks:_handle_task_view:1225 - Task view: Task 1 mode is bot
2025-06-20 09:07:26 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:07:26 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:07:26 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:07:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:07:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:07:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:07:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:07:26 | INFO     | handlers.tasks:_handle_task_settings:1400 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:07:28 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 09:07:28 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 09:07:28 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 09:07:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 09:07:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 09:07:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 09:07:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 09:07:31 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:07:31 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:07:31 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:07:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:07:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:07:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:07:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:07:31 | INFO     | handlers.tasks:_handle_task_settings:1400 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:07:32 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 09:07:32 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 09:07:32 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 09:07:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 09:07:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 09:07:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 09:07:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 09:07:32 | INFO     | handlers.tasks:_handle_content_setting:1986 - Content setting accessed for task 1
2025-06-20 09:07:32 | INFO     | handlers.tasks:_handle_content_setting:2027 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 09:07:32 | INFO     | handlers.tasks:_handle_content_setting:2028 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 09:07:33 | INFO     | handlers.tasks:_handle_content_setting:2034 - Content message updated with new text and keyboard
2025-06-20 09:07:34 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: content_prefix_1
2025-06-20 09:07:34 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-20 09:07:34 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: content_prefix_1
2025-06-20 09:07:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-20 09:07:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-20 09:07:34 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-20 09:07:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-20 09:07:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-20 09:07:36 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 09:07:36 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 09:07:36 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 09:07:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 09:07:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 09:07:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 09:07:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 09:07:36 | INFO     | handlers.tasks:_handle_content_setting:1986 - Content setting accessed for task 1
2025-06-20 09:07:36 | INFO     | handlers.tasks:_handle_content_setting:2027 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 09:07:36 | INFO     | handlers.tasks:_handle_content_setting:2028 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 09:07:36 | INFO     | handlers.tasks:_handle_content_setting:2034 - Content message updated with new text and keyboard
2025-06-20 09:07:37 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:07:37 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:07:37 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:07:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:07:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:07:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:07:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:07:37 | INFO     | handlers.tasks:_handle_task_settings:1400 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:07:39 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_filters_1
2025-06-20 09:07:39 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-20 09:07:39 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_filters_1
2025-06-20 09:07:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-20 09:07:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 09:07:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-20 09:07:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-20 09:08:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:08:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:08:36 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: task_settings_1
2025-06-20 09:08:36 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-20 09:08:36 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: task_settings_1
2025-06-20 09:08:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-20 09:08:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-20 09:08:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-20 09:08:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-20 09:08:36 | INFO     | handlers.tasks:_handle_task_settings:1400 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏱️ Limits', url=None, callback_data='setting_limits_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 Back', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-20 09:08:38 | INFO     | bot_controller:handle_callback:634 - Bot controller received callback: setting_content_1
2025-06-20 09:08:38 | ERROR    | bot_controller:handle_callback:635 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-20 09:08:38 | INFO     | bot_controller:handle_callback:699 - Routing to task handlers: setting_content_1
2025-06-20 09:08:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-20 09:08:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-20 09:08:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-20 09:08:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-20 09:08:38 | INFO     | handlers.tasks:_handle_content_setting:1986 - Content setting accessed for task 1
2025-06-20 09:08:38 | INFO     | handlers.tasks:_handle_content_setting:2027 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-20 09:08:38 | INFO     | handlers.tasks:_handle_content_setting:2028 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-20 09:08:38 | INFO     | handlers.tasks:_handle_content_setting:2034 - Content message updated with new text and keyboard
2025-06-20 09:09:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:09:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:10:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:10:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:11:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:11:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:12:17 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 09:12:17 | INFO     | forwarding_engine:_reload_tasks:2901 - Reloaded tasks: 2 active
2025-06-20 09:12:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:12:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:13:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:13:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:14:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:14:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:15:44 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:15:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:16:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:16:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:17:21 | INFO     | forwarding_engine:_load_active_tasks:135 - Loaded 2 active tasks
2025-06-20 09:17:21 | INFO     | forwarding_engine:_reload_tasks:2901 - Reloaded tasks: 2 active
2025-06-20 09:17:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-20 09:17:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-20 09:18:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-07-01 06:22:17 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-07-01 06:22:17 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-07-01 06:22:17 | DEBUG    | config:load_config:66 - Admin users: 0
2025-07-01 06:22:17 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-07-01 06:22:17 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-07-01 06:22:17 | ERROR    | database:initialize:111 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:22:17 | ERROR    | __main__:initialize:126 - Failed to initialize bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:22:17 | ERROR    | __main__:start:333 - Failed to start bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:22:17 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:22:17 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:22:17 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-07-01 06:22:17 | ERROR    | __main__:main:409 - Unexpected error: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:22:17 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:22:17 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:22:17 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-07-01 06:27:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-07-01 06:27:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-07-01 06:27:29 | DEBUG    | config:load_config:66 - Admin users: 1
2025-07-01 06:27:29 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-07-01 06:27:29 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-07-01 06:27:29 | ERROR    | database:initialize:124 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:27:29 | ERROR    | __main__:initialize:126 - Failed to initialize bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:27:29 | ERROR    | __main__:start:333 - Failed to start bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:27:29 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:27:29 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:27:29 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-07-01 06:27:29 | ERROR    | __main__:main:409 - Unexpected error: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:27:29 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:27:29 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:27:29 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-07-01 06:28:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-07-01 06:28:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-07-01 06:28:27 | DEBUG    | config:load_config:66 - Admin users: 1
2025-07-01 06:28:27 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-07-01 06:28:27 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-07-01 06:28:27 | ERROR    | database:initialize:132 - Failed to initialize database: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:28:27 | ERROR    | __main__:initialize:126 - Failed to initialize bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:28:27 | ERROR    | __main__:start:333 - Failed to start bot: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:28:27 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:28:27 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:28:27 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
2025-07-01 06:28:27 | ERROR    | __main__:main:409 - Unexpected error: Could not parse SQLAlchemy URL from given URL string
2025-07-01 06:28:27 | INFO     | __main__:shutdown:339 - Shutting down bot...
2025-07-01 06:28:27 | SUCCESS  | __main__:shutdown:361 - Database connections closed
2025-07-01 06:28:27 | SUCCESS  | __main__:shutdown:363 - Bot shutdown completed
