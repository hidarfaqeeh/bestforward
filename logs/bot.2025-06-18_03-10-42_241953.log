2025-06-18 03:10:42 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:10:42 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:10:42 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:10:42 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:10:42 | INFO     | __main__:initialize:49 - Initializing Telegram Forwarding Bot...
2025-06-18 03:10:45 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:10:45 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:10:45 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:10:45 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:10:45 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:10:45 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:10:46 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:10:47 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:10:48 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:10:48 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:10:48 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:10:48 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:10:48 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:10:48 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:10:48 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:10:48 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:10:48 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:10:48 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:10:48 | SUCCESS  | __main__:initialize:54 - Database initialized successfully
2025-06-18 03:10:49 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:10:49 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:10:49 | SUCCESS  | __main__:initialize:59 - Security manager initialized
2025-06-18 03:10:49 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-18 03:10:49 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-18 03:10:49 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-18 03:10:49 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-18 03:10:49 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-18 03:10:49 | WARNING  | __main__:initialize:106 - No valid session found from any source - userbot disabled
2025-06-18 03:10:51 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:10:51 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:10:52 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:10:52 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:10:52 | SUCCESS  | __main__:initialize:122 - Forwarding engine initialized
2025-06-18 03:10:52 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:10:52 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:10:52 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:10:52 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:10:52 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:10:52 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:10:52 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:10:52 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:10:52 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:10:52 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:10:52 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:10:52 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:10:52 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:10:52 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:10:52 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:10:52 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:10:52 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:10:52 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:10:52 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:10:52 | SUCCESS  | __main__:initialize:134 - Bot controller initialized
2025-06-18 03:10:52 | SUCCESS  | __main__:initialize:136 - All components initialized successfully
2025-06-18 03:10:52 | INFO     | __main__:start_polling:145 - Starting bot in polling mode...
2025-06-18 03:10:53 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:10:53 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:10:53 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:10:53 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:10:53 | SUCCESS  | __main__:start_polling:170 - Forwarding engine started
2025-06-18 03:10:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:10:54 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 03:11:01 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002259745111 (message 533)
2025-06-18 03:11:02 | WARNING  | bot_controller:handle_channel_message:856 - Message 533 from -1002259745111 was not forwarded
2025-06-18 03:11:06 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002259745111 (message 534)
2025-06-18 03:11:06 | WARNING  | bot_controller:handle_channel_message:856 - Message 534 from -1002259745111 was not forwarded
2025-06-18 03:11:12 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 03:11:12 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 03:11:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:11:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:11:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:11:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:11:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:11:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:11:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:11:15 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 03:11:15 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 03:11:15 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 03:11:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 03:11:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:11:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 03:11:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 03:11:16 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 1 mode is bot
2025-06-18 03:11:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 03:11:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 03:11:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 03:11:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 03:11:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 03:11:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 03:11:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 03:11:17 | INFO     | handlers.tasks:_handle_task_settings:1215 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 03:11:19 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 03:11:19 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 03:11:19 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 03:11:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 03:11:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:11:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 03:11:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 03:11:19 | INFO     | handlers.tasks:_handle_content_setting:1822 - Content setting accessed for task 1
2025-06-18 03:11:19 | INFO     | handlers.tasks:_handle_content_setting:1864 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 03:11:19 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 03:11:19 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content message updated with new text and keyboard
2025-06-18 03:11:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 03:11:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 03:11:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 03:11:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 03:11:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:11:23 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 03:11:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 03:11:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 03:11:27 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 03:11:27 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 03:11:27 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 03:11:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 03:11:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 03:11:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 03:11:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 03:11:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 03:11:28 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 03:11:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 03:11:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 03:11:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 03:11:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:30 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 03:11:30 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 03:11:30 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 03:11:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 03:11:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:11:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 03:11:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:30 | WARNING  | handlers.tasks:handle_callback:783 - Unhandled task callback: cleaner_lines_toggle_1
2025-06-18 03:11:32 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_words_toggle_1
2025-06-18 03:11:32 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_words_toggle_1' from user 6556918772
2025-06-18 03:11:32 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_words_toggle_1
2025-06-18 03:11:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_toggle_1
2025-06-18 03:11:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:11:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_toggle_1 ===
2025-06-18 03:11:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:32 | WARNING  | handlers.tasks:handle_callback:783 - Unhandled task callback: cleaner_words_toggle_1
2025-06-18 03:11:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 03:11:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 03:11:35 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 03:11:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 03:11:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 03:11:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 03:11:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:36 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7708 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 03:11:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_manage_words_1
2025-06-18 03:11:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_manage_words_1' from user 6556918772
2025-06-18 03:11:40 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_manage_words_1
2025-06-18 03:11:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_manage_words_1
2025-06-18 03:11:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:11:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_manage_words_1 ===
2025-06-18 03:11:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_manage_words_1' (type: <class 'str'>)
2025-06-18 03:11:40 | WARNING  | handlers.tasks:handle_callback:783 - Unhandled task callback: cleaner_manage_words_1
2025-06-18 03:11:42 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 03:11:42 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 03:11:42 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 03:11:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 03:11:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 03:11:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 03:11:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:50 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1729)
2025-06-18 03:11:50 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 03:11:50 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: none
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'نشنشننشنشنذ
#محمد_شايم...'
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'نشنشننشنشنذ
#محمد_شايم'
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: none
2025-06-18 03:11:50 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=none
2025-06-18 03:11:51 | INFO     | forwarding_engine:_forward_with_bot:1596 - Applying text replacement rules: {'مرحبا': 'اهلا'}
2025-06-18 03:11:51 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 22 -> 11 chars
2025-06-18 03:11:51 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'apply_mono': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'custom_link_url': 'https://t.me/ZawamlAnsarallah', 'preserve_original': False, 'apply_strikethrough': False}
2025-06-18 03:11:51 | INFO     | forwarding_engine:_apply_formatting:2353 - Successfully applied formatting: ''نشنشننشنشنذ'' (Bold: False)
2025-06-18 03:11:51 | INFO     | forwarding_engine:_apply_formatting:2354 - DEBUG: Final formatted text being returned: ''نشنشننشنشنذ''
2025-06-18 03:11:51 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'نشنشننشنشنذ...'
2025-06-18 03:11:51 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 03:11:51 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 03:11:51 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 03:11:51 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1729 from -1002289754739 forwarded successfully
2025-06-18 03:11:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 03:11:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 03:11:56 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 03:11:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 03:11:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 03:11:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 03:11:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 03:11:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:12:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_reset_1
2025-06-18 03:12:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_reset_1' from user 6556918772
2025-06-18 03:12:35 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_reset_1
2025-06-18 03:12:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_reset_1
2025-06-18 03:12:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 03:12:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_reset_1 ===
2025-06-18 03:12:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_reset_1' (type: <class 'str'>)
2025-06-18 03:12:38 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'حذف الأسطر الزائده وزر حذف أسطر بكلمات وزر إدارة الكلمات المستهدفة يظهر خطا unknown action' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-18 03:12:38 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'حذف الأسطر الزائده وزر حذف أسطر بكلمات وزر إدارة الكلمات المستهدفة يظهر خطا unknown action' in state: BotStates:MAIN_MENU
2025-06-18 03:12:41 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_test_1
2025-06-18 03:12:41 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_test_1' from user 6556918772
2025-06-18 03:12:41 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_test_1
2025-06-18 03:12:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_test_1
2025-06-18 03:12:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 03:12:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_test_1 ===
2025-06-18 03:12:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_test_1' (type: <class 'str'>)
2025-06-18 03:12:44 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Kdjdkkx' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 03:12:47 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Kdkxk' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 03:13:02 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 03:13:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 03:13:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 03:13:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:13:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:13:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:13:05 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:13:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:13:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:13:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:13:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:13:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 03:13:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 03:13:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 03:13:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 03:13:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:13:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 03:13:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 03:13:07 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 1 mode is bot
2025-06-18 03:13:14 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:13:14 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:13:14 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:13:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:13:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:13:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:13:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:13:15 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_4
2025-06-18 03:13:15 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-18 03:13:15 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_4
2025-06-18 03:13:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-18 03:13:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:13:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-18 03:13:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-18 03:13:16 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 4 mode is userbot
2025-06-18 03:13:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_toggle_4
2025-06-18 03:13:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_toggle_4' from user 6556918772
2025-06-18 03:13:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_toggle_4
2025-06-18 03:13:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_toggle_4
2025-06-18 03:13:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 03:13:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_toggle_4 ===
2025-06-18 03:13:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_toggle_4' (type: <class 'str'>)
2025-06-18 03:13:17 | INFO     | modules.task_manager:update_task:166 - Updated task 4
2025-06-18 03:13:17 | INFO     | modules.task_manager:toggle_task_status:214 - Task 4 activated
2025-06-18 03:13:18 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:13:18 | WARNING  | forwarding_engine:_start_task_monitoring:167 - Task 4 configured for userbot but userbot unavailable, switching to Bot API mode
2025-06-18 03:13:18 | INFO     | forwarding_engine:_start_task_monitoring:174 - Task 4 automatically switched to Bot API mode
2025-06-18 03:13:18 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 03:13:18 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:13:18 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 03:13:18 | INFO     | forwarding_engine:add_task:2678 - Added task 4 to monitoring
2025-06-18 03:13:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:13:19 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 4 mode is bot
2025-06-18 03:13:22 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002259745111 (message 535)
2025-06-18 03:13:22 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002259745111 for task 4
2025-06-18 03:13:22 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '....'
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '.'
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 03:13:22 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 03:13:22 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 03:13:22 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 4: {}
2025-06-18 03:13:22 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 03:13:22 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 03:13:22 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '....'
2025-06-18 03:13:22 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 03:13:22 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 03:13:22 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 03:13:23 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 535 from -1002259745111 forwarded successfully
2025-06-18 03:13:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_mode_toggle_4
2025-06-18 03:13:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_mode_toggle_4' from user 6556918772
2025-06-18 03:13:29 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_mode_toggle_4
2025-06-18 03:13:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_mode_toggle_4
2025-06-18 03:13:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 03:13:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_mode_toggle_4 ===
2025-06-18 03:13:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_mode_toggle_4' (type: <class 'str'>)
2025-06-18 03:13:30 | INFO     | modules.channel_monitor:stop:79 - Stopped monitoring for task 4
2025-06-18 03:13:30 | INFO     | forwarding_engine:_stop_task_monitoring:228 - Stopped monitoring for task 4
2025-06-18 03:13:30 | INFO     | forwarding_engine:remove_task:2689 - Removed task 4 from monitoring
2025-06-18 03:13:30 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:13:30 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 03:13:30 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:13:30 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 03:13:30 | INFO     | forwarding_engine:add_task:2678 - Added task 4 to monitoring
2025-06-18 03:13:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:13:31 | INFO     | handlers.tasks:_handle_task_mode_toggle:1603 - Task 4 mode after update: bot
2025-06-18 03:13:31 | INFO     | handlers.tasks:_handle_task_mode_toggle:1607 - Successfully updated task view for task 4
2025-06-18 03:13:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:13:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:13:34 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:13:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:13:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:13:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:13:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:13:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_4
2025-06-18 03:13:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-18 03:13:37 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_4
2025-06-18 03:13:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-18 03:13:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:13:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-18 03:13:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-18 03:13:37 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 4 mode is bot
2025-06-18 03:13:39 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_mode_toggle_4
2025-06-18 03:13:39 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_mode_toggle_4' from user 6556918772
2025-06-18 03:13:39 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_mode_toggle_4
2025-06-18 03:13:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_mode_toggle_4
2025-06-18 03:13:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 03:13:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_mode_toggle_4 ===
2025-06-18 03:13:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_mode_toggle_4' (type: <class 'str'>)
2025-06-18 03:14:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:14:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:14:46 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:14:46 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:14:46 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:14:46 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:14:46 | INFO     | __main__:initialize:49 - Initializing Telegram Forwarding Bot...
2025-06-18 03:14:49 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:14:49 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:14:49 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:14:49 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:14:50 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:14:51 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:14:52 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:14:52 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:14:52 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:14:53 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:14:53 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:14:53 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:14:53 | SUCCESS  | __main__:initialize:54 - Database initialized successfully
2025-06-18 03:14:53 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:14:53 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:14:53 | SUCCESS  | __main__:initialize:59 - Security manager initialized
2025-06-18 03:14:53 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-18 03:14:53 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-18 03:14:53 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-18 03:14:53 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-18 03:14:53 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-18 03:14:53 | WARNING  | __main__:initialize:106 - No valid session found from any source - userbot disabled
2025-06-18 03:14:55 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:14:55 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:14:56 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:14:56 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:14:56 | SUCCESS  | __main__:initialize:122 - Forwarding engine initialized
2025-06-18 03:14:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:14:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:14:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:14:56 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:14:56 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:14:56 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:14:56 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:14:56 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:14:56 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:14:56 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-18 03:14:56 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:14:56 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:14:56 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:14:56 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:14:56 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:14:56 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:14:56 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:14:57 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:14:57 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:14:57 | SUCCESS  | __main__:initialize:134 - Bot controller initialized
2025-06-18 03:14:57 | SUCCESS  | __main__:initialize:136 - All components initialized successfully
2025-06-18 03:14:57 | INFO     | __main__:start_polling:145 - Starting bot in polling mode...
2025-06-18 03:14:57 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 03:14:57 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:14:57 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 03:14:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:14:57 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:14:57 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:14:57 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:14:57 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:14:57 | SUCCESS  | __main__:start_polling:170 - Forwarding engine started
2025-06-18 03:14:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:16:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:16:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:17:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:17:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:17:44 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: session_start
2025-06-18 03:17:44 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-18 03:18:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:18:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:18:55 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-18 03:18:55 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-18 03:19:00 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_HASH
2025-06-18 03:19:00 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_HASH
2025-06-18 03:19:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:19:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:19:20 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+201557251279' from user 6556918772, state: SessionStates:WAITING_PHONE
2025-06-18 03:19:20 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+201557251279' in state: SessionStates:WAITING_PHONE
2025-06-18 03:19:39 | INFO     | bot_controller:text_message_handler:180 - Text handler: '33430tt' from user 6556918772, state: SessionStates:WAITING_CODE
2025-06-18 03:19:39 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '33430tt' in state: SessionStates:WAITING_CODE
2025-06-18 03:19:45 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Haidar7500' from user 6556918772, state: SessionStates:WAITING_PASSWORD
2025-06-18 03:19:45 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'Haidar7500' in state: SessionStates:WAITING_PASSWORD
2025-06-18 03:19:46 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-18 03:19:59 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:19:59 | INFO     | forwarding_engine:_reload_tasks:2523 - Reloaded tasks: 2 active
2025-06-18 03:20:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:20:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:21:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:21:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:21:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:21:26 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:21:26 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:21:29 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:21:29 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:21:29 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:21:29 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:21:29 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:21:30 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:21:31 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:21:32 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:21:32 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:21:32 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:21:32 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:21:32 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:21:32 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:21:32 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:21:32 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:21:33 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:21:33 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:21:33 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:21:33 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:21:33 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:21:33 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:21:33 | WARNING  | __main__:initialize:95 - No valid session string found - userbot disabled
2025-06-18 03:21:35 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:21:35 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:21:36 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:21:36 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:21:36 | SUCCESS  | __main__:initialize:111 - Forwarding engine initialized
2025-06-18 03:21:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:21:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:21:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:21:36 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:21:36 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:21:36 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:21:36 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:21:36 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:21:36 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:21:36 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-18 03:21:36 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:21:36 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:21:36 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:21:36 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:21:36 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:21:36 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:21:36 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:21:36 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:21:36 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:21:36 | SUCCESS  | __main__:initialize:123 - Bot controller initialized
2025-06-18 03:21:36 | SUCCESS  | __main__:initialize:125 - All components initialized successfully
2025-06-18 03:21:36 | INFO     | __main__:start_polling:134 - Starting bot in polling mode...
2025-06-18 03:21:37 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 03:21:37 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:21:37 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 03:21:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:21:37 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:21:37 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:21:37 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:21:37 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:21:37 | SUCCESS  | __main__:start_polling:159 - Forwarding engine started
2025-06-18 03:21:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:22:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:22:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:22:29 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:22:29 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:22:29 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:22:32 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:22:32 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:22:32 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:22:33 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:22:34 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:22:35 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:22:36 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:22:36 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:22:36 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:22:36 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:22:36 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:22:36 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:22:36 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:22:36 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:22:36 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:22:36 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:22:36 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:22:36 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:22:38 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:22:38 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:22:39 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:22:39 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:22:39 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:22:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:22:39 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:22:39 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:22:39 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:22:39 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:22:39 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:22:39 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:22:39 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:22:39 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:22:40 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-18 03:22:40 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:22:40 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:22:40 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:22:40 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:22:40 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:22:40 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:22:40 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:22:40 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:22:40 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:22:40 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:22:40 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:22:40 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:22:41 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 03:22:41 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 03:22:42 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 03:22:42 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:22:42 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 03:22:42 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 03:22:42 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:22:42 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:22:42 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:22:42 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:22:42 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:22:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:22:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_mode_toggle_4
2025-06-18 03:22:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_mode_toggle_4' from user 6556918772
2025-06-18 03:22:56 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_mode_toggle_4
2025-06-18 03:22:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_mode_toggle_4
2025-06-18 03:22:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 03:22:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_mode_toggle_4 ===
2025-06-18 03:22:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_mode_toggle_4' (type: <class 'str'>)
2025-06-18 03:22:56 | INFO     | modules.channel_monitor:stop:79 - Stopped monitoring for task 4
2025-06-18 03:22:56 | INFO     | forwarding_engine:_stop_task_monitoring:228 - Stopped monitoring for task 4
2025-06-18 03:22:56 | INFO     | forwarding_engine:remove_task:2689 - Removed task 4 from monitoring
2025-06-18 03:22:56 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 03:22:57 | INFO     | modules.channel_monitor:_start_userbot_monitoring:103 - Userbot monitoring started for task 4
2025-06-18 03:22:57 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 03:22:57 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using userbot
2025-06-18 03:22:57 | INFO     | forwarding_engine:add_task:2678 - Added task 4 to monitoring
2025-06-18 03:22:57 | INFO     | handlers.tasks:_handle_task_mode_toggle:1603 - Task 4 mode after update: userbot
2025-06-18 03:22:58 | INFO     | handlers.tasks:_handle_task_mode_toggle:1607 - Successfully updated task view for task 4
2025-06-18 03:23:01 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002259745111 (message 536)
2025-06-18 03:23:02 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002259745111 for task 4
2025-06-18 03:23:02 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '.....'
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '..'
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 03:23:02 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 03:23:02 | INFO     | forwarding_engine:_forward_message:1491 - Attempting userbot forwarding for task 4
2025-06-18 03:23:02 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 4: {}
2025-06-18 03:23:02 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 03:23:02 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 03:23:02 | INFO     | forwarding_engine:_process_userbot_text:2063 - Text cleaning applied
2025-06-18 03:23:02 | INFO     | forwarding_engine:_forward_message:1497 - Userbot forwarding successful for task 4
2025-06-18 03:23:02 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002638960177 (message 768)
2025-06-18 03:23:03 | WARNING  | bot_controller:handle_channel_message:856 - Message 768 from -1002638960177 was not forwarded
2025-06-18 03:23:03 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 536 from -1002259745111 forwarded successfully
2025-06-18 03:23:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:23:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_toggle_4
2025-06-18 03:23:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_toggle_4' from user 6556918772
2025-06-18 03:23:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_toggle_4
2025-06-18 03:23:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_toggle_4
2025-06-18 03:23:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 03:23:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_toggle_4 ===
2025-06-18 03:23:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_toggle_4' (type: <class 'str'>)
2025-06-18 03:23:58 | INFO     | modules.task_manager:update_task:166 - Updated task 4
2025-06-18 03:23:58 | INFO     | modules.task_manager:toggle_task_status:214 - Task 4 deactivated
2025-06-18 03:23:58 | INFO     | modules.channel_monitor:stop:79 - Stopped monitoring for task 4
2025-06-18 03:23:58 | INFO     | forwarding_engine:_stop_task_monitoring:228 - Stopped monitoring for task 4
2025-06-18 03:23:58 | INFO     | forwarding_engine:remove_task:2689 - Removed task 4 from monitoring
2025-06-18 03:23:59 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 4 mode is userbot
2025-06-18 03:24:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:24:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:24:00 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:24:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:24:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:24:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:24:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:24:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 03:24:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 03:24:01 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 03:24:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 03:24:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:24:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 03:24:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 03:24:02 | INFO     | handlers.tasks:_handle_task_view:1041 - Task view: Task 1 mode is bot
2025-06-18 03:24:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 03:24:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 03:24:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 03:24:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 03:24:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 03:24:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 03:24:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 03:24:04 | INFO     | handlers.tasks:_handle_task_settings:1215 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 03:24:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 03:24:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 03:24:05 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 03:24:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 03:24:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:24:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 03:24:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 03:24:05 | INFO     | handlers.tasks:_handle_content_setting:1822 - Content setting accessed for task 1
2025-06-18 03:24:05 | INFO     | handlers.tasks:_handle_content_setting:1864 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 03:24:05 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 03:24:06 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content message updated with new text and keyboard
2025-06-18 03:24:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 03:24:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 03:24:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 03:24:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 03:24:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:24:08 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 03:24:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 03:24:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 03:24:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 03:24:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 03:24:10 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 03:24:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 03:24:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:24:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 03:24:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 03:24:10 | WARNING  | handlers.tasks:handle_callback:783 - Unhandled task callback: cleaner_lines_toggle_1
2025-06-18 03:24:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 03:24:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 03:24:36 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 03:24:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 03:24:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 03:24:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 03:24:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 03:24:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 03:24:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 03:24:37 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 03:24:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 03:24:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 03:24:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 03:24:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 03:24:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:25:44 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:25:44 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:25:44 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:25:44 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:25:44 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:25:47 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:25:47 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:25:47 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:25:47 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:25:47 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:25:48 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:25:49 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:25:50 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:25:50 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:25:50 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:25:50 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:25:50 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:25:50 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:25:50 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:25:50 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:25:50 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:25:50 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:25:50 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:25:51 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:25:51 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:25:51 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:25:51 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:25:51 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:25:51 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:25:53 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:25:53 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:25:53 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:25:53 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:25:53 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:25:53 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:25:53 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:25:53 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:25:53 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:25:54 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:25:54 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:25:54 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:25:54 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:25:54 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:25:54 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:25:54 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:25:54 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:25:54 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:25:54 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:25:54 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:25:54 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:25:54 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:25:54 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:25:54 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:25:54 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:25:54 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:25:54 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:25:55 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 03:25:56 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 03:25:56 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:25:56 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:25:56 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:25:56 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:25:56 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:25:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:27:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:27:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 03:27:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 03:27:23 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 03:27:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 03:27:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:27:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 03:27:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 03:27:24 | ERROR    | database:execute_command:477 - Command execution failed: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (108, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_extra_lines": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:27:24 | ERROR    | handlers.tasks:_toggle_cleaner_setting:8228 - Error toggling cleaner setting: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (108, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_extra_lines": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:27:26 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_words_toggle_1
2025-06-18 03:27:26 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_words_toggle_1' from user 6556918772
2025-06-18 03:27:26 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_words_toggle_1
2025-06-18 03:27:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_toggle_1
2025-06-18 03:27:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:27:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_toggle_1 ===
2025-06-18 03:27:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_toggle_1' (type: <class 'str'>)
2025-06-18 03:27:26 | ERROR    | database:execute_command:477 - Command execution failed: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (109, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_lines_with_words": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:27:26 | ERROR    | handlers.tasks:_toggle_cleaner_setting:8228 - Error toggling cleaner setting: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (109, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_lines_with_words": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:28:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:29:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:30:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:30:58 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:30:58 | INFO     | forwarding_engine:_reload_tasks:2523 - Reloaded tasks: 1 active
2025-06-18 03:31:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:32:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:33:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:34:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:35:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:35:58 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:35:58 | INFO     | forwarding_engine:_reload_tasks:2523 - Reloaded tasks: 1 active
2025-06-18 03:36:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:37:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:38:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:39:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:51:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:51:40 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:51:40 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:51:40 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:51:40 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:51:43 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:51:43 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:51:44 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:51:45 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:51:46 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:51:46 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:51:46 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:51:46 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:51:46 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:51:46 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:51:46 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:51:46 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:51:46 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:51:46 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:51:46 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:51:46 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-18 03:51:46 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-18 03:51:46 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-18 03:51:46 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-18 03:51:46 | ERROR    | session_manager:get_unified_session:228 - No valid session found from any source
2025-06-18 03:51:46 | WARNING  | __main__:initialize:93 - No valid session string found in unified storage - userbot disabled
2025-06-18 03:51:49 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:51:49 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:51:49 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:51:49 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:51:49 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:51:49 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:51:49 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:51:49 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:51:49 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:51:50 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:51:50 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:51:50 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:51:50 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:51:50 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:51:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:51:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:51:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:51:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:51:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:51:50 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:51:50 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:51:50 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:51:50 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:51:50 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:51:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:51:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:51:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:51:51 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:51:51 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:51:51 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:51:51 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:51:51 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:51:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:52:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:54:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:54:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: session_start
2025-06-18 03:54:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_ID
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+201557251279' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-18 03:54:05 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+201557251279' in state: SessionStates:WAITING_API_ID
2025-06-18 03:54:11 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: session_start
2025-06-18 03:54:11 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'session_start' from user 6556918772
2025-06-18 03:54:16 | INFO     | bot_controller:text_message_handler:180 - Text handler: '24343527' from user 6556918772, state: SessionStates:WAITING_API_ID
2025-06-18 03:54:16 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '24343527' in state: SessionStates:WAITING_API_ID
2025-06-18 03:54:20 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'c1259b40b2ba148a795f8db4a830cbf5' from user 6556918772, state: SessionStates:WAITING_API_HASH
2025-06-18 03:54:20 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'c1259b40b2ba148a795f8db4a830cbf5' in state: SessionStates:WAITING_API_HASH
2025-06-18 03:54:23 | INFO     | bot_controller:text_message_handler:180 - Text handler: '+201557251279' from user 6556918772, state: SessionStates:WAITING_PHONE
2025-06-18 03:54:23 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '+201557251279' in state: SessionStates:WAITING_PHONE
2025-06-18 03:54:47 | INFO     | bot_controller:text_message_handler:180 - Text handler: '69299tt' from user 6556918772, state: SessionStates:WAITING_CODE
2025-06-18 03:54:47 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: '69299tt' in state: SessionStates:WAITING_CODE
2025-06-18 03:55:00 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Haidar7500' from user 6556918772, state: SessionStates:WAITING_PASSWORD
2025-06-18 03:55:00 | INFO     | bot_controller:text_message_handler:204 - Routing session text to handler: 'Haidar7500' in state: SessionStates:WAITING_PASSWORD
2025-06-18 03:55:01 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-18 03:55:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:55:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:55:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:55:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:55:26 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:55:26 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:55:29 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:55:29 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:55:29 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:55:29 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:55:30 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:55:31 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:55:32 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:55:32 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:55:33 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:55:33 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:55:33 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:55:33 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:55:33 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:55:33 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:55:33 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:55:33 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:55:33 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:55:33 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:55:33 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:55:35 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:55:35 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:55:36 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:55:36 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:55:36 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:55:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:55:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:55:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:55:36 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:55:36 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:55:36 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:55:36 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:55:36 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:55:36 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:55:36 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:55:36 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:55:36 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:55:36 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:55:36 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:55:36 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:55:36 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:55:36 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:55:37 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:55:37 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:55:37 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:55:37 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:55:37 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:55:38 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 03:55:38 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 03:55:38 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:55:38 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:55:38 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:55:38 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:55:38 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:55:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:56:35 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:56:35 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:56:35 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:56:35 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:56:35 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:56:38 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:56:38 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:56:38 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:56:38 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:56:38 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:56:38 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:56:39 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:56:40 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:56:41 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:56:41 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:56:41 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:56:41 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:56:41 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:56:41 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:56:41 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:56:41 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:56:41 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:56:41 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:56:41 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:56:42 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:56:42 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:56:42 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:56:42 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:56:42 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:56:42 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:56:44 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:56:44 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:56:44 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:56:44 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:56:44 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:56:44 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:56:44 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:56:44 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:56:44 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:56:45 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:56:45 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:56:45 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:56:45 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:56:45 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:56:45 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:56:45 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:56:45 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:56:45 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:56:45 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:56:45 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:56:45 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:56:45 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:56:45 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:56:45 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:56:45 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:56:45 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:56:45 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:56:46 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 03:56:46 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 03:56:47 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:56:47 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:56:47 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:56:47 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:56:47 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:56:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:56:59 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 03:57:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 03:57:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 03:57:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 03:57:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 03:57:02 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 03:57:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 03:57:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 03:57:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 03:57:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 03:57:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 03:57:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 03:57:03 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 03:57:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 03:57:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 03:57:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 03:57:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 03:57:04 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 03:57:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 03:57:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 03:57:05 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 03:57:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 03:57:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 03:57:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 03:57:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 03:57:05 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 03:57:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 03:57:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 03:57:07 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 03:57:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 03:57:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:57:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 03:57:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 03:57:07 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 03:57:07 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 03:57:07 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 03:57:07 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 03:57:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_prefix_1
2025-06-18 03:57:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-18 03:57:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_prefix_1
2025-06-18 03:57:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-18 03:57:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 03:57:08 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-18 03:57:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-18 03:57:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-18 03:57:11 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 03:57:11 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 03:57:11 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 03:57:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 03:57:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:57:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 03:57:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 03:57:11 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 03:57:11 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 03:57:11 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 03:57:11 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 03:57:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 03:57:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 03:57:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 03:57:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 03:57:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 03:57:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 03:57:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 03:57:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 03:57:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_words_toggle_1
2025-06-18 03:57:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_words_toggle_1' from user 6556918772
2025-06-18 03:57:18 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_words_toggle_1
2025-06-18 03:57:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_toggle_1
2025-06-18 03:57:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:57:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_toggle_1 ===
2025-06-18 03:57:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_toggle_1' (type: <class 'str'>)
2025-06-18 03:57:18 | ERROR    | database:execute_command:477 - Command execution failed: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (110, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_lines_with_words": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:57:18 | ERROR    | handlers.tasks:_toggle_cleaner_setting:8228 - Error toggling cleaner setting: null value in column "forward_mode" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (110, 1, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_hashtags": false, "remove_lines_with_words": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:57:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:58:05 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 03:58:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:58:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:58:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:58:43 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:58:43 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:58:46 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:58:46 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:58:46 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:58:46 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:58:46 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:58:46 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:58:47 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:58:48 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:58:49 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:58:49 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:58:49 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:58:49 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:58:49 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-18 03:58:49 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-18 03:58:49 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:58:49 | WARNING  | database:create_advanced_tables:404 - Could not create manual_approvals table: pool is closing
2025-06-18 03:58:49 | WARNING  | database:create_advanced_tables:423 - Could not create message_tracking table: pool is closing
2025-06-18 03:58:49 | WARNING  | database:create_advanced_tables:445 - Could not create recurring_posts table: pool is closing
2025-06-18 03:58:49 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:58:49 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:58:49 | ERROR    | security:_load_user_permissions:82 - Failed to load user permissions: pool is closing
2025-06-18 03:58:49 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:58:49 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:58:49 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:58:49 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:58:49 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_users: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_users: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for admin_users: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_tasks: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for active_tasks: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_sources: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_targets: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for total_messages: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for successful_messages: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for failed_messages: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_today: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_week: pool is closing
2025-06-18 03:58:49 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_month: pool is closing
2025-06-18 03:58:49 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:58:49 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:58:49 | ERROR    | database:get_active_tasks:539 - Failed to get active tasks with sources/targets: pool is closing
2025-06-18 03:58:49 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 0 active tasks
2025-06-18 03:58:49 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:58:49 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:58:49 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:58:49 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:58:49 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:58:49 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:58:49 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-18 03:58:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:58:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:58:49 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:58:49 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:58:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:58:49 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-18 03:58:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:58:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:58:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:58:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:58:49 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:58:49 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:58:49 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:58:49 | INFO     | database:close:694 - Connection pool closed
2025-06-18 03:58:49 | INFO     | database:close:698 - Database engine disposed
2025-06-18 03:58:49 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-18 03:58:49 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-18 03:58:53 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:58:53 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:58:53 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:58:53 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:58:53 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 03:58:56 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 03:58:56 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 03:58:56 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 03:58:57 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 03:58:58 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 03:58:59 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 03:58:59 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 03:59:00 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 03:59:00 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 03:59:00 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 03:59:00 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 03:59:00 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 03:59:00 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 03:59:00 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 03:59:00 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 03:59:00 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 03:59:00 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 03:59:00 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 03:59:02 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 03:59:02 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 03:59:03 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 03:59:03 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 03:59:03 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 03:59:03 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:59:03 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:59:03 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:59:03 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:59:03 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 03:59:03 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 03:59:03 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 03:59:03 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 03:59:03 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 03:59:03 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 03:59:03 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 03:59:03 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 03:59:03 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 03:59:03 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 03:59:03 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 03:59:03 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 03:59:03 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 03:59:04 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 03:59:04 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 03:59:04 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 03:59:04 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 03:59:04 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 03:59:05 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 03:59:05 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 03:59:05 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 03:59:05 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 03:59:05 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 03:59:05 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 03:59:05 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 03:59:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 03:59:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 03:59:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 03:59:40 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 03:59:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 03:59:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 03:59:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 03:59:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 03:59:40 | ERROR    | database:execute_command:477 - Command execution failed: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (114, 1, auto, f, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_extra_lines": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:59:40 | ERROR    | handlers.tasks:_toggle_cleaner_setting:8228 - Error toggling cleaner setting: null value in column "add_caption" of relation "task_settings" violates not-null constraint
DETAIL:  Failing row contains (114, 1, auto, f, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, t, t, t, t, t, t, t, t, t, t, t, t, whitelist, all, {}, t, f, [], [], null, {"remove_extra_lines": true}, f, f, blacklist, null, f, t, f, f, f, f, f, ar, f, 0, 23, UTC, f, null, 24, auto, 12, 13, f, f, {}, null, null, , , t, t, f, []).
2025-06-18 03:59:57 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 03:59:57 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 03:59:57 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 03:59:57 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 03:59:57 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:00:00 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:00:00 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:00:00 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:00:00 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:00:00 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:00:01 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:00:02 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:00:03 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:00:03 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:00:03 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:00:03 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:00:03 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:00:03 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:00:03 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:00:03 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:00:03 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:00:03 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:00:03 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:00:04 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:00:04 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:00:04 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:00:04 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:00:04 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:00:04 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:00:06 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:00:06 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:00:06 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:00:06 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:00:06 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:00:06 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:00:06 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:00:06 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:00:06 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:00:07 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:00:07 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:00:07 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:00:07 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:00:07 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:00:07 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:00:07 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:00:07 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:00:07 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:00:07 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:00:07 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:00:07 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:00:07 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:00:07 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:00:07 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:00:07 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:00:07 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:00:07 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:00:08 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:00:09 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:00:09 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:00:09 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:00:09 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:00:09 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:00:09 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:00:09 | INFO     | database:cleanup_old_logs:657 - Cleaned up old logs: DELETE 0
2025-06-18 04:00:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:00:11 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:00:17 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:00:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 04:00:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 04:00:28 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 04:00:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 04:00:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:00:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 04:00:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 04:00:42 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:00:42 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:00:42 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:00:42 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:00:42 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:00:42 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-18 04:00:42 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-18 04:00:42 | INFO     | database:close:698 - Database engine disposed
2025-06-18 04:00:42 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-18 04:00:42 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-18 04:00:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:00:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:00:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:00:47 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:00:47 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:00:50 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:00:50 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:00:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:00:52 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:00:53 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:00:53 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:00:53 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:00:53 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:00:53 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:00:53 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:00:53 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:00:53 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:00:53 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:00:53 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:00:53 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:00:53 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:00:53 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:00:53 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:00:56 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:00:56 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:00:56 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:00:56 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:00:56 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:00:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:00:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:00:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:00:56 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:00:56 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:00:56 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:00:56 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:00:56 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:00:56 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:00:57 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:00:57 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:00:57 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:00:57 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:00:57 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:00:57 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:00:57 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:00:57 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:00:57 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:00:57 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:00:57 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:00:57 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:00:57 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:00:58 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:00:58 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:00:59 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:00:59 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:00:59 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:00:59 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:00:59 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:00:59 | INFO     | database:cleanup_old_logs:657 - Cleaned up old logs: DELETE 0
2025-06-18 04:00:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:00:59 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1734)
2025-06-18 04:00:59 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:00:59 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'خ...'
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'خ'
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:00:59 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:01 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1735)
2025-06-18 04:01:01 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:02 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ح...'
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'ح'
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:02 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:03 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:03 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:03 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:03 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:03 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'خ...'
2025-06-18 04:01:03 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:03 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:03 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:03 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1736)
2025-06-18 04:01:03 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:03 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '٩...'
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '٩'
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:03 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:04 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1734 from -1002289754739 forwarded successfully
2025-06-18 04:01:04 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:04 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:04 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:04 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:04 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'ح...'
2025-06-18 04:01:04 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:04 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:04 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:05 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1735 from -1002289754739 forwarded successfully
2025-06-18 04:01:07 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1737)
2025-06-18 04:01:07 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:07 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '٩...'
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '٩'
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:07 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:08 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:08 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:08 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:08 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:08 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '٩...'
2025-06-18 04:01:08 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:08 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:08 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:09 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1736 from -1002289754739 forwarded successfully
2025-06-18 04:01:11 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:11 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:11 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:11 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:11 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '٩...'
2025-06-18 04:01:11 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:11 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:11 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:11 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1737 from -1002289754739 forwarded successfully
2025-06-18 04:01:15 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1738)
2025-06-18 04:01:15 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:15 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'خخخن







حننتنتت...'
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'خخخن







حننتنتت'
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:15 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:20 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1739)
2025-06-18 04:01:20 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:20 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ط...'
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'ط'
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:20 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:20 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 19 -> 13 chars
2025-06-18 04:01:20 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:20 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:20 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:20 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'خخخن

حننتنتت...'
2025-06-18 04:01:20 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:20 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:20 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:21 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1738 from -1002289754739 forwarded successfully
2025-06-18 04:01:24 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:24 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:24 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:24 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:24 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'ط...'
2025-06-18 04:01:24 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:24 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:24 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:25 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1739 from -1002289754739 forwarded successfully
2025-06-18 04:01:31 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1740)
2025-06-18 04:01:31 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:01:31 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'خخخن

حننتنتت...'
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'خخخن

حننتنتت'
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:01:31 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:01:33 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:01:33 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:01:33 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:01:33 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:01:33 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'خخخن

حننتنتت...'
2025-06-18 04:01:33 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:01:33 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:01:33 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:01:33 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1740 from -1002289754739 forwarded successfully
2025-06-18 04:02:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:02:26 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1741)
2025-06-18 04:02:26 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:02:26 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'اختبار 


اختبار...'
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'اختبار 


اختبار'
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:02:26 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:02:30 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 16 -> 15 chars
2025-06-18 04:02:30 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:02:30 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:02:30 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:02:30 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'اختبار 

اختبار...'
2025-06-18 04:02:30 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:02:30 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:02:30 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:02:30 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1741 from -1002289754739 forwarded successfully
2025-06-18 04:02:32 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:02:46 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1001470989107 (message 145405)
2025-06-18 04:02:46 | WARNING  | bot_controller:handle_channel_message:856 - Message 145405 from -1001470989107 was not forwarded
2025-06-18 04:03:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:03:14 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002542749883 (message 946)
2025-06-18 04:03:14 | WARNING  | bot_controller:handle_channel_message:856 - Message 946 from -1002542749883 was not forwarded
2025-06-18 04:04:11 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:04:11 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:04:11 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:04:11 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:04:11 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:04:14 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:04:14 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:04:15 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:04:16 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:04:17 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:04:18 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:04:18 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:04:18 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:04:18 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:04:18 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:04:18 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:04:18 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:04:18 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:04:18 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:04:18 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:04:18 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:04:18 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:04:20 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:04:20 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:04:21 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:04:21 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:04:21 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:04:21 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:04:21 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:04:21 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:04:21 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:04:21 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:04:21 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:04:21 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:04:21 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:04:21 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:04:21 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:04:21 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:04:21 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:04:21 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:04:21 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:04:21 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:04:21 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:04:21 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:04:22 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:04:22 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:04:22 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:04:22 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:04:22 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:04:23 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:04:23 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:04:23 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:04:23 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:04:23 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:04:23 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:04:23 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:04:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:04:24 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1744)
2025-06-18 04:04:24 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:04:25 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'سخخسخس...'
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'سخخسخس'
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:04:25 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:04:26 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:04:26 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:04:26 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:04:26 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:04:26 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'سخخسخس...'
2025-06-18 04:04:26 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:04:26 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:04:26 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:04:27 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1744 from -1002289754739 forwarded successfully
2025-06-18 04:04:31 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1745)
2025-06-18 04:04:31 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:04:31 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'اختبار 


اختبار

اختبار٢



ييحيحيحءح...'
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'اختبار 


اختبار

اختبار٢



ييحيحيحءح'
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:04:31 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:04:35 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 38 -> 24 chars
2025-06-18 04:04:35 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:04:35 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:04:35 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:04:35 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'اختبار
اختبار٢
ييحيحيحءح...'
2025-06-18 04:04:35 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:04:35 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:04:35 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:04:36 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1745 from -1002289754739 forwarded successfully
2025-06-18 04:05:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 04:05:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 04:05:00 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 04:05:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 04:05:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:05:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 04:05:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 04:05:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_words_toggle_1
2025-06-18 04:05:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_words_toggle_1' from user 6556918772
2025-06-18 04:05:02 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_words_toggle_1
2025-06-18 04:05:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_toggle_1
2025-06-18 04:05:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:05:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_toggle_1 ===
2025-06-18 04:05:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_toggle_1' (type: <class 'str'>)
2025-06-18 04:05:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_manage_words_1
2025-06-18 04:05:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_manage_words_1' from user 6556918772
2025-06-18 04:05:05 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_manage_words_1
2025-06-18 04:05:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_manage_words_1
2025-06-18 04:05:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:05:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_manage_words_1 ===
2025-06-18 04:05:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_manage_words_1' (type: <class 'str'>)
2025-06-18 04:05:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_add_words_1
2025-06-18 04:05:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_add_words_1' from user 6556918772
2025-06-18 04:05:07 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_add_words_1
2025-06-18 04:05:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_add_words_1
2025-06-18 04:05:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:05:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_add_words_1 ===
2025-06-18 04:05:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_add_words_1' (type: <class 'str'>)
2025-06-18 04:05:23 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر،مرحبا' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:05:29 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:05:34 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:05:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:05:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:05:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:05:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:05:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:05:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:05:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:05:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:05:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:05:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:05:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:05:38 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:05:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:05:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:05:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:05:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:05:39 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:05:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:05:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:05:40 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:05:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:05:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:05:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:05:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:05:40 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:05:41 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:05:41 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:05:41 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:05:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:05:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:05:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:05:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:05:41 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:05:41 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 04:05:41 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 04:05:42 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 04:05:44 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:05:44 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:05:44 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:05:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:05:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:05:44 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:05:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:05:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:05:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_manage_words_1
2025-06-18 04:05:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_manage_words_1' from user 6556918772
2025-06-18 04:05:45 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_manage_words_1
2025-06-18 04:05:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_manage_words_1
2025-06-18 04:05:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:05:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_manage_words_1 ===
2025-06-18 04:05:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_manage_words_1' (type: <class 'str'>)
2025-06-18 04:06:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:06:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:06:02 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:06:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:06:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:06:02 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:06:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:06:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:06:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:07:11 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:07:11 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:07:11 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:07:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:07:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:07:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:07:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:07:11 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:07:11 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 04:07:11 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 04:07:11 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 04:07:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_links_1
2025-06-18 04:07:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 04:07:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_links_1
2025-06-18 04:07:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 04:07:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:07:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 04:07:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 04:07:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 04:07:39 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:08:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_remove_1
2025-06-18 04:08:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 04:08:07 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_remove_1
2025-06-18 04:08:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 04:08:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 04:08:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 04:08:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 04:08:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_remove_1
2025-06-18 04:08:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 04:08:10 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_remove_1
2025-06-18 04:08:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 04:08:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 04:08:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 04:08:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 04:08:26 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_replace_1
2025-06-18 04:08:26 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_replace_1' from user 6556918772
2025-06-18 04:08:26 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_replace_1
2025-06-18 04:08:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_replace_1
2025-06-18 04:08:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:08:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_replace_1 ===
2025-06-18 04:08:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_replace_1' (type: <class 'str'>)
2025-06-18 04:08:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:08:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:08:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:08:36 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:08:36 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:08:39 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:08:40 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:08:41 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:08:42 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:08:43 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:08:43 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:08:43 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:08:43 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:08:43 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:08:43 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:08:43 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:08:43 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:08:43 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:08:43 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:08:43 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:08:43 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:08:43 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:08:43 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:08:46 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:08:46 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:08:46 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:08:46 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:08:46 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:08:46 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:08:46 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:08:46 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:08:46 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:08:46 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:08:46 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:08:46 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:08:46 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:08:46 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:08:47 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:08:47 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:08:47 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:08:47 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:08:47 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:08:47 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:08:47 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:08:47 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:08:47 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:08:47 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:08:47 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:08:47 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:08:47 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:08:48 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:08:48 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:08:49 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:08:49 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:08:49 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:08:49 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:08:49 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:08:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:09:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:09:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:09:00 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:09:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:09:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:09:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:09:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:09:00 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:09:00 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 04:09:00 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 04:09:00 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 04:09:09 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'اريد حذف أزرار قسم links وحافظ فقط على  الأزرار التاليه 
إزالة الروابط  تفعيل وتعطيل 
استبدال  


وانقل زر links الى قسم text cleaner' from user 6556918772, state: None
2025-06-18 04:09:09 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'اريد حذف أزرار قسم links وحافظ فقط على  الأزرار التاليه 
إزالة الروابط  تفعيل وتعطيل 
استبدال  


وانقل زر links الى قسم text cleaner' in state: None
2025-06-18 04:09:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:10:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:10:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:10:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:10:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:10:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:10:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:10:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:10:45 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:10:47 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:10:47 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:10:47 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:10:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:10:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:10:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:10:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:10:47 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:10:47 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 04:10:47 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 04:10:47 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 04:10:50 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:10:50 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:10:50 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:10:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:10:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:10:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:10:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:10:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:10:55 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:10:55 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:10:55 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:10:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:10:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:10:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:10:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:10:56 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7769 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:10:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:10:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:10:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:10:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:10:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:10:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:10:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:10:58 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:10:58 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔗 Links', '🔙 Back']
2025-06-18 04:10:58 | INFO     | handlers.tasks:_handle_content_setting:1867 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'content_links_1', 'task_settings_1']
2025-06-18 04:10:58 | INFO     | handlers.tasks:_handle_content_setting:1873 - Content message updated with new text and keyboard
2025-06-18 04:10:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:11:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:11:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:11:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:11:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:11:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:11:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:11:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:11:13 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:11:52 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:11:52 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:11:52 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:11:52 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:11:52 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:11:55 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:11:55 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:11:56 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:11:57 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:11:58 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:11:58 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:11:58 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:11:58 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:11:58 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:11:58 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:11:58 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:11:58 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:11:58 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:11:58 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:11:58 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:11:58 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:11:58 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:11:58 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:11:58 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:11:58 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:12:01 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:12:01 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:12:01 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:12:01 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:12:01 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:12:01 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:12:01 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:12:01 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:12:01 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:12:02 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:12:02 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:12:02 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:12:02 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:12:02 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:12:02 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:12:02 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:12:02 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:12:02 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:12:02 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:12:02 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:12:02 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:12:02 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:12:02 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:12:02 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:12:02 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:12:02 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:12:02 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:12:03 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:12:03 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:12:04 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:12:04 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:12:04 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:12:04 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:12:04 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:12:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:12:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_filters_1
2025-06-18 04:12:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 04:12:28 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_filters_1
2025-06-18 04:12:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 04:12:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:12:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 04:12:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 04:12:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:12:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:12:38 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:12:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:12:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:12:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:12:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:12:38 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:12:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_forward_1
2025-06-18 04:12:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-18 04:12:40 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_forward_1
2025-06-18 04:12:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-18 04:12:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:12:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-18 04:12:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-18 04:12:43 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 04:12:43 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 04:12:43 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 04:12:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 04:12:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:12:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 04:12:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 04:12:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1746)
2025-06-18 04:12:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:12:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '،،...'
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '،،'
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:12:49 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:12:49 | INFO     | forwarding_engine:_store_pending_approval:425 - Stored pending approval with ID 28
2025-06-18 04:12:50 | INFO     | forwarding_engine:_handle_manual_approval:338 - Manual approval request sent to admin 6556918772 for task 1
2025-06-18 04:12:50 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1746 from -1002289754739 forwarded successfully
2025-06-18 04:12:51 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:12:51 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:12:51 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:12:51 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:12:53 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:12:53 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:12:53 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:12:53 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:12:54 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:12:54 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:12:54 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:12:54 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:12:54 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:12:54 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:12:54 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:12:54 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:12:55 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:12:55 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:12:55 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:12:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:12:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:12:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:12:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:12:55 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:12:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:12:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:12:57 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:12:57 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: reject_28
2025-06-18 04:13:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'reject_28' from user 6556918772
2025-06-18 04:13:00 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: reject_28 ===
2025-06-18 04:13:00 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: reject_28
2025-06-18 04:13:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:01 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:01 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:02 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:02 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:02 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:02 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:03 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:03 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:03 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:03 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:13:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_forward_1
2025-06-18 04:13:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-18 04:13:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_forward_1
2025-06-18 04:13:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-18 04:13:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:13:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-18 04:13:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-18 04:13:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 04:13:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 04:13:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 04:13:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 04:13:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:13:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 04:13:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 04:13:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_link_preview_1
2025-06-18 04:13:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_link_preview_1' from user 6556918772
2025-06-18 04:13:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_link_preview_1
2025-06-18 04:13:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_link_preview_1
2025-06-18 04:13:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 21
2025-06-18 04:13:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_link_preview_1 ===
2025-06-18 04:13:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_link_preview_1' (type: <class 'str'>)
2025-06-18 04:13:21 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:13:21 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:13:21 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:13:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:13:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:13:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:13:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:13:21 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:13:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_advanced_1
2025-06-18 04:13:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 04:13:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_advanced_1
2025-06-18 04:13:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 04:13:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 04:13:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 04:13:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 04:13:23 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 04:13:23 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 04:13:23 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 04:13:23 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 04:13:23 | INFO     | handlers.tasks:_handle_advanced_setting:6514 - Starting advanced settings handler for task 1
2025-06-18 04:13:23 | INFO     | handlers.tasks:_handle_advanced_setting:6516 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 5, 'remove_links': False, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': None, 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_buttons": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_duplicate_lines": true, "remove_lines_with_words": true}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]'}
2025-06-18 04:13:23 | INFO     | handlers.tasks:_handle_advanced_setting:6526 - Creating keyboard for task 1
2025-06-18 04:13:23 | INFO     | handlers.tasks:_handle_advanced_setting:6528 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:13:23 | INFO     | handlers.tasks:_handle_advanced_setting:6531 - Message edited successfully for task 1
2025-06-18 04:13:23 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 04:13:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: advanced_translation_1
2025-06-18 04:13:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'advanced_translation_1' from user 6556918772
2025-06-18 04:13:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: advanced_translation_1
2025-06-18 04:13:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_translation_1
2025-06-18 04:13:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:13:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_translation_1 ===
2025-06-18 04:13:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_translation_1' (type: <class 'str'>)
2025-06-18 04:13:25 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_translation_1
2025-06-18 04:13:25 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_translation_1
2025-06-18 04:13:25 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_translation_1
2025-06-18 04:13:25 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_translation_1
2025-06-18 04:13:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: source_lang_1
2025-06-18 04:13:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'source_lang_1' from user 6556918772
2025-06-18 04:13:30 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_advanced_1
2025-06-18 04:13:30 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 04:13:30 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_advanced_1
2025-06-18 04:13:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 04:13:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 04:13:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 04:13:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 04:13:30 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 04:13:30 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 04:13:30 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 04:13:30 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 04:13:30 | INFO     | handlers.tasks:_handle_advanced_setting:6514 - Starting advanced settings handler for task 1
2025-06-18 04:13:30 | INFO     | handlers.tasks:_handle_advanced_setting:6516 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 5, 'remove_links': False, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': None, 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_buttons": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_duplicate_lines": true, "remove_lines_with_words": true}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]'}
2025-06-18 04:13:30 | INFO     | handlers.tasks:_handle_advanced_setting:6526 - Creating keyboard for task 1
2025-06-18 04:13:30 | INFO     | handlers.tasks:_handle_advanced_setting:6528 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:13:30 | INFO     | handlers.tasks:_handle_advanced_setting:6531 - Message edited successfully for task 1
2025-06-18 04:13:30 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 04:13:31 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: advanced_working_hours_1
2025-06-18 04:13:31 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'advanced_working_hours_1' from user 6556918772
2025-06-18 04:13:31 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: advanced_working_hours_1
2025-06-18 04:13:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: advanced_working_hours_1
2025-06-18 04:13:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:13:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: advanced_working_hours_1 ===
2025-06-18 04:13:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'advanced_working_hours_1' (type: <class 'str'>)
2025-06-18 04:13:31 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': advanced_working_hours_1
2025-06-18 04:13:31 | ERROR    | handlers.tasks:handle_callback:117 - STARTS WITH 'advanced_': advanced_working_hours_1
2025-06-18 04:13:31 | ERROR    | handlers.tasks:handle_callback:120 - EXACT MATCH DETECTED: advanced_working_hours_1
2025-06-18 04:13:31 | ERROR    | handlers.tasks:handle_callback:124 - ADVANCED BUTTON DETECTED: advanced_working_hours_1
2025-06-18 04:13:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_workhours_1
2025-06-18 04:13:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_workhours_1' from user 6556918772
2025-06-18 04:13:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_workhours_1
2025-06-18 04:13:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_workhours_1
2025-06-18 04:13:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 04:13:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_workhours_1 ===
2025-06-18 04:13:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_workhours_1' (type: <class 'str'>)
2025-06-18 04:13:39 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_advanced_1
2025-06-18 04:13:39 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 04:13:39 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_advanced_1
2025-06-18 04:13:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 04:13:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 04:13:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 04:13:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 04:13:39 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 04:13:39 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 04:13:39 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 04:13:39 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 04:13:39 | INFO     | handlers.tasks:_handle_advanced_setting:6514 - Starting advanced settings handler for task 1
2025-06-18 04:13:39 | INFO     | handlers.tasks:_handle_advanced_setting:6516 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 5, 'remove_links': False, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': None, 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_buttons": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_duplicate_lines": true, "remove_lines_with_words": true}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]'}
2025-06-18 04:13:39 | INFO     | handlers.tasks:_handle_advanced_setting:6526 - Creating keyboard for task 1
2025-06-18 04:13:39 | INFO     | handlers.tasks:_handle_advanced_setting:6528 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:13:39 | INFO     | handlers.tasks:_handle_advanced_setting:6531 - Message edited successfully for task 1
2025-06-18 04:13:39 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 04:13:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:13:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:13:40 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:13:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:13:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:13:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:13:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:13:40 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:13:43 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:13:43 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:13:43 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:13:43 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:13:52 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:13:52 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:13:52 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:13:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:13:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:13:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:13:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:13:52 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:13:52 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:13:52 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:13:53 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:13:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:13:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:13:57 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:13:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:13:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:13:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:13:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:13:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:14:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:14:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:14:00 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:14:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:14:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:14:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:14:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:14:00 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:14:00 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:14:00 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:14:01 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:14:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:14:24 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:14:24 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:14:24 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:14:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:14:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:14:24 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:14:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:14:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:14:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:14:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:14:29 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:14:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:14:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:14:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:14:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:14:29 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:14:29 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:14:29 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:14:29 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:14:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_28
2025-06-18 04:14:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_28' from user 6556918772
2025-06-18 04:14:38 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_28 ===
2025-06-18 04:14:38 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_28
2025-06-18 04:14:43 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'أنشأ زر جديد في لوحة تعديل المهمه وانقل اليه 
زر delays 
زر حد' from user 6556918772, state: None
2025-06-18 04:14:43 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'أنشأ زر جديد في لوحة تعديل المهمه وانقل اليه 
زر delays 
زر حد' in state: None
2025-06-18 04:14:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:14:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:14:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:14:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:14:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:14:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:14:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:14:45 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:14:46 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_forward_1
2025-06-18 04:14:46 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-18 04:14:46 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_forward_1
2025-06-18 04:14:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-18 04:14:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:14:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-18 04:14:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-18 04:14:48 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 04:14:48 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 04:14:48 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 04:14:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 04:14:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:14:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 04:14:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 04:14:55 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1747)
2025-06-18 04:14:55 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:14:55 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'مم...'
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'مم'
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:14:55 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:14:55 | INFO     | forwarding_engine:_store_pending_approval:425 - Stored pending approval with ID 29
2025-06-18 04:14:56 | INFO     | forwarding_engine:_handle_manual_approval:338 - Manual approval request sent to admin 6556918772 for task 1
2025-06-18 04:14:56 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1747 from -1002289754739 forwarded successfully
2025-06-18 04:14:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:14:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:14:57 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:14:57 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:01 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:01 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:01 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:01 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:02 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:02 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:02 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:02 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: approve_29
2025-06-18 04:15:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'approve_29' from user 6556918772
2025-06-18 04:15:07 | WARNING  | bot_controller:handle_callback:600 - === MANUAL APPROVAL CALLBACK DETECTED: approve_29 ===
2025-06-18 04:15:07 | INFO     | bot_controller:handle_callback:601 - User ID: 6556918772, Callback data: approve_29
2025-06-18 04:15:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 04:15:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 04:15:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 04:15:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 04:15:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:15:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 04:15:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 04:15:12 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_sync_edits_1
2025-06-18 04:15:12 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_sync_edits_1' from user 6556918772
2025-06-18 04:15:12 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_sync_edits_1
2025-06-18 04:15:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_sync_edits_1
2025-06-18 04:15:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:15:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_sync_edits_1 ===
2025-06-18 04:15:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_sync_edits_1' (type: <class 'str'>)
2025-06-18 04:15:17 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1748)
2025-06-18 04:15:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:15:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'مسم...'
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'مسم'
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:15:18 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:15:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:15:19 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:15:20 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:15:20 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:15:20 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:15:20 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'مسم...'
2025-06-18 04:15:20 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:15:20 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:15:20 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:15:20 | ERROR    | database:execute_query:467 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 04:15:20 | INFO     | forwarding_engine:_store_message_mapping:2899 - Created message mapping: task=1, source=1748 -> target=949 in chat -1002542749883
2025-06-18 04:15:20 | ERROR    | database:execute_query:467 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 04:15:21 | INFO     | forwarding_engine:_store_message_mapping:2879 - Updated message mapping: task=1, source=1748 -> target=949 in chat -1002542749883
2025-06-18 04:15:21 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1748 from -1002289754739 forwarded successfully
2025-06-18 04:15:25 | INFO     | bot_controller:handle_edited_channel_message:866 - Edited channel post received from -1002289754739 (message 1748)
2025-06-18 04:15:25 | INFO     | forwarding_engine:process_edited_message:258 - DEBUG: Checking edited message from -1002289754739, active tasks: [1]
2025-06-18 04:15:25 | INFO     | forwarding_engine:process_edited_message:263 - DEBUG: Task 1 sources: [-1002289754739]
2025-06-18 04:15:25 | INFO     | forwarding_engine:process_edited_message:266 - Processing edited message from -1002289754739 for task 1
2025-06-18 04:15:25 | WARNING  | forwarding_engine:_sync_edited_message:800 - No forwarded message found for target -1002259745111
2025-06-18 04:15:25 | WARNING  | forwarding_engine:_sync_edited_message:800 - No forwarded message found for target -1002638960177
2025-06-18 04:15:25 | INFO     | forwarding_engine:_sync_edited_message:807 - Synchronized edit to target -1002542749883, message 949
2025-06-18 04:15:25 | INFO     | forwarding_engine:_sync_edited_message:809 - Synchronized edits to 1 target channels for message 1748
2025-06-18 04:15:25 | SUCCESS  | bot_controller:handle_edited_channel_message:872 - Edited message 1748 from -1002289754739 synchronized successfully
2025-06-18 04:15:33 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1749)
2025-06-18 04:15:33 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:15:33 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'خسخس٨س...'
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'خسخس٨س'
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:15:33 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:15:38 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:15:38 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:15:38 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:15:38 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:15:38 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'خسخس٨س...'
2025-06-18 04:15:38 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:15:38 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:15:38 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:15:39 | ERROR    | database:execute_query:467 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 04:15:39 | INFO     | forwarding_engine:_store_message_mapping:2899 - Created message mapping: task=1, source=1749 -> target=950 in chat -1002542749883
2025-06-18 04:15:39 | ERROR    | database:execute_query:467 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 04:15:39 | INFO     | forwarding_engine:_store_message_mapping:2879 - Updated message mapping: task=1, source=1749 -> target=950 in chat -1002542749883
2025-06-18 04:15:39 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1749 from -1002289754739 forwarded successfully
2025-06-18 04:15:48 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: toggle_sync_edits_1
2025-06-18 04:15:48 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'toggle_sync_edits_1' from user 6556918772
2025-06-18 04:15:48 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: toggle_sync_edits_1
2025-06-18 04:15:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_sync_edits_1
2025-06-18 04:15:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:15:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_sync_edits_1 ===
2025-06-18 04:15:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_sync_edits_1' (type: <class 'str'>)
2025-06-18 04:15:52 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:15:52 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:15:52 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:15:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:15:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:15:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:15:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:15:52 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:15:55 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:15:55 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:15:55 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:15:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:15:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:15:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:15:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:15:55 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:15:55 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:15:55 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:15:55 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:15:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:15:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:15:57 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:15:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:15:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:15:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:15:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:15:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:16:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:16:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:16:01 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:16:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:16:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:16:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:16:01 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:16:01 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:16:01 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:16:01 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:16:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:16:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:16:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:16:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:16:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:04 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:16:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:16:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:16:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:16:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:16:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:16:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:16:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:16:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:16:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:16:45 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:16:45 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:16:45 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:16:45 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:16:46 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:16:46 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:16:46 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:16:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:16:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:46 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:16:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:16:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:16:49 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:16:49 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:16:49 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:16:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:16:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:16:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:16:49 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:16:49 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:16:49 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:16:49 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:16:50 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:16:50 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:16:50 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:16:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:16:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:16:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:16:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:16:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:17:03 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:17:03 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:17:03 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:17:03 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:17:03 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:17:06 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:17:06 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:17:07 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:17:08 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:17:09 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:17:09 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:17:09 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:17:09 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:17:09 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:17:09 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:17:09 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:17:09 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:17:09 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:17:09 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:17:09 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:17:09 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:17:09 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:17:09 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:17:09 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:17:12 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:17:12 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:17:12 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:17:12 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:17:12 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:17:12 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:17:12 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:17:12 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:17:12 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:17:13 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:17:13 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:17:13 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:17:13 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:17:13 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:17:13 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:17:13 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:17:13 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:17:13 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:17:13 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:17:13 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:17:13 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:17:13 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:17:13 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:17:13 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:17:13 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:17:13 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:17:13 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:17:14 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:17:14 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:17:15 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:17:15 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:17:15 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:17:15 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:17:15 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:17:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:17:15 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:17:15 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:17:15 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:17:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:17:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:17:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:17:15 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:17:15 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:17:15 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:17:16 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:17:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:17:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:17:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:17:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:17:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:17 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:17:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:17:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:17:19 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:17:19 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:17:19 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:17:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:17:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:17:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:17:19 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:17:19 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:17:19 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:17:19 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:17:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:17:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:17:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:17:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:17:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:20 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:17:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:17:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:17:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:17:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:17:22 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:17:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:17:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:17:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:17:22 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:17:22 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:17:22 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:17:22 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:17:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:17:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:17:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:17:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:17:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:23 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:17:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:17:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:17:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:17:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:17:34 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:17:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:17:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:17:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:17:34 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:17:34 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:17:34 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:17:35 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:17:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:17:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:17:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:17:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:17:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:17:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:17:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:17:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:17:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:17:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:17:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:17:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:17:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:17:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:17:58 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:17:58 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:17:58 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:17:58 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:17:59 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:17:59 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:17:59 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:17:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:17:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:17:59 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:17:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:17:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:18:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:18:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:18:02 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:18:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:18:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:18:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:18:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:18:02 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:18:02 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:18:02 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:18:02 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:18:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:18:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:18:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:18:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:18:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:18:04 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:18:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:18:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:18:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_manage_words_1
2025-06-18 04:18:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_manage_words_1' from user 6556918772
2025-06-18 04:18:05 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_manage_words_1
2025-06-18 04:18:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_manage_words_1
2025-06-18 04:18:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:18:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_manage_words_1 ===
2025-06-18 04:18:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_manage_words_1' (type: <class 'str'>)
2025-06-18 04:18:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_add_words_1
2025-06-18 04:18:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_add_words_1' from user 6556918772
2025-06-18 04:18:07 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_add_words_1
2025-06-18 04:18:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_add_words_1
2025-06-18 04:18:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:18:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_add_words_1 ===
2025-06-18 04:18:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_add_words_1' (type: <class 'str'>)
2025-06-18 04:18:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:18:21 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر،تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:19:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:20:16 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:20:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:20:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:20:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:20:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:20:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:20:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:20:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:20:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:20:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:20:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:20:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:20:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:20:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:20:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:20:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:20:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:20:21 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:20:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:20:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:20:22 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:20:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:20:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:20:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:20:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:20:22 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:20:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:20:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:20:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:20:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:20:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:20:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:20:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:20:23 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:20:23 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:20:23 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:20:23 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:20:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:20:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:20:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:20:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:20:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:20:25 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:20:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:20:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:20:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:20:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:20:39 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:20:39 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:20:39 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:20:39 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:20:42 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:20:42 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:20:42 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:20:42 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:20:42 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:20:43 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:20:44 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:20:45 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:20:45 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:20:45 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:20:45 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:20:46 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:20:46 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:20:46 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:20:46 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:20:46 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:20:46 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:20:46 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:20:46 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:20:46 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:20:48 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:20:48 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:20:49 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:20:49 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:20:49 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:20:49 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:20:49 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:20:49 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:20:49 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:20:49 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:20:49 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:20:49 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:20:49 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:20:49 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:20:49 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:20:49 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:20:49 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:20:49 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:20:49 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:20:49 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:20:49 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:20:49 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:20:50 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:20:50 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:20:50 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:20:50 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:20:50 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:20:51 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:20:51 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:20:51 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:20:51 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:20:51 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:20:51 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:20:51 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:20:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:20:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:20:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:20:56 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:20:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:20:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:20:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:20:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:20:56 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:20:56 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:20:56 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:20:56 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:20:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:20:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:20:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:20:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:20:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:20:58 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:20:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:20:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:20:59 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:20:59 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:20:59 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:20:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:20:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:20:59 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:20:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:20:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:00 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7762 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:21:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:05 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:05 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:05 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:05 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:05 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:06 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:11 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:11 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:11 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:11 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:11 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:11 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:11 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:17 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:17 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:17 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:17 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:18 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:29 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:29 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:29 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:29 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:30 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:31 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:31 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:31 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:31 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:35 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:35 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:35 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:35 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:35 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:21:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:21:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:21:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:21:57 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:21:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:21:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:21:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:21:57 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:21:57 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:21:57 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:21:57 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:21:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:21:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:21:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:21:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:21:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:21:58 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:21:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:21:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:22:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:22:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:22:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:22:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:22:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:22:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:22:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:22:20 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:22:20 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:22:20 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:22:20 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:22:21 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:22:21 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:22:21 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:22:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:22:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:22:21 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:22:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:22:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:22:26 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 04:22:26 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 04:22:26 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 04:22:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 04:22:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 04:22:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 04:22:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 04:22:27 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_hashtags_toggle_1
2025-06-18 04:22:27 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_hashtags_toggle_1' from user 6556918772
2025-06-18 04:22:27 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_hashtags_toggle_1
2025-06-18 04:22:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_hashtags_toggle_1
2025-06-18 04:22:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 04:22:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_hashtags_toggle_1 ===
2025-06-18 04:22:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_hashtags_toggle_1' (type: <class 'str'>)
2025-06-18 04:22:54 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:22:54 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:22:54 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:22:54 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:22:54 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:22:57 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:22:57 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:22:58 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:22:59 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:23:00 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:23:00 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:23:00 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:23:00 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:23:00 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:23:00 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:23:00 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:23:00 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:23:00 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:23:00 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:23:00 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:23:00 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:23:00 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:23:00 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:23:00 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:23:03 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:23:03 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:23:03 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:23:03 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:23:03 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:23:03 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:23:03 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:23:03 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:23:03 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:23:03 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:23:03 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:23:03 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:23:03 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:23:03 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:23:04 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:23:04 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:23:04 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:23:04 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:23:04 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:23:04 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:23:04 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:23:04 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:23:04 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:23:04 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:23:04 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:23:04 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:23:04 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:23:05 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:23:05 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:23:06 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:23:06 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:23:06 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:23:06 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:23:06 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:23:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:23:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:23:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:23:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:23:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:23:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:23:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:23:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:23:06 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:23:06 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:23:06 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:23:06 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:23:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:23:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:23:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:23:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:23:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:23:08 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:23:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:23:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:23:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_links_1
2025-06-18 04:23:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 04:23:10 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_links_1
2025-06-18 04:23:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 04:23:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:23:10 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 04:23:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 04:23:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 04:23:12 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_remove_1
2025-06-18 04:23:12 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 04:23:12 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_remove_1
2025-06-18 04:23:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 04:23:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 04:23:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 04:23:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1750)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1751)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1752)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1753)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1754)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1755)
2025-06-18 04:23:49 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1756)
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:23:49 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 284 -> 264 chars
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:49 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:49 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:49 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:49 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #زامل (( عود بن سالم ))
ـhttps://www.aparat.com/v/dcdzv81
• أداء | #أبو_زيد_حميد
•  كلمات | #أبو_...'
2025-06-18 04:23:49 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:49 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:49 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:23:50 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1751 from -1002289754739 forwarded successfully
2025-06-18 04:23:50 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 316 -> 297 chars
2025-06-18 04:23:50 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:50 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:50 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:50 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #زامل (( القادم الأعنف ))
ـhttps://www.aparat.com/v/jfjlfhr
أداء | #عبدالكريم_المطري | #إبراهيم_ا...'
2025-06-18 04:23:50 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:50 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:50 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:51 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1752 from -1002289754739 forwarded successfully
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 312 -> 290 chars
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 313 -> 295 chars
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #نشيد (( واليت حيدر ))
ـhttps://www.aparat.com/v/kwvt0l3
أداء | #فرقة_المصطفى_الإنشادية بصعدة
•  ...'
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:51 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:51 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #كليب (( أبو الحسين ))
ـhttps://www.aparat.com/v/dvcw491
• أداء | #فرقة_أنصارالله
•  كلمات | #نشو...'
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:51 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:51 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:52 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1753 from -1002289754739 forwarded successfully
2025-06-18 04:23:52 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1750 from -1002289754739 forwarded successfully
2025-06-18 04:23:52 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 331 -> 316 chars
2025-06-18 04:23:52 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:52 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:52 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:52 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #نشيد (( بدر الهدى ))
ـhttps://www.aparat.com/v/rgw1yzd
أداء | #فرقة_المصطفى_بضحيان
• كلمات | #ال...'
2025-06-18 04:23:52 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:52 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:52 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:53 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1754 from -1002289754739 forwarded successfully
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 244 -> 236 chars
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #نشيد (( هذه إيران ))
ـhttps://www.mmy.ye/344600/
أداء | #فرقة_أنصارالله
• كلمات | #راجح_عامر
• #...'
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:53 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 300 -> 292 chars
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:23:53 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5
أداء | #فرقة_أنصارالله
• كلمات | #عبدالوهاب_ا...'
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:23:53 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:23:53 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:23:57 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1756 from -1002289754739 forwarded successfully
2025-06-18 04:23:57 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1755 from -1002289754739 forwarded successfully
2025-06-18 04:24:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:24:45 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1757)
2025-06-18 04:24:45 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:24:45 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:24:48 | INFO     | forwarding_engine:_forward_with_bot:1710 - No modified text available after header/footer processing
2025-06-18 04:24:48 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:24:48 | INFO     | forwarding_engine:_forward_with_bot:1868 - No inline buttons to apply
2025-06-18 04:24:49 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1757 from -1002289754739 forwarded successfully
2025-06-18 04:24:55 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1758)
2025-06-18 04:24:55 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:24:55 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:24:56 | INFO     | forwarding_engine:_forward_with_bot:1710 - No modified text available after header/footer processing
2025-06-18 04:24:56 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:24:56 | INFO     | forwarding_engine:_forward_with_bot:1868 - No inline buttons to apply
2025-06-18 04:24:57 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1758 from -1002289754739 forwarded successfully
2025-06-18 04:25:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_remove_1
2025-06-18 04:25:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 04:25:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_remove_1
2025-06-18 04:25:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 04:25:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 04:25:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 04:25:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 04:25:08 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1759)
2025-06-18 04:25:08 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:25:09 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '،،...'
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '،،'
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:25:09 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:25:11 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:25:11 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:25:11 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:25:11 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:25:11 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '،،...'
2025-06-18 04:25:11 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:25:11 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:25:11 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:25:11 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1759 from -1002289754739 forwarded successfully
2025-06-18 04:25:13 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1001470989107 (message 145406)
2025-06-18 04:25:13 | WARNING  | bot_controller:handle_channel_message:856 - Message 145406 from -1001470989107 was not forwarded
2025-06-18 04:25:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:25:28 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1760)
2025-06-18 04:25:28 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:25:28 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:25:33 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 104 -> 103 chars
2025-06-18 04:25:33 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:25:33 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:25:33 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:25:33 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:25:33 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:25:33 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:25:33 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:25:34 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1760 from -1002289754739 forwarded successfully
2025-06-18 04:25:46 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1761)
2025-06-18 04:25:46 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:25:46 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:25:47 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 104 -> 103 chars
2025-06-18 04:25:48 | INFO     | forwarding_engine:_apply_formatting:2265 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:25:48 | INFO     | forwarding_engine:_apply_formatting:2270 - Applying formatting with settings: {}
2025-06-18 04:25:48 | INFO     | forwarding_engine:_apply_formatting:2285 - No format settings found
2025-06-18 04:25:48 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:25:48 | INFO     | forwarding_engine:_forward_with_bot:1751 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:25:48 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:25:48 | INFO     | forwarding_engine:_forward_with_bot:1764 - No inline buttons to apply to modified text message
2025-06-18 04:25:48 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1761 from -1002289754739 forwarded successfully
2025-06-18 04:26:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:26:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:26:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:26:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:26:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:26:20 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:26:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:26:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:26:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:26:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:26:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:26:22 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:26:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:26:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:26:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:26:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:26:22 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:26:22 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:26:22 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:26:22 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:26:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:26:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:26:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:26:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:26:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:26:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:26:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:26:23 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:26:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_filters_1
2025-06-18 04:26:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 04:26:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_filters_1
2025-06-18 04:26:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 04:26:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:26:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 04:26:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 04:26:26 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: filter_media_1
2025-06-18 04:26:26 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'filter_media_1' from user 6556918772
2025-06-18 04:26:26 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: filter_media_1
2025-06-18 04:26:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_media_1
2025-06-18 04:26:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 04:26:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_media_1 ===
2025-06-18 04:26:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_media_1' (type: <class 'str'>)
2025-06-18 04:27:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_filters_1
2025-06-18 04:27:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 04:27:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_filters_1
2025-06-18 04:27:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 04:27:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:27:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 04:27:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 04:27:27 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:27:27 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:27:27 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:27:27 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:27:27 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:27:30 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:27:31 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:27:32 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:27:33 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:27:34 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:27:34 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:27:34 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:27:34 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:27:34 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:27:34 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:27:34 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:27:34 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:27:34 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:27:34 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:27:34 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:27:34 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:27:34 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:27:37 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:27:37 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:27:37 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:27:37 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:27:37 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:27:37 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:27:37 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:27:37 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:27:37 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:27:37 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:27:37 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:27:37 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:27:37 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:27:37 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:27:37 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:27:37 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:27:37 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:27:37 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:27:37 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:27:37 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:27:37 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:27:37 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:27:38 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:27:38 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:27:38 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:27:38 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:27:38 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:27:39 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:27:39 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:27:40 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:27:40 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:27:40 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:27:40 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:27:40 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:27:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:28:07 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1762)
2025-06-18 04:28:07 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:28:07 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:28:08 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 104 -> 103 chars
2025-06-18 04:28:08 | INFO     | forwarding_engine:_apply_formatting:2330 - Loaded fresh format settings from database for task 1: {}
2025-06-18 04:28:08 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {}
2025-06-18 04:28:08 | INFO     | forwarding_engine:_apply_formatting:2350 - No format settings found
2025-06-18 04:28:08 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:28:08 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:28:08 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:28:08 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1762 from -1002289754739 forwarded successfully
2025-06-18 04:28:16 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:28:16 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:28:16 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:28:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:28:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:28:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:28:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:28:16 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:28:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:28:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:28:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:28:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:28:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:28:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:28:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:28:17 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:28:17 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:28:17 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:28:17 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:28:19 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_formatting_1
2025-06-18 04:28:19 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 04:28:19 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_formatting_1
2025-06-18 04:28:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 04:28:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:28:19 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 04:28:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 04:28:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 04:28:21 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_bold_1
2025-06-18 04:28:21 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 04:28:21 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_bold_1
2025-06-18 04:28:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 04:28:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:28:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 04:28:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 04:28:21 | INFO     | handlers.tasks:_handle_format_actions:8084 - Format settings saved for task 1: {'apply_bold': True, 'remove_all': False}
2025-06-18 04:28:30 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1763)
2025-06-18 04:28:30 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:28:30 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:28:31 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:28:31 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': True, 'remove_all': False}
2025-06-18 04:28:31 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509</b>'' (Bold: True)
2025-06-18 04:28:31 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509</b>''
2025-06-18 04:28:31 | INFO     | forwarding_engine:_forward_with_bot:1703 - Formatting applied to text with headers/footers: '<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/...'
2025-06-18 04:28:31 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: '<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/...'
2025-06-18 04:28:31 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:28:31 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1763 from -1002289754739 forwarded successfully
2025-06-18 04:28:42 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_bold_1
2025-06-18 04:28:42 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 04:28:42 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_bold_1
2025-06-18 04:28:42 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 04:28:42 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:28:42 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 04:28:42 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 04:28:42 | INFO     | handlers.tasks:_handle_format_actions:8084 - Format settings saved for task 1: {'apply_bold': False, 'remove_all': False}
2025-06-18 04:28:44 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_hyperlink_1
2025-06-18 04:28:44 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_hyperlink_1' from user 6556918772
2025-06-18 04:28:44 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_hyperlink_1
2025-06-18 04:28:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_hyperlink_1
2025-06-18 04:28:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 04:28:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_hyperlink_1 ===
2025-06-18 04:28:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_hyperlink_1' (type: <class 'str'>)
2025-06-18 04:28:44 | INFO     | handlers.tasks:_handle_format_actions:8084 - Format settings saved for task 1: {'apply_bold': False, 'remove_all': False, 'apply_link': True}
2025-06-18 04:28:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_bold_1
2025-06-18 04:28:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 04:28:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_bold_1
2025-06-18 04:28:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 04:28:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:28:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 04:28:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 04:28:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:28:45 | INFO     | handlers.tasks:_handle_format_actions:8084 - Format settings saved for task 1: {'apply_bold': True, 'apply_link': True, 'remove_all': False}
2025-06-18 04:28:52 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1764)
2025-06-18 04:28:53 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:28:53 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:28:56 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:28:56 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': True, 'apply_link': True, 'remove_all': False}
2025-06-18 04:28:56 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509</b>'' (Bold: True)
2025-06-18 04:28:56 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509</b>''
2025-06-18 04:28:56 | INFO     | forwarding_engine:_forward_with_bot:1703 - Formatting applied to text with headers/footers: '<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/...'
2025-06-18 04:28:56 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: '<b>فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/...'
2025-06-18 04:28:56 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:28:56 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1764 from -1002289754739 forwarded successfully
2025-06-18 04:29:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_bold_1
2025-06-18 04:29:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 04:29:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_bold_1
2025-06-18 04:29:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 04:29:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:29:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 04:29:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 04:29:04 | INFO     | handlers.tasks:_handle_format_actions:8084 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:29:15 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1765)
2025-06-18 04:29:16 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:29:16 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:29:20 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:29:20 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:29:20 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509'' (Bold: False)
2025-06-18 04:29:20 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي\nالسيد القائد - 18 ذو الحجة 1446هـ\nwww.mmy.ye/344509''
2025-06-18 04:29:20 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:29:20 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: 'فرصة إيران لإلحاق الهزائم الكبيرة بالعدو الإسرائيلي
السيد القائد - 18 ذو الحجة 1446هـ
www.mmy.ye/344...'
2025-06-18 04:29:20 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:29:20 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1765 from -1002289754739 forwarded successfully
2025-06-18 04:29:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: format_set_link_1
2025-06-18 04:29:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'format_set_link_1' from user 6556918772
2025-06-18 04:29:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: format_set_link_1
2025-06-18 04:29:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_set_link_1
2025-06-18 04:29:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:29:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_set_link_1 ===
2025-06-18 04:29:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_set_link_1' (type: <class 'str'>)
2025-06-18 04:29:35 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'https://t.me/channel' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:29:44 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:29:48 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:29:48 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:29:50 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:29:50 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:29:50 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:29:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:29:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:29:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:29:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:29:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:29:51 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:29:51 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:29:51 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:29:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:29:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:29:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:29:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:29:52 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:29:54 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:29:54 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:29:54 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:29:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:29:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:29:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:29:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:29:54 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:29:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:29:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:29:56 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:29:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:29:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:29:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:29:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:29:56 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:29:56 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:29:56 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:29:56 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:29:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_replace_1
2025-06-18 04:29:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-18 04:29:57 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_replace_1
2025-06-18 04:29:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-18 04:29:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:29:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-18 04:29:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-18 04:29:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-18 04:29:59 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: replace_add_1
2025-06-18 04:29:59 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'replace_add_1' from user 6556918772
2025-06-18 04:29:59 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: replace_add_1
2025-06-18 04:29:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_add_1
2025-06-18 04:29:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:29:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_add_1 ===
2025-06-18 04:29:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_add_1' (type: <class 'str'>)
2025-06-18 04:30:16 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر|تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:30:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:31:57 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'ةة' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:32:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:32:41 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:32:41 | INFO     | forwarding_engine:_reload_tasks:2615 - Reloaded tasks: 1 active
2025-06-18 04:33:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:33:19 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:33:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:33:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:33:24 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:33:24 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:33:24 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:33:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:33:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:33:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:33:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:33:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:33:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:33:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:33:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:33:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:33:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:33:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:33:26 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:33:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:33:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:33:28 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:33:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:33:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:33:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:33:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:33:28 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:33:30 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:33:30 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:33:30 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:33:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:33:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:33:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:33:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:33:30 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:33:30 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:33:30 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:33:30 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:33:33 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:33:33 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:33:33 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:33:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:33:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:33:33 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:33:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:33:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:33:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:33:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:33:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:33:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:33:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:33:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:33:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:33:36 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:33:36 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:33:36 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:33:36 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:33:43 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_replace_1
2025-06-18 04:33:43 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-18 04:33:43 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_replace_1
2025-06-18 04:33:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-18 04:33:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:33:43 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-18 04:33:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-18 04:33:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-18 04:33:44 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: replace_add_1
2025-06-18 04:33:44 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'replace_add_1' from user 6556918772
2025-06-18 04:33:44 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: replace_add_1
2025-06-18 04:33:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: replace_add_1
2025-06-18 04:33:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:33:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: replace_add_1 ===
2025-06-18 04:33:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'replace_add_1' (type: <class 'str'>)
2025-06-18 04:33:59 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر|تمام' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:34:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:34:40 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:34:40 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:34:40 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:34:40 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:34:40 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:34:43 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:34:43 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:34:43 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:34:44 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:34:45 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:34:46 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:34:46 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:34:47 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:34:47 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:34:47 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:34:47 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:34:47 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:34:47 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:34:47 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:34:47 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:34:47 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:34:47 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:34:47 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:34:49 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:34:49 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:34:50 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:34:50 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:34:50 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:34:50 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:34:50 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:34:50 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:34:50 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:34:50 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:34:50 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:34:50 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:34:50 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:34:50 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:34:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:34:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:34:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:34:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:34:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:34:50 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:34:50 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:34:50 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:34:51 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:34:51 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:34:51 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:34:51 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:34:51 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:34:52 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:34:52 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:34:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:34:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:34:52 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:34:52 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:34:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:34:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:35:00 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:35:01 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:35:01 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:35:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:35:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:35:02 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:35:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:35:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:35:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:35:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:35:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:35:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:35:03 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:35:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:35:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:35:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:35:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:35:04 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:35:05 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:35:05 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:35:05 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:35:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:35:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:35:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:35:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:35:05 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:35:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:35:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:35:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:35:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:35:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:35:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:35:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:35:06 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:35:06 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:35:06 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:35:07 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:35:09 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_formatting_1
2025-06-18 04:35:09 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 04:35:09 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_formatting_1
2025-06-18 04:35:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 04:35:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 04:35:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 04:35:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 04:35:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 04:35:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:35:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:35:10 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:35:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:35:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:35:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:35:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:35:10 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:35:10 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:35:10 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:35:10 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:35:13 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_prefix_1
2025-06-18 04:35:13 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-18 04:35:13 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_prefix_1
2025-06-18 04:35:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-18 04:35:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 04:35:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-18 04:35:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-18 04:35:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-18 04:35:14 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: footer_toggle_1
2025-06-18 04:35:14 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'footer_toggle_1' from user 6556918772
2025-06-18 04:35:14 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: footer_toggle_1
2025-06-18 04:35:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: footer_toggle_1
2025-06-18 04:35:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:35:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: footer_toggle_1 ===
2025-06-18 04:35:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'footer_toggle_1' (type: <class 'str'>)
2025-06-18 04:35:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: footer_edit_1
2025-06-18 04:35:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'footer_edit_1' from user 6556918772
2025-06-18 04:35:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: footer_edit_1
2025-06-18 04:35:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: footer_edit_1
2025-06-18 04:35:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 04:35:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: footer_edit_1 ===
2025-06-18 04:35:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'footer_edit_1' (type: <class 'str'>)
2025-06-18 04:35:19 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'حخحححح' from user 6556918772, state: edit_footer
2025-06-18 04:35:19 | INFO     | bot_controller:text_message_handler:200 - Routing to task handler for header/footer input: حخحححح
2025-06-18 04:35:19 | INFO     | handlers.tasks:handle_text_input:4731 - Processing text input - State: edit_footer, Action: None, Awaiting: None, Task ID: 1
2025-06-18 04:35:22 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:35:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:35:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:35:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:35:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:35:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:35:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:35:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:35:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:35:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:35:26 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:35:26 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:35:26 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:35:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:35:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:35:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:35:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:35:27 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:35:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:35:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:35:28 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:35:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:35:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:35:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:35:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:35:28 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:35:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:35:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:35:29 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:35:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:35:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:35:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:35:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:35:29 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:35:29 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:35:29 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:35:30 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:35:32 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_prefix_1
2025-06-18 04:35:32 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-18 04:35:32 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_prefix_1
2025-06-18 04:35:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-18 04:35:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 04:35:32 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-18 04:35:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-18 04:35:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-18 04:35:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: footer_toggle_1
2025-06-18 04:35:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'footer_toggle_1' from user 6556918772
2025-06-18 04:35:34 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: footer_toggle_1
2025-06-18 04:35:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: footer_toggle_1
2025-06-18 04:35:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:35:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: footer_toggle_1 ===
2025-06-18 04:35:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'footer_toggle_1' (type: <class 'str'>)
2025-06-18 04:35:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: footer_delete_1
2025-06-18 04:35:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'footer_delete_1' from user 6556918772
2025-06-18 04:35:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: footer_delete_1
2025-06-18 04:35:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: footer_delete_1
2025-06-18 04:35:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:35:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: footer_delete_1 ===
2025-06-18 04:35:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'footer_delete_1' (type: <class 'str'>)
2025-06-18 04:35:57 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:36:03 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'افحص جميع أقسام البوت التي تحتوي ع ادخالات نصيه وأصلح مشكله الرد العام تم استلام المدخل النصي' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-18 04:36:03 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'افحص جميع أقسام البوت التي تحتوي ع ادخالات نصيه وأصلح مشكله الرد العام تم استلام المدخل النصي' in state: BotStates:MAIN_MENU
2025-06-18 04:36:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:36:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:36:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:36:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:36:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:36:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:36:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:36:18 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:36:18 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:36:18 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:36:18 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:36:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:36:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:36:34 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:36:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:36:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:36:34 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:36:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:36:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:36:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:36:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:36:35 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:36:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:36:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:36:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:36:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:36:35 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:36:35 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:36:35 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:36:35 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:36:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:36:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:36:37 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:36:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:36:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:36:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:36:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:36:37 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:36:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_filters_1
2025-06-18 04:36:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 04:36:40 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_filters_1
2025-06-18 04:36:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 04:36:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:36:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 04:36:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 04:37:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:37:28 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:37:28 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:37:28 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:37:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:37:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:37:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:37:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:37:28 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:37:33 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:37:33 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:37:33 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:37:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:37:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:37:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:37:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:37:33 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:37:33 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:37:33 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:37:33 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:37:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:37:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:37:35 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:37:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:37:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:37:35 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:37:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:37:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:37:39 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_manage_words_1
2025-06-18 04:37:39 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_manage_words_1' from user 6556918772
2025-06-18 04:37:39 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_manage_words_1
2025-06-18 04:37:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_manage_words_1
2025-06-18 04:37:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:37:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_manage_words_1 ===
2025-06-18 04:37:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_manage_words_1' (type: <class 'str'>)
2025-06-18 04:37:40 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_add_words_1
2025-06-18 04:37:40 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_add_words_1' from user 6556918772
2025-06-18 04:37:40 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_add_words_1
2025-06-18 04:37:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_add_words_1
2025-06-18 04:37:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:37:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_add_words_1 ===
2025-06-18 04:37:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_add_words_1' (type: <class 'str'>)
2025-06-18 04:37:53 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'سابر' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:37:53 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_target_words, Text: 'سابر'
2025-06-18 04:37:53 | INFO     | handlers.tasks:handle_text_input:4731 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_target_words, Awaiting: None, Task ID: 1
2025-06-18 04:38:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:38:13 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1766)
2025-06-18 04:38:13 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:38:13 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'نسنسنسننسنينميميميننين
سابر
ميميمميني
ميمينينني...'
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'نسنسنسننسنينميميميننين
سابر
ميميمميني
ميمينينني'
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:38:13 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:38:18 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 47 -> 42 chars
2025-06-18 04:38:18 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:38:18 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''نسنسنسننسنينميميميننين\nميميمميني\nميمينينني'' (Bold: False)
2025-06-18 04:38:18 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''نسنسنسننسنينميميميننين\nميميمميني\nميمينينني''
2025-06-18 04:38:18 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'نسنسنسننسنينميميميننين
ميميمميني
ميمينينني...'
2025-06-18 04:38:18 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:38:18 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:38:18 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:38:18 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1766 from -1002289754739 forwarded successfully
2025-06-18 04:38:23 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1767)
2025-06-18 04:38:23 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:38:23 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'طط...'
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'طط'
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:38:23 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:38:27 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:38:27 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:38:27 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''طط'' (Bold: False)
2025-06-18 04:38:27 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''طط''
2025-06-18 04:38:27 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'طط...'
2025-06-18 04:38:27 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:38:27 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:38:27 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:38:27 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1767 from -1002289754739 forwarded successfully
2025-06-18 04:38:32 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:38:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:38:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:38:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:38:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:38:35 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:38:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:38:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:38:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:38:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:38:36 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:38:36 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:38:36 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:38:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:38:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:38:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:38:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:38:37 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:38:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:38:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:38:38 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:38:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:38:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:38:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:38:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:38:38 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:38:39 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_delays_1
2025-06-18 04:38:39 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-18 04:38:39 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_delays_1
2025-06-18 04:38:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-18 04:38:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 04:38:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-18 04:38:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-18 04:38:41 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: set_delay_0_0_1
2025-06-18 04:38:41 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'set_delay_0_0_1' from user 6556918772
2025-06-18 04:38:41 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: set_delay_0_0_1
2025-06-18 04:38:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: set_delay_0_0_1
2025-06-18 04:38:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:38:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: set_delay_0_0_1 ===
2025-06-18 04:38:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'set_delay_0_0_1' (type: <class 'str'>)
2025-06-18 04:38:47 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1768)
2025-06-18 04:38:48 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:38:48 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'طط...'
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'طط'
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:38:48 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:38:48 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:38:48 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:38:48 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''طط'' (Bold: False)
2025-06-18 04:38:48 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''طط''
2025-06-18 04:38:48 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'طط...'
2025-06-18 04:38:48 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:38:48 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:38:48 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:38:48 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1768 from -1002289754739 forwarded successfully
2025-06-18 04:38:50 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1769)
2025-06-18 04:38:50 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:38:51 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'غ...'
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'غ'
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:38:51 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:38:51 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:38:51 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:38:51 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''غ'' (Bold: False)
2025-06-18 04:38:51 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''غ''
2025-06-18 04:38:51 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'غ...'
2025-06-18 04:38:51 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:38:51 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:38:51 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:38:51 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1769 from -1002289754739 forwarded successfully
2025-06-18 04:38:55 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:38:55 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:38:55 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:38:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:38:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:38:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:38:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:38:55 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:38:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:38:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:38:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:38:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:38:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:38:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:38:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:38:58 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:38:58 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:38:58 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:38:59 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:39:00 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:39:00 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:39:00 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:39:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:39:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:39:00 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:39:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:39:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:39:03 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_words_toggle_1
2025-06-18 04:39:03 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_words_toggle_1' from user 6556918772
2025-06-18 04:39:03 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_words_toggle_1
2025-06-18 04:39:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_words_toggle_1
2025-06-18 04:39:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:39:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_words_toggle_1 ===
2025-06-18 04:39:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_words_toggle_1' (type: <class 'str'>)
2025-06-18 04:39:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:39:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:39:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:39:10 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:39:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:39:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:39:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:39:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:39:11 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:39:12 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:39:12 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:39:12 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:39:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:39:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:39:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:39:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:39:13 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:39:16 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:39:16 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:39:16 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:39:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:39:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:39:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:39:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:39:17 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:39:54 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'عند الضغط على زر حذف الأزرار ❌ يظهر إشعار حذف الأزرار مفعل لكن  نص الزر لا يتحدث الى حذف الأزرار ✅' from user 6556918772, state: BotStates:MAIN_MENU
2025-06-18 04:39:54 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: 'عند الضغط على زر حذف الأزرار ❌ يظهر إشعار حذف الأزرار مفعل لكن  نص الزر لا يتحدث الى حذف الأزرار ✅' in state: BotStates:MAIN_MENU
2025-06-18 04:39:54 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:39:54 | INFO     | forwarding_engine:_reload_tasks:2615 - Reloaded tasks: 1 active
2025-06-18 04:40:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:40:26 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1770)
2025-06-18 04:40:26 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:40:27 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:40:27 | INFO     | forwarding_engine:_should_process_message:1167 - Message contains inline buttons - will be preserved
2025-06-18 04:40:27 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 127 -> 126 chars
2025-06-18 04:40:27 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:40:27 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e'' (Bold: False)
2025-06-18 04:40:27 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e''
2025-06-18 04:40:27 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:40:27 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:40:27 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:40:27 | INFO     | forwarding_engine:_forward_with_bot:1776 - Preserving original inline buttons in media message
2025-06-18 04:40:27 | INFO     | forwarding_engine:_forward_with_bot:1780 - Applied inline buttons to media message
2025-06-18 04:40:27 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1770 from -1002289754739 forwarded successfully
2025-06-18 04:40:49 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:40:49 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:40:49 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:40:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:40:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:40:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:40:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:40:49 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:40:49 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:40:49 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:40:49 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:40:50 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:40:50 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:40:50 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:40:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:40:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:40:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:40:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:40:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:40:57 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:40:57 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:40:57 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:40:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:40:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:40:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:40:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:40:58 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:41:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:42:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:43:42 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:43:42 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:43:42 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:43:42 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:43:42 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:43:44 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:43:45 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:43:46 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:43:47 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:43:48 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:43:48 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:43:48 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:43:48 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:43:48 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:43:48 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:43:48 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:43:48 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:43:48 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:43:48 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:43:48 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:43:48 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:43:50 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:43:50 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:43:51 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:43:51 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:43:51 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:43:51 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:43:51 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:43:51 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:43:51 | DEBUG    | config:load_config:67 - Userbot enabled: False
2025-06-18 04:43:51 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:43:51 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:43:51 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:43:51 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:43:51 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:43:51 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:43:51 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:43:51 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:43:51 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:43:51 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:43:51 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:43:51 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:43:51 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:43:52 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:43:52 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:43:52 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:43:52 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:43:52 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:43:53 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:43:53 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:43:53 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:43:53 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:43:53 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:43:53 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:43:53 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:43:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:43:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:43:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:43:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:43:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:43:58 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:44:01 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:44:01 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:44:01 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:44:01 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:44:02 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:44:03 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:44:04 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:44:04 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:44:04 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:44:05 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:44:05 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:44:05 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:44:05 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:44:05 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:44:05 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:44:05 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:44:05 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:44:05 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:44:05 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:44:07 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:44:07 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:44:08 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:44:08 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:44:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:44:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:44:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:44:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:44:08 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:44:08 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:44:08 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:44:08 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:44:08 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:44:08 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:44:08 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:44:08 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:44:08 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:44:08 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:44:08 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:44:08 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:44:08 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:44:08 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:44:08 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:44:08 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:44:08 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:44:08 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:44:08 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:44:10 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:44:10 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:44:10 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:44:10 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:44:10 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:44:10 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:44:10 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:44:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:44:11 | INFO     | bot_controller:start_command:295 - User 6556918772 started the bot
2025-06-18 04:44:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: main_tasks
2025-06-18 04:44:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 04:44:19 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_list
2025-06-18 04:44:19 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 04:44:19 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_list
2025-06-18 04:44:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 04:44:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 04:44:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 04:44:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 04:44:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_view_1
2025-06-18 04:44:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 04:44:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_view_1
2025-06-18 04:44:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 04:44:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 04:44:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 04:44:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 04:44:21 | INFO     | handlers.tasks:_handle_task_view:1043 - Task view: Task 1 mode is bot
2025-06-18 04:44:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:44:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:44:22 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:44:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:44:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:44:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:44:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:44:22 | INFO     | handlers.tasks:_handle_task_settings:1217 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:44:24 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:44:24 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:44:24 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:44:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:44:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:44:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:44:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:44:24 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:44:24 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:44:24 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:44:24 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:44:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:44:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:44:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:44:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:44:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:44:25 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:44:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:44:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:44:30 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:44:30 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:44:30 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:44:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:44:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:44:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:44:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:44:31 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:44:33 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:44:33 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:44:33 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:44:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:44:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:44:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:44:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:44:34 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:44:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:44:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:44:37 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:44:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:44:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:44:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:44:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:44:38 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:45:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:45:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 04:45:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 04:45:17 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 04:45:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 04:45:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:45:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 04:45:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 04:45:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_lines_toggle_1
2025-06-18 04:45:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_lines_toggle_1' from user 6556918772
2025-06-18 04:45:18 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_lines_toggle_1
2025-06-18 04:45:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_lines_toggle_1
2025-06-18 04:45:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 04:45:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_lines_toggle_1 ===
2025-06-18 04:45:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_lines_toggle_1' (type: <class 'str'>)
2025-06-18 04:46:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:46:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:46:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:46:22 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:46:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:46:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:46:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:46:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:46:22 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:46:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:46:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:46:23 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:46:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:46:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:46:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:46:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:46:24 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:46:52 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:46:52 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:46:52 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:46:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:46:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:46:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:46:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:46:53 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:47:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:47:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:47:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:47:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:47:33 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:47:33 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:47:36 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:47:36 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:47:37 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:47:38 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:47:39 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:47:40 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:47:40 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:47:40 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:47:40 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:47:40 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:47:40 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:47:40 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:47:40 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:47:40 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:47:40 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:47:40 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:47:40 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:47:42 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:47:42 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:47:43 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:47:43 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:47:43 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:47:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:47:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:47:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:47:43 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:47:43 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:47:43 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:47:43 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:47:43 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:47:43 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:47:43 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:47:43 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:47:43 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:47:43 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:47:43 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:47:43 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:47:43 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:47:43 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:47:44 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:47:44 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:47:44 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:47:44 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:47:44 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:47:45 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:47:45 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:47:45 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:47:45 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:47:45 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:47:45 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:47:45 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:47:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:47:55 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:47:55 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:47:55 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:47:55 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:47:55 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:47:58 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:47:58 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:47:59 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:48:00 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:48:01 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:48:01 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:48:01 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:48:01 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:48:01 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:48:01 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:48:01 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:48:01 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:48:01 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:48:01 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:48:01 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:48:01 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:48:01 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:48:01 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:48:01 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:48:04 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:48:04 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:48:04 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:48:04 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:48:04 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:48:04 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:48:04 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:48:04 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:48:04 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:48:04 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:48:04 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:48:04 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:48:04 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:48:04 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:48:05 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:48:05 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:48:05 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:48:05 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:48:05 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:48:05 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:48:05 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:48:05 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:48:05 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:48:05 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:48:05 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:48:05 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:48:05 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:48:06 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:48:06 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:48:07 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:48:07 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:48:07 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:48:07 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:48:07 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:48:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:48:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:48:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:48:07 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:48:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:48:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:48:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:48:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:48:07 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:48:07 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:48:07 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:48:07 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:48:09 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:48:09 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:48:09 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:48:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:48:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:48:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:48:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:48:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:48:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:48:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:48:10 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:48:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:48:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:48:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:48:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:11 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:48:21 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:48:21 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:48:21 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:48:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:48:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:48:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:48:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:22 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:48:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:48:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:48:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:48:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:48:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:48:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:48:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:48:23 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:48:23 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:48:23 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:48:24 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:48:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:48:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:48:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:48:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:48:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:48:25 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:48:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:48:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:48:27 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 04:48:27 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 04:48:27 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 04:48:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 04:48:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:48:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 04:48:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 04:48:29 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:48:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 04:48:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:29 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 04:48:29 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 04:48:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:48:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 04:48:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:30 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:48:30 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:48:32 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_emojis_toggle_1
2025-06-18 04:48:32 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_emojis_toggle_1' from user 6556918772
2025-06-18 04:48:32 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_emojis_toggle_1
2025-06-18 04:48:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_emojis_toggle_1
2025-06-18 04:48:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:48:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_emojis_toggle_1 ===
2025-06-18 04:48:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_emojis_toggle_1' (type: <class 'str'>)
2025-06-18 04:48:55 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:48:55 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:48:55 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:48:55 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:48:55 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:48:58 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:48:58 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:48:59 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:49:00 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:49:01 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:49:01 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:49:01 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:49:01 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:49:01 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:49:01 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:49:01 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:49:01 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:49:01 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:49:01 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:49:01 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:49:01 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:49:01 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:49:02 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:49:02 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:49:02 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:49:04 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:49:04 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:49:04 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:49:04 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:49:04 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:49:04 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:49:04 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:49:04 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:49:04 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:49:04 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:49:04 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:49:04 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:49:04 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:49:04 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:49:05 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:49:05 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:49:05 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:49:05 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:49:05 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:49:05 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:49:05 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:49:05 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:49:05 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:49:05 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:49:05 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:49:05 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:49:05 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:49:06 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:49:06 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:49:07 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:49:07 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:49:07 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:49:07 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:49:07 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:49:07 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:49:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:49:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:49:35 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:49:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:49:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:49:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:49:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:49:36 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:49:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:49:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:49:37 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:49:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:49:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:49:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:49:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:49:38 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:49:49 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:49:49 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:49:49 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:49:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:49:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:49:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:49:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:49:50 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:49:51 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:49:51 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:49:51 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:49:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:49:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:49:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:49:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:49:52 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:50:12 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:50:21 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1771)
2025-06-18 04:50:21 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:50:21 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:50:21 | INFO     | forwarding_engine:_should_process_message:1167 - Message contains inline buttons - will be preserved
2025-06-18 04:50:22 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 127 -> 126 chars
2025-06-18 04:50:22 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:50:22 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e'' (Bold: False)
2025-06-18 04:50:22 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e''
2025-06-18 04:50:22 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:50:22 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:50:22 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:50:22 | INFO     | forwarding_engine:_forward_with_bot:1776 - Preserving original inline buttons in media message
2025-06-18 04:50:22 | INFO     | forwarding_engine:_forward_with_bot:1780 - Applied inline buttons to media message
2025-06-18 04:50:22 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1771 from -1002289754739 forwarded successfully
2025-06-18 04:51:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:51:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:51:06 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:51:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:51:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:51:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:51:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:51:07 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:51:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:51:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:51:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:51:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:51:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:51:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:51:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:51:08 | INFO     | handlers.tasks:_handle_content_setting:1824 - Content setting accessed for task 1
2025-06-18 04:51:08 | INFO     | handlers.tasks:_handle_content_setting:1865 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:51:08 | INFO     | handlers.tasks:_handle_content_setting:1866 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:51:08 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content message updated with new text and keyboard
2025-06-18 04:51:10 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:51:10 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:51:10 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:51:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:51:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:51:10 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:51:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:51:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:51:11 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:51:11 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:51:11 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:51:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:51:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:51:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:51:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:51:12 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7798 - Error in text cleaner setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 04:51:19 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:51:19 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:51:19 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:51:19 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:51:19 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:51:22 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:51:22 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:51:22 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:51:22 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:51:22 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:51:22 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:51:23 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:51:24 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:51:25 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:51:25 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:51:25 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:51:25 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:51:25 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:51:25 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:51:25 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:51:25 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:51:25 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:51:25 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:51:25 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:51:26 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:51:26 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:51:26 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:51:26 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:51:26 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:51:26 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:51:28 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:51:28 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:51:28 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:51:28 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:51:28 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:51:28 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:51:28 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:51:28 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:51:28 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:51:28 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:51:28 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:51:28 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:51:28 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:51:28 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:51:29 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:51:29 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:51:29 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:51:29 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:51:29 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:51:29 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:51:29 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:51:29 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:51:29 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:51:29 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:51:29 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:51:29 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:51:29 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:51:30 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:51:30 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:51:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:51:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:51:31 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:51:31 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:51:31 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:51:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:51:35 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:51:35 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:51:35 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:51:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:51:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:51:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:51:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:51:35 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:51:35 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:51:35 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:51:35 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:51:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:51:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:51:37 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:51:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:51:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:51:37 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:51:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:51:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:51:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:51:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:51:38 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:51:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:51:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:51:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:51:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:51:47 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:51:47 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:51:47 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:51:47 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:51:47 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:51:50 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:51:50 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:51:51 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:51:52 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:51:53 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:51:54 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:51:54 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:51:54 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:51:54 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:51:54 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:51:54 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:51:54 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:51:54 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:51:54 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:51:54 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:51:54 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:51:54 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:51:54 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:51:56 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:51:56 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:51:57 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:51:57 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:51:57 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:51:57 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:51:57 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:51:57 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:51:57 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:51:57 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:51:57 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:51:57 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:51:57 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:51:57 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:51:57 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:51:57 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:51:57 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:51:57 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:51:57 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:51:57 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:51:57 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:51:57 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:51:58 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:51:58 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:51:58 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:51:58 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:51:58 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:51:59 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:51:59 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:51:59 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:51:59 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:51:59 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:51:59 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:51:59 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:51:59 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:52:03 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1774)
2025-06-18 04:52:03 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:52:03 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'كك...'
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'كك'
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:52:03 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:52:03 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:52:03 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:52:03 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''كك'' (Bold: False)
2025-06-18 04:52:03 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''كك''
2025-06-18 04:52:03 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'كك...'
2025-06-18 04:52:03 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:52:03 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:52:03 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:52:04 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1774 from -1002289754739 forwarded successfully
2025-06-18 04:52:09 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1775)
2025-06-18 04:52:09 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:52:09 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:52:09 | INFO     | forwarding_engine:_should_process_message:1165 - Message contains inline buttons - will be removed during forwarding (text cleaner)
2025-06-18 04:52:09 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 127 -> 126 chars
2025-06-18 04:52:09 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:52:09 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e'' (Bold: False)
2025-06-18 04:52:09 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقوبات\n🔹 t.me/Mukhtarat21\n\u200c\u200c\u200e''
2025-06-18 04:52:09 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:52:09 | INFO     | forwarding_engine:_forward_with_bot:1762 - Using modified caption for media: 'بعد خمس جولات من المفاوضات النووية... طهران لن تقبل بأي مقترح لا يحفظ حقوقها النووية ويضمن رفع العقو...'
2025-06-18 04:52:09 | INFO     | forwarding_engine:_forward_with_bot:1770 - Removing inline buttons from media as requested
2025-06-18 04:52:09 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1775 from -1002289754739 forwarded successfully
2025-06-18 04:52:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:52:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:52:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:52:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:52:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:52:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:52:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:52:18 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:52:18 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:52:18 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:52:18 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:52:20 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:52:20 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:52:20 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:52:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:52:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:52:20 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:52:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:52:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:52:21 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 04:52:21 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 04:52:21 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 04:52:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 04:52:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:52:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 04:52:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:52:23 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 04:52:23 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 04:52:23 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 04:52:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 04:52:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:52:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 04:52:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 04:52:46 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:52:46 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 04:52:46 | INFO     | handlers.tasks:handle_text_input:4737 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 04:52:46 | WARNING  | handlers.tasks:handle_text_input:4777 - No handler found for text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None
2025-06-18 04:53:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:54:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:54:51 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:54:51 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:54:51 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:54:51 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:54:51 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:54:54 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:54:54 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:54:54 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:54:54 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:54:55 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:54:56 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:54:57 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:54:57 | INFO     | database:migrate_columns:377 - Added inline buttons columns
2025-06-18 04:54:57 | INFO     | database:create_advanced_tables:402 - Created manual_approvals table
2025-06-18 04:54:58 | INFO     | database:create_advanced_tables:421 - Created message_tracking table
2025-06-18 04:54:58 | INFO     | database:create_advanced_tables:443 - Created recurring_posts table
2025-06-18 04:54:58 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:54:58 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:54:58 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:54:58 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:54:58 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:54:58 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:54:58 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:54:58 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:55:00 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:55:00 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:55:01 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:55:01 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:55:01 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:55:01 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:55:01 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:55:01 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:55:01 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:55:01 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:55:01 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:55:01 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:55:01 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:55:01 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:55:01 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:55:01 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:55:01 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:55:01 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:55:01 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:55:01 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:55:01 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:55:01 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:55:01 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:55:01 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:55:01 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:55:01 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:55:01 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:55:03 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:55:03 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:55:03 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:55:03 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:55:03 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:55:03 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:55:03 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:55:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:55:04 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:55:04 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:55:04 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:55:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:55:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:55:04 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:55:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:55:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:55:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 04:55:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 04:55:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 04:55:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 04:55:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:55:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 04:55:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 04:55:11 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:55:11 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 04:55:11 | INFO     | handlers.tasks:handle_text_input:4737 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 04:55:12 | ERROR    | database:execute_command:477 - Command execution failed: column "inline_button_settings" of relation "task_settings" does not exist
2025-06-18 04:55:12 | ERROR    | handlers.tasks:_process_inline_button_input:10508 - Error processing inline button input: column "inline_button_settings" of relation "task_settings" does not exist
2025-06-18 04:55:40 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:55:40 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:55:40 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:55:40 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:55:40 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:55:43 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:55:43 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:55:44 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:55:45 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:55:46 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:55:47 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 04:55:47 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 04:55:47 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 04:55:47 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 04:55:47 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:55:47 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:55:47 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:55:47 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:55:47 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:55:47 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:55:47 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:55:47 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:55:49 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:55:49 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:55:50 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:55:50 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:55:50 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:55:50 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:55:50 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:55:50 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:55:50 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:55:50 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:55:50 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:55:50 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:55:50 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:55:50 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:55:50 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:55:50 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:55:50 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:55:50 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:55:50 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:55:50 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:55:50 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:55:50 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:55:51 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:55:51 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:55:51 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:55:51 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:55:51 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:55:52 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:55:52 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:55:52 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:55:52 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:55:52 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:55:52 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:55:52 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:55:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:55:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:55:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:55:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:55:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:55:58 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:56:01 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:56:02 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:56:03 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:56:04 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:56:05 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 04:56:05 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 04:56:05 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 04:56:05 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 04:56:05 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:56:05 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:56:05 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:56:05 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:56:05 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:56:05 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:56:05 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:56:05 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:56:07 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:56:07 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:56:08 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:56:08 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:56:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:56:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:56:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:56:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:56:08 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:56:08 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:56:08 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:56:08 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:56:08 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:56:08 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:56:08 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:56:08 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:56:08 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:56:08 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:56:08 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:56:08 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:56:08 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:56:08 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:56:09 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:56:09 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:56:09 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:56:09 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:56:09 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:56:10 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:56:10 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:56:10 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:56:10 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:56:10 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:56:10 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:56:10 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:56:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:56:15 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:56:15 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:56:15 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:56:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:56:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:56:15 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:56:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:56:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:56:16 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 04:56:16 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 04:56:16 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 04:56:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 04:56:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:56:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 04:56:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 04:56:21 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:56:21 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 04:56:21 | INFO     | handlers.tasks:handle_text_input:4737 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 04:56:25 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:56:25 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:56:25 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:56:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:56:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:56:25 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:56:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:56:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:56:27 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:56:27 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:56:27 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:56:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:56:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:56:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:56:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:56:27 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:56:27 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:56:27 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:56:28 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:56:30 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:56:30 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:56:30 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:56:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:56:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:56:30 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:56:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:56:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:56:32 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 04:56:32 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 04:56:32 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 04:56:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 04:56:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:56:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 04:56:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:56:39 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1776)
2025-06-18 04:56:39 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:56:39 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ممم...'
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'ممم'
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:56:39 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:56:40 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:56:40 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:56:40 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''ممم'' (Bold: False)
2025-06-18 04:56:40 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''ممم''
2025-06-18 04:56:40 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'ممم...'
2025-06-18 04:56:40 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:56:40 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:56:40 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:56:40 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1776 from -1002289754739 forwarded successfully
2025-06-18 04:56:44 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:56:44 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:56:44 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:56:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:56:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:56:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:56:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:56:44 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:56:44 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:56:44 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:56:44 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:56:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:56:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:56:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:56:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:56:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:56:45 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:56:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:56:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:56:46 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 04:56:46 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 04:56:46 | INFO     | bot_controller:handle_callback:665 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 04:56:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 04:56:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:56:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 04:56:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:56:50 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1777)
2025-06-18 04:56:50 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 04:56:50 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ممخ...'
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'ممخ'
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 04:56:50 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 04:56:50 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 04:56:50 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 04:56:50 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''ممخ'' (Bold: False)
2025-06-18 04:56:50 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''ممخ''
2025-06-18 04:56:50 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'ممخ...'
2025-06-18 04:56:50 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 04:56:50 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 04:56:50 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 04:56:50 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1777 from -1002289754739 forwarded successfully
2025-06-18 04:57:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:57:18 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:57:18 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:57:18 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:57:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:57:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:57:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:57:18 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:57:18 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:57:18 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:57:18 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:57:22 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:57:22 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:57:22 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:57:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:57:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:57:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:57:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:57:22 | INFO     | handlers.tasks:_handle_task_settings:1223 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:57:34 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:57:34 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:57:34 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:57:34 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:57:34 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:57:38 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:57:38 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:57:39 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:57:40 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:57:41 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:57:41 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 04:57:41 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 04:57:41 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 04:57:41 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 04:57:41 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:57:41 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:57:41 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:57:41 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:57:41 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:57:41 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:57:41 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:57:41 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:57:44 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:57:44 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:57:44 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:57:44 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:57:44 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:57:44 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:57:44 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:57:44 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:57:44 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:57:44 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:57:44 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:57:44 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:57:44 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:57:44 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:57:45 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:57:45 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:57:45 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:57:45 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:57:45 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:57:45 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:57:45 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:57:45 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:57:45 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:57:45 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:57:45 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:57:45 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:57:45 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:57:46 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:57:46 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:57:47 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:57:47 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:57:47 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:57:47 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:57:47 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:57:47 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:57:47 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:57:47 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:57:47 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:57:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:57:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:57:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:57:47 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:57:47 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:57:47 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:57:47 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:57:48 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_replace_1
2025-06-18 04:57:48 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_replace_1' from user 6556918772
2025-06-18 04:57:48 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_replace_1
2025-06-18 04:57:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_replace_1
2025-06-18 04:57:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:48 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_replace_1
2025-06-18 04:57:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_replace_1 ===
2025-06-18 04:57:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_replace_1' (type: <class 'str'>)
2025-06-18 04:57:49 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:57:49 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:57:49 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:57:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:57:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:57:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:57:49 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:57:49 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:57:49 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:57:49 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:57:50 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 04:57:50 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 04:57:50 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 04:57:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 04:57:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 04:57:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 04:57:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 04:57:52 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:57:52 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:57:52 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:57:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:57:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:57:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:57:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:57:52 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:57:52 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:57:52 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:57:53 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:57:54 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:57:54 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:57:54 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:57:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:57:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:57:54 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:57:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:57:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:57:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 04:57:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 04:57:56 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 04:57:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 04:57:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:57:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 04:57:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 04:57:59 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:57:59 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 04:57:59 | INFO     | handlers.tasks:handle_text_input:4750 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 04:58:02 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:58:02 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:58:02 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:58:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:58:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:58:02 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:58:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:58:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:58:06 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_buttons_preview_1
2025-06-18 04:58:06 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_buttons_preview_1' from user 6556918772
2025-06-18 04:58:06 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_buttons_preview_1
2025-06-18 04:58:06 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_preview_1
2025-06-18 04:58:06 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:58:06 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_preview_1 ===
2025-06-18 04:58:06 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_preview_1' (type: <class 'str'>)
2025-06-18 04:58:09 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:58:09 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:58:09 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:58:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:58:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:58:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:58:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:58:09 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:58:09 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:58:09 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:58:09 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:58:34 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: task_settings_1
2025-06-18 04:58:34 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 04:58:34 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: task_settings_1
2025-06-18 04:58:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 04:58:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 04:58:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 04:58:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 04:58:34 | INFO     | handlers.tasks:_handle_task_settings:1223 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 04:58:37 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 04:58:37 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 04:58:37 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 04:58:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 04:58:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 04:58:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 04:58:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 04:58:37 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 04:58:37 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 04:58:37 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 04:58:37 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 04:58:38 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 04:58:38 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 04:58:39 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 04:58:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 04:58:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 04:58:39 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 04:58:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 04:58:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 04:58:43 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 04:58:43 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 04:58:43 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 04:58:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 04:58:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 04:58:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 04:58:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 04:58:45 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 04:58:45 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 04:58:45 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 04:58:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 04:58:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 04:58:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 04:58:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 04:58:50 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 04:58:50 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 04:58:50 | INFO     | handlers.tasks:handle_text_input:4750 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 04:58:52 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 04:59:46 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:59:46 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:59:46 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:59:46 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:59:46 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 04:59:49 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 04:59:49 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 04:59:49 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 04:59:49 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 04:59:50 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 04:59:51 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 04:59:52 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 04:59:52 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 04:59:52 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 04:59:53 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 04:59:53 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 04:59:53 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 04:59:53 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 04:59:53 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 04:59:53 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 04:59:53 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 04:59:53 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 04:59:53 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 04:59:53 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 04:59:55 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 04:59:55 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 04:59:56 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 04:59:56 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 04:59:56 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 04:59:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 04:59:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 04:59:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 04:59:56 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 04:59:56 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 04:59:56 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 04:59:56 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 04:59:56 | INFO     | bot_controller:_register_handlers:226 - Text handler registered successfully
2025-06-18 04:59:56 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 04:59:56 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 04:59:56 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 04:59:56 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 04:59:56 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 04:59:56 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 04:59:56 | INFO     | bot_controller:_register_handlers:239 - Session handler initialized
2025-06-18 04:59:56 | INFO     | bot_controller:_register_handlers:241 - Session handler registered successfully
2025-06-18 04:59:56 | INFO     | bot_controller:_register_handlers:247 - All handlers registered successfully
2025-06-18 04:59:56 | INFO     | bot_controller:_setup_bot_commands:263 - Bot commands menu set up
2025-06-18 04:59:56 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 04:59:56 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 04:59:56 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 04:59:56 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 04:59:58 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 04:59:58 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 04:59:58 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 04:59:58 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 04:59:58 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 04:59:58 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 04:59:58 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 04:59:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:00:07 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:00:07 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:00:07 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:00:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:00:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:00:07 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:00:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:00:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:00:08 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: inline_button_add_1
2025-06-18 05:00:08 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:00:08 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: inline_button_add_1
2025-06-18 05:00:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:00:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:00:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:00:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:00:10 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:00:10 | INFO     | bot_controller:handle_text_input:990 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 05:00:10 | INFO     | handlers.tasks:handle_text_input:4761 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:00:15 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:00:15 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:00:15 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:00:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:00:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:00:15 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:00:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:00:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:00:17 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 05:00:17 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:00:17 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 05:00:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:00:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:00:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:00:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:00:17 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:00:17 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:00:17 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:00:17 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:00:19 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:00:19 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:00:19 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:00:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:00:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:00:19 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:00:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:00:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:00:28 | INFO     | bot_controller:handle_channel_message:848 - Channel post received from -1002289754739 (message 1778)
2025-06-18 05:00:28 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:00:28 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'منت...'
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'منت'
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:00:28 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:00:28 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 05:00:28 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:00:28 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''منت'' (Bold: False)
2025-06-18 05:00:28 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''منت''
2025-06-18 05:00:28 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'منت...'
2025-06-18 05:00:28 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:00:28 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:00:28 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 05:00:29 | SUCCESS  | bot_controller:handle_channel_message:854 - Message 1778 from -1002289754739 forwarded successfully
2025-06-18 05:00:52 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: setting_content_1
2025-06-18 05:00:52 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:00:52 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: setting_content_1
2025-06-18 05:00:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:00:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:00:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:00:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:00:52 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:00:52 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:00:52 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:00:52 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:00:55 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_cleaner_1
2025-06-18 05:00:55 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:00:55 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_cleaner_1
2025-06-18 05:00:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:00:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:00:55 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:00:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:00:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:00:56 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: content_links_1
2025-06-18 05:00:56 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:00:56 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: content_links_1
2025-06-18 05:00:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:00:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:00:56 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:00:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:00:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:00:58 | INFO     | bot_controller:handle_callback:594 - Bot controller received callback: links_remove_1
2025-06-18 05:00:58 | ERROR    | bot_controller:handle_callback:595 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 05:00:58 | INFO     | bot_controller:handle_callback:655 - Routing to task handlers: links_remove_1
2025-06-18 05:00:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 05:00:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 05:00:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 05:00:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 05:00:58 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-18 05:01:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:01:26 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:01:26 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:01:26 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:01:26 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:01:26 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:01:29 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:01:29 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:01:29 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:01:29 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:01:29 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:01:29 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:01:30 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:01:31 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:01:32 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:01:32 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:01:32 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:01:32 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:01:32 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:01:32 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:01:32 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:01:32 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:01:32 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:01:32 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:01:32 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:01:33 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:01:33 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:01:33 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:01:33 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:01:33 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:01:35 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:01:35 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:01:35 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:01:35 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:01:35 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:01:35 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:01:35 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:01:35 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:01:35 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:01:35 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:01:35 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:01:35 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:01:35 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:01:35 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:01:36 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:01:36 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:01:36 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:01:36 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:01:36 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:01:36 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:01:36 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:01:36 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:01:36 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:01:36 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:01:36 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:01:36 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:01:36 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:01:37 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:01:37 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:01:38 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:01:38 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:01:38 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:01:38 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:01:38 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:01:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:01:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:01:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:01:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:01:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:01:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:01:45 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:01:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:01:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:01:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:01:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:01:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:01:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:01:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:01:46 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:01:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:01:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:01:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: links_replace_1
2025-06-18 05:01:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'links_replace_1' from user 6556918772
2025-06-18 05:01:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: links_replace_1
2025-06-18 05:01:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_replace_1
2025-06-18 05:01:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:01:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_replace_1 ===
2025-06-18 05:01:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_replace_1' (type: <class 'str'>)
2025-06-18 05:02:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:02:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:02:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:02:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:02:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:02:21 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:02:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:02:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:02:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:02:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:02:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:02:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:02:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:02:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:02:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:02:33 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:02:33 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:02:33 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:02:34 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:02:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:02:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:02:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:02:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:02:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:02:35 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:02:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:02:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:02:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 05:02:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:02:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 05:02:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:02:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:02:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:02:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:02:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:02:47 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:02:47 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Share test|share - Share test|share'
2025-06-18 05:02:47 | INFO     | handlers.tasks:handle_text_input:4761 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:02:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:02:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:02:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:02:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:02:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:02:54 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:02:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:02:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:03:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:03:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 05:03:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:03:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 05:03:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:03:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:03:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:03:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:04:02 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:04:02 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 05:04:02 | INFO     | handlers.tasks:handle_text_input:4761 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:04:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:04:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:04:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:04:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:04:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:04:05 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:04:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:04:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:04:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 05:04:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 05:04:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 05:04:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 05:04:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 05:04:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 05:04:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:04:11 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1779)
2025-06-18 05:04:11 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:04:11 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'دك...'
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'دك'
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:04:11 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:04:12 | INFO     | forwarding_engine:_forward_with_bot:1625 - Text cleaning: no changes needed
2025-06-18 05:04:12 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:04:12 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''دك'' (Bold: False)
2025-06-18 05:04:12 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''دك''
2025-06-18 05:04:12 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): 'دك...'
2025-06-18 05:04:12 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:04:12 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:04:12 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 05:04:12 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1779 from -1002289754739 forwarded successfully
2025-06-18 05:04:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:05:52 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:05:52 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:05:52 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:05:52 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:05:52 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:05:55 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:05:55 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:05:55 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:05:55 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:05:55 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:05:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:05:57 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:05:58 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:05:58 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:05:58 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:05:58 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:05:59 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:05:59 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:05:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:05:59 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:05:59 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:05:59 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:05:59 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:05:59 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:05:59 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:06:01 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:06:01 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:06:02 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:06:02 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:06:02 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:06:02 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:06:02 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:06:02 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:06:02 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:06:02 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:06:02 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:06:02 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:06:02 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:06:02 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:06:02 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:06:02 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:06:02 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:06:02 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:06:02 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:06:02 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:06:02 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:06:02 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:06:02 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:06:02 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:06:02 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:06:02 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:06:02 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:06:04 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:06:04 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:06:04 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:06:04 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:06:04 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:06:04 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:06:04 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:06:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:06:13 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1782)
2025-06-18 05:06:14 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:06:14 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🧪 اختبار الأزرار الشفافة

هذه رسالة تجريبية لاختبا...'
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🧪 اختبار الأزرار الشفافة

هذه رسالة تجريبية لاختبار ميزة الأزرار الشفافة. يجب أن تظهر الأزرار المخصصة تحت هذه الرسالة عند إعادة التوجيه.'
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:06:14 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:06:14 | INFO     | forwarding_engine:_forward_with_bot:1623 - Text cleaning applied: 136 -> 135 chars
2025-06-18 05:06:14 | INFO     | forwarding_engine:_apply_formatting:2335 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:06:14 | INFO     | forwarding_engine:_apply_formatting:2418 - Successfully applied formatting: ''🧪 اختبار الأزرار الشفافة\nهذه رسالة تجريبية لاختبار ميزة الأزرار الشفافة. يجب أن تظهر الأزرار المخصصة تحت هذه الرسالة عند إعادة التوجيه.'' (Bold: False)
2025-06-18 05:06:14 | INFO     | forwarding_engine:_apply_formatting:2419 - DEBUG: Final formatted text being returned: ''🧪 اختبار الأزرار الشفافة\nهذه رسالة تجريبية لاختبار ميزة الأزرار الشفافة. يجب أن تظهر الأزرار المخصصة تحت هذه الرسالة عند إعادة التوجيه.''
2025-06-18 05:06:14 | INFO     | forwarding_engine:_forward_with_bot:1706 - Using text with headers/footers (no formatting changes): '🧪 اختبار الأزرار الشفافة
هذه رسالة تجريبية لاختبار ميزة الأزرار الشفافة. يجب أن تظهر الأزرار المخصصة...'
2025-06-18 05:06:14 | INFO     | forwarding_engine:_forward_with_bot:1822 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:06:14 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:06:14 | INFO     | forwarding_engine:_forward_with_bot:1835 - No inline buttons to apply to modified text message
2025-06-18 05:06:14 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1782 from -1002289754739 forwarded successfully
2025-06-18 05:06:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:06:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:06:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:06:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:06:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:06:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:06:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:06:31 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:06:31 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:06:31 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:06:31 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:06:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:06:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:06:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:06:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:06:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:06:33 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:06:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:06:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:07:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:07:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:07:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:07:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:07:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:07:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:07:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:07:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:07:17 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:07:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:07:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:07:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:07:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:07:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:07:19 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:07:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:07:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:07:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:07:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:07:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:07:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:07:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:07:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:07:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:07:20 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:07:20 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:07:20 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:07:20 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:07:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:07:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:07:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:07:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:07:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:07:22 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:07:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:07:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:07:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:07:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:07:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:07:33 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:07:33 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:07:36 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:07:36 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:07:36 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:07:36 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:07:36 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:07:37 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:07:38 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:07:39 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:07:39 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:07:39 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:07:40 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:07:40 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:07:40 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:07:40 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:07:40 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:07:40 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:07:40 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:07:40 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:07:40 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:07:40 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:07:42 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:07:42 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:07:43 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:07:43 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:07:43 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:07:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:07:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:07:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:07:43 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:07:43 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:07:43 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:07:43 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:07:43 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:07:43 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:07:43 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:07:43 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:07:43 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:07:43 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:07:43 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:07:43 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:07:43 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:07:43 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:07:44 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:07:44 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:07:44 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:07:44 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:07:44 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:07:45 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:07:45 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:07:45 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:07:45 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:07:45 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:07:45 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:07:45 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:07:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:08:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:09:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:10:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:11:36 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:11:36 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:11:36 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:11:36 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:11:36 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:11:39 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:11:40 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:11:41 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:11:42 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:11:43 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:11:43 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:11:43 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:11:43 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:11:43 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:11:43 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:11:43 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:11:43 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:11:43 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:11:43 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:11:43 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:11:43 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:11:43 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:11:46 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:11:46 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:11:46 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:11:46 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:11:46 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:11:46 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:11:46 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:11:46 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:11:46 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:11:46 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:11:46 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:11:46 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:11:46 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:11:46 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:11:46 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:11:46 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:11:46 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:11:46 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:11:46 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:11:46 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:11:46 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:11:46 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:11:47 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:11:47 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:11:47 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:11:47 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:11:47 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:11:48 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:11:48 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:11:49 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:11:49 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:11:49 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:11:49 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:11:49 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:11:49 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:12:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:12:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:12:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:12:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:12:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:12:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:12:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:12:02 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:12:02 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:12:02 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:12:02 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:12:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:12:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:12:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:12:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:12:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:12:03 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:12:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:12:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:12:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:12:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:12:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:12:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:12:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:12:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:12:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:12:04 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:12:04 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:12:04 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:12:04 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:12:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:12:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:12:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:12:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:12:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:12:05 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:12:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:12:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:12:06 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:12:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 05:12:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:12:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 05:12:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:12:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:12:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:12:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:12:13 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:12:13 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 05:12:13 | INFO     | handlers.tasks:handle_text_input:4776 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:12:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:12:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:12:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:12:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:12:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:12:16 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:12:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:12:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:12:17 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:12:54 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:13:21 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:13:21 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:13:21 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:13:21 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:13:21 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:13:24 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:13:24 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:13:25 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:13:26 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:13:27 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:13:27 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:13:28 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:13:28 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:13:28 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:13:28 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:13:28 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:13:28 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:13:28 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:13:28 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:13:28 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:13:28 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:13:28 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:13:30 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:13:30 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:13:31 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:13:31 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:13:31 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:13:31 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:13:31 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:13:31 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:13:31 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:13:31 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:13:31 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:13:31 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:13:31 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:13:31 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:13:31 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:13:31 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:13:31 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:13:31 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:13:31 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:13:31 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:13:31 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:13:31 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:13:32 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:13:32 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:13:32 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:13:32 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:13:32 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:13:33 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:13:33 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:13:34 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:13:34 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:13:34 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:13:34 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:13:34 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:13:34 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:13:43 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:13:43 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:13:43 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:13:43 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:13:43 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:13:46 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:13:46 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:13:47 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:13:48 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:13:49 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:13:49 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:13:49 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:13:49 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:13:49 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:13:49 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:13:49 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:13:49 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:13:49 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:13:49 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:13:49 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:13:49 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:13:49 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:13:49 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:13:52 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:13:52 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:13:52 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:13:52 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:13:52 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:13:52 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:13:52 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:13:52 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:13:52 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:13:52 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:13:52 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:13:52 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:13:52 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:13:52 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:13:52 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:13:52 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:13:52 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:13:52 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:13:52 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:13:52 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:13:52 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:13:52 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:13:53 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:13:53 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:13:53 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:13:53 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:13:53 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:13:54 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:13:54 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:13:55 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:13:55 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:13:55 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:13:55 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:13:55 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:13:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:13:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:13:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:13:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:13:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:13:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:13:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:13:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:13:55 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:13:55 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:13:55 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:13:55 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:13:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:13:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:13:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:13:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:13:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:13:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:13:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:13:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:13:57 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:13:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 05:13:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 05:13:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 05:13:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 05:13:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 05:13:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 05:13:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:13:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:14:00 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 05:14:00 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 05:14:00 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 05:14:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 05:14:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 05:14:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 05:14:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:14:01 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:14:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 05:14:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:14:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 05:14:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:14:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:14:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:14:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:14:06 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:14:06 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 05:14:06 | INFO     | handlers.tasks:handle_text_input:4776 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:14:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:14:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:14:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:14:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:14:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:14:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:14:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:14:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:14:09 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3976 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:14:39 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:14:39 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:14:39 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:14:39 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:14:39 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:14:42 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:14:42 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:14:42 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:14:42 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:14:43 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:14:44 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:14:45 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:14:45 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:14:45 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:14:46 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:14:46 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:14:46 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:14:46 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:14:46 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:14:46 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:14:46 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:14:46 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:14:46 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:14:46 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:14:48 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-18 05:14:48 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-18 05:14:48 | SUCCESS  | __main__:shutdown:258 - Forwarding engine stopped
2025-06-18 05:14:48 | SUCCESS  | __main__:shutdown:268 - Bot session closed
2025-06-18 05:14:48 | ERROR    | modules.statistics:get_global_statistics:72 - Error executing query for messages_this_month: pool is closing
2025-06-18 05:14:48 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:14:48 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:14:48 | ERROR    | database:get_active_tasks:540 - Failed to get active tasks with sources/targets: pool is closing
2025-06-18 05:14:48 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 0 active tasks
2025-06-18 05:14:48 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:14:48 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:14:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:14:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:14:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:14:48 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:14:48 | ERROR    | modules.settings_manager:get_all_system_settings:139 - Error getting all system settings: pool is closing
2025-06-18 05:14:48 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:14:48 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:14:48 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:14:48 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:14:48 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:14:48 | ERROR    | modules.task_manager:_load_tasks_cache:441 - Error loading tasks cache: pool is closing
2025-06-18 05:14:48 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:14:48 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:14:48 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:14:48 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:14:48 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:14:48 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:14:48 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:14:48 | INFO     | database:close:695 - Connection pool closed
2025-06-18 05:14:48 | INFO     | database:close:699 - Database engine disposed
2025-06-18 05:14:48 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-18 05:14:48 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-18 05:14:53 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:14:53 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:14:53 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:14:53 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:14:53 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:14:56 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:14:56 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:14:56 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:14:56 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:14:56 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:14:56 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:14:57 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:14:58 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:14:59 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:14:59 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:14:59 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:14:59 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:14:59 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:14:59 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:14:59 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:14:59 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:14:59 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:14:59 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:14:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:15:00 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:15:00 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:15:00 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:15:00 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:15:00 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:15:00 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:15:02 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:15:02 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:15:03 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:15:03 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:15:03 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:15:03 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:15:03 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:15:03 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:15:03 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:15:03 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:15:03 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:15:03 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:15:03 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:15:03 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:15:03 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:15:03 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:15:03 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:15:03 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:15:03 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:15:03 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:15:03 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:15:03 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:15:03 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:15:03 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:15:03 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:15:03 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:15:03 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:15:04 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:15:05 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:15:05 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:15:05 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:15:05 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:15:05 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:15:05 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:15:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:15:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:15:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:15:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:15:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:15:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:15:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:15:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:15:11 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:15:11 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:15:11 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:15:11 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:15:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:15:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:15:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:15:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:15:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:15:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:15:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:15:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:15:13 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:15:13 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'NoneType'> - None
2025-06-18 05:15:13 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3977 - No buttons in new column, checking old column: <class 'str'>
2025-06-18 05:15:13 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3986 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:15:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 05:15:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 05:15:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 05:15:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 05:15:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 05:15:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 05:15:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 05:15:19 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 05:15:19 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'Our website1|url|https://example.com - Our website2|url|https://example.com
Share test|share - Share test|share'
2025-06-18 05:15:19 | INFO     | handlers.tasks:handle_text_input:4788 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 05:15:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:15:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:15:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:15:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:15:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:15:23 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:15:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:15:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:15:23 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:15:23 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'NoneType'> - None
2025-06-18 05:15:23 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3977 - No buttons in new column, checking old column: <class 'str'>
2025-06-18 05:15:23 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3986 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:15:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:15:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:15:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:15:48 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:15:48 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:15:51 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:15:51 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:15:52 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:15:53 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:15:54 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:15:55 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:15:55 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:15:55 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:15:55 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:15:55 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:15:55 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:15:55 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:15:55 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:15:55 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:15:55 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:15:55 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:15:55 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:15:57 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:15:57 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:15:58 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:15:58 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:15:58 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:15:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:15:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:15:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:15:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:15:58 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:15:58 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:15:58 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:15:58 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:15:58 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:15:58 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:15:58 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:15:58 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:15:58 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:15:58 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:15:58 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:15:58 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:15:58 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:15:59 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:15:59 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:15:59 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:15:59 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:15:59 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:16:00 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:16:00 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:16:00 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:16:00 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:16:00 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:16:00 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:16:00 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:16:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:16:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:16:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:16:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:16:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:16:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:16:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:16:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:16:05 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:16:05 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:16:05 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:16:05 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:16:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:16:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:16:07 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:16:07 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:16:07 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:16:07 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:16:07 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:16:07 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:16:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:16:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:16:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:16:07 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:16:16 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1786)
2025-06-18 05:16:16 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:16:16 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 ...'
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعنا الثاني
• زر مشاركة
• زر مشاركة آخر'
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:16:16 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:16:17 | INFO     | forwarding_engine:_forward_with_bot:1638 - Text cleaning applied: 137 -> 136 chars
2025-06-18 05:16:17 | INFO     | forwarding_engine:_apply_formatting:2350 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:16:17 | INFO     | forwarding_engine:_apply_formatting:2433 - Successfully applied formatting: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر'' (Bold: False)
2025-06-18 05:16:17 | INFO     | forwarding_engine:_apply_formatting:2434 - DEBUG: Final formatted text being returned: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر''
2025-06-18 05:16:17 | INFO     | forwarding_engine:_forward_with_bot:1721 - Using text with headers/footers (no formatting changes): '🎯 اختبار الأزرار بعد إعادة التشغيل
يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعن...'
2025-06-18 05:16:17 | INFO     | forwarding_engine:_forward_with_bot:1837 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:16:17 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:16:17 | INFO     | forwarding_engine:_create_inline_buttons:1409 - Found 4 buttons to create
2025-06-18 05:16:17 | INFO     | forwarding_engine:_create_inline_buttons:1487 - Created custom inline keyboard with 4 rows
2025-06-18 05:16:17 | INFO     | forwarding_engine:_forward_with_bot:1840 - Custom inline buttons created successfully for modified text
2025-06-18 05:16:17 | INFO     | forwarding_engine:_forward_with_bot:1848 - Inline buttons added to send_kwargs for modified text message
2025-06-18 05:16:17 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1786 from -1002289754739 forwarded successfully
2025-06-18 05:16:23 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:16:23 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:16:23 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:16:23 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:16:23 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:16:26 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:16:26 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:16:26 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:16:26 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:16:26 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:16:27 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:16:28 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:16:29 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:16:29 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:16:29 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:16:29 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:16:30 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:16:30 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:16:30 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:16:30 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:16:30 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:16:30 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:16:30 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:16:30 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:16:30 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:16:32 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:16:32 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:16:33 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:16:33 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:16:33 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:16:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:16:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:16:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:16:33 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:16:33 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:16:33 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:16:33 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:16:33 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:16:33 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:16:33 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:16:33 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:16:33 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:16:33 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:16:33 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:16:33 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:16:33 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:16:33 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:16:33 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:16:33 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:16:33 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:16:33 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:16:33 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:16:34 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:16:35 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:16:35 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:16:35 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:16:35 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:16:35 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:16:35 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:16:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:17:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:18:07 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 981)
2025-06-18 05:18:07 | WARNING  | bot_controller:handle_channel_message:857 - Message 981 from -1002542749883 was not forwarded
2025-06-18 05:18:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:18:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:18:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:18:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:18:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:18:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:18:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:18:27 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:18:27 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:18:27 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:18:27 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:18:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:18:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:18:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:18:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:18:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:18:30 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:18:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:18:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:18:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 05:18:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 05:18:32 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 05:18:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 05:18:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:18:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 05:18:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:18:36 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1787)
2025-06-18 05:18:36 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:18:36 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'محخ...'
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'محخ'
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:18:36 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:18:36 | INFO     | forwarding_engine:_forward_with_bot:1640 - Text cleaning: no changes needed
2025-06-18 05:18:36 | INFO     | forwarding_engine:_apply_formatting:2350 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:18:36 | INFO     | forwarding_engine:_apply_formatting:2433 - Successfully applied formatting: ''محخ'' (Bold: False)
2025-06-18 05:18:36 | INFO     | forwarding_engine:_apply_formatting:2434 - DEBUG: Final formatted text being returned: ''محخ''
2025-06-18 05:18:36 | INFO     | forwarding_engine:_forward_with_bot:1721 - Using text with headers/footers (no formatting changes): 'محخ...'
2025-06-18 05:18:36 | INFO     | forwarding_engine:_forward_with_bot:1837 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:18:36 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:18:36 | INFO     | forwarding_engine:_create_inline_buttons:1409 - Found 4 buttons to create
2025-06-18 05:18:36 | INFO     | forwarding_engine:_create_inline_buttons:1487 - Created custom inline keyboard with 4 rows
2025-06-18 05:18:36 | INFO     | forwarding_engine:_forward_with_bot:1840 - Custom inline buttons created successfully for modified text
2025-06-18 05:18:36 | INFO     | forwarding_engine:_forward_with_bot:1848 - Inline buttons added to send_kwargs for modified text message
2025-06-18 05:18:37 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1787 from -1002289754739 forwarded successfully
2025-06-18 05:18:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:19:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:19:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:19:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:19:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:19:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:19:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:19:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:19:21 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:19:21 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:19:21 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:19:21 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:19:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:19:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:19:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:19:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:19:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:22 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:19:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:19:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:19:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:19:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:19:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:19:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:19:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_0
2025-06-18 05:19:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_0' from user 6556918772
2025-06-18 05:19:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_0
2025-06-18 05:19:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_0
2025-06-18 05:19:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_0 ===
2025-06-18 05:19:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_0' (type: <class 'str'>)
2025-06-18 05:19:25 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_1
2025-06-18 05:19:25 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_1' from user 6556918772
2025-06-18 05:19:25 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_1
2025-06-18 05:19:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_1
2025-06-18 05:19:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_1 ===
2025-06-18 05:19:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_1' (type: <class 'str'>)
2025-06-18 05:19:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_2
2025-06-18 05:19:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_2' from user 6556918772
2025-06-18 05:19:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_2
2025-06-18 05:19:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_2
2025-06-18 05:19:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_2 ===
2025-06-18 05:19:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_2' (type: <class 'str'>)
2025-06-18 05:19:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:19:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:19:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:19:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:19:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:19:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:19:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_preview_1
2025-06-18 05:19:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_preview_1' from user 6556918772
2025-06-18 05:19:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_preview_1
2025-06-18 05:19:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_preview_1
2025-06-18 05:19:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_preview_1 ===
2025-06-18 05:19:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_preview_1' (type: <class 'str'>)
2025-06-18 05:19:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:19:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:19:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:19:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:19:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:31 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:19:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:19:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:19:31 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:19:31 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:19:31 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:19:31 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:19:37 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1788)
2025-06-18 05:19:37 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:19:37 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'رسالة من القناة

من: @channel...'
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'رسالة من القناة

من: @channel'
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:19:37 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:19:37 | INFO     | forwarding_engine:_forward_with_bot:1638 - Text cleaning applied: 29 -> 28 chars
2025-06-18 05:19:37 | INFO     | forwarding_engine:_apply_formatting:2350 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:19:37 | INFO     | forwarding_engine:_apply_formatting:2433 - Successfully applied formatting: ''رسالة من القناة\nمن: @channel'' (Bold: False)
2025-06-18 05:19:37 | INFO     | forwarding_engine:_apply_formatting:2434 - DEBUG: Final formatted text being returned: ''رسالة من القناة\nمن: @channel''
2025-06-18 05:19:37 | INFO     | forwarding_engine:_forward_with_bot:1721 - Using text with headers/footers (no formatting changes): 'رسالة من القناة
من: @channel...'
2025-06-18 05:19:37 | INFO     | forwarding_engine:_forward_with_bot:1837 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:19:37 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:19:37 | INFO     | forwarding_engine:_create_inline_buttons:1409 - Found 4 buttons to create
2025-06-18 05:19:37 | INFO     | forwarding_engine:_create_inline_buttons:1487 - Created custom inline keyboard with 4 rows
2025-06-18 05:19:37 | INFO     | forwarding_engine:_forward_with_bot:1840 - Custom inline buttons created successfully for modified text
2025-06-18 05:19:37 | INFO     | forwarding_engine:_forward_with_bot:1848 - Inline buttons added to send_kwargs for modified text message
2025-06-18 05:19:38 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1788 from -1002289754739 forwarded successfully
2025-06-18 05:19:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:19:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_0
2025-06-18 05:19:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_0' from user 6556918772
2025-06-18 05:19:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_0
2025-06-18 05:19:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_0
2025-06-18 05:19:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:19:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_0 ===
2025-06-18 05:19:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_0' (type: <class 'str'>)
2025-06-18 05:20:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_1
2025-06-18 05:20:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_1' from user 6556918772
2025-06-18 05:20:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_1
2025-06-18 05:20:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_1
2025-06-18 05:20:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_1 ===
2025-06-18 05:20:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_1' (type: <class 'str'>)
2025-06-18 05:20:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_preview_1
2025-06-18 05:20:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_preview_1' from user 6556918772
2025-06-18 05:20:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_preview_1
2025-06-18 05:20:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_preview_1
2025-06-18 05:20:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_preview_1 ===
2025-06-18 05:20:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_preview_1' (type: <class 'str'>)
2025-06-18 05:20:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:20:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:20:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:20:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:20:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:09 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:20:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:20:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:20:09 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:20:09 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:20:09 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:20:09 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:20:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_0
2025-06-18 05:20:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_0' from user 6556918772
2025-06-18 05:20:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_0
2025-06-18 05:20:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_0
2025-06-18 05:20:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_0 ===
2025-06-18 05:20:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_0' (type: <class 'str'>)
2025-06-18 05:20:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_1
2025-06-18 05:20:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_1' from user 6556918772
2025-06-18 05:20:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_1
2025-06-18 05:20:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_1
2025-06-18 05:20:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_1 ===
2025-06-18 05:20:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_1' (type: <class 'str'>)
2025-06-18 05:20:41 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_2
2025-06-18 05:20:41 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_2' from user 6556918772
2025-06-18 05:20:41 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_2
2025-06-18 05:20:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_2
2025-06-18 05:20:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_2 ===
2025-06-18 05:20:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_2' (type: <class 'str'>)
2025-06-18 05:20:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:20:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:20:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:20:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:20:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:20:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:20:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-18 05:20:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-18 05:20:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-18 05:20:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-18 05:20:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 05:20:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-18 05:20:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-18 05:20:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:20:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:20:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:20:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:20:45 | ERROR    | handlers.tasks:_handle_inline_buttons_setting:4065 - Error in inline buttons setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 05:20:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:20:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:20:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:20:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:20:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:20:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:20:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:20:47 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:20:47 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:20:47 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:20:47 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:20:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:20:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:20:48 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:20:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:20:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:20:48 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:20:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:20:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:20:49 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:20:49 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:20:49 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:20:49 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:20:49 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:20:49 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:20:49 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:20:49 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:20:49 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:20:49 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:20:50 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:20:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:20:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:20:51 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:20:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:20:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:20:51 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:20:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:20:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:20:51 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:20:51 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:20:51 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:20:51 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:20:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:21:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:21:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:21:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:21:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:21:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:21:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:21:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:21:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:21:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:21:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:21:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:21:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:21:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:21:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:21:28 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:21:28 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:21:28 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:21:29 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:21:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:21:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:21:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:21:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:21:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:21:30 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:21:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:21:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:21:30 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:21:30 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:21:30 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:21:30 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:21:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:21:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:21:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:21:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:21:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:21:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:21:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:21:37 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:21:37 | INFO     | forwarding_engine:_reload_tasks:2630 - Reloaded tasks: 1 active
2025-06-18 05:21:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:21:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:21:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:21:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:21:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:21:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:21:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:21:44 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1789)
2025-06-18 05:21:44 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:21:44 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 ...'
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعنا الثاني
• زر مشاركة
• زر مشاركة آخر'
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:21:44 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:21:44 | INFO     | forwarding_engine:_forward_with_bot:1638 - Text cleaning applied: 137 -> 136 chars
2025-06-18 05:21:44 | INFO     | forwarding_engine:_apply_formatting:2350 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:21:44 | INFO     | forwarding_engine:_apply_formatting:2433 - Successfully applied formatting: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر'' (Bold: False)
2025-06-18 05:21:44 | INFO     | forwarding_engine:_apply_formatting:2434 - DEBUG: Final formatted text being returned: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر''
2025-06-18 05:21:44 | INFO     | forwarding_engine:_forward_with_bot:1721 - Using text with headers/footers (no formatting changes): '🎯 اختبار الأزرار بعد إعادة التشغيل
يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعن...'
2025-06-18 05:21:44 | INFO     | forwarding_engine:_forward_with_bot:1837 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:21:44 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:21:44 | INFO     | forwarding_engine:_create_inline_buttons:1409 - Found 4 buttons to create
2025-06-18 05:21:44 | INFO     | forwarding_engine:_create_inline_buttons:1487 - Created custom inline keyboard with 4 rows
2025-06-18 05:21:44 | INFO     | forwarding_engine:_forward_with_bot:1840 - Custom inline buttons created successfully for modified text
2025-06-18 05:21:44 | INFO     | forwarding_engine:_forward_with_bot:1848 - Inline buttons added to send_kwargs for modified text message
2025-06-18 05:21:45 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1789 from -1002289754739 forwarded successfully
2025-06-18 05:22:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:22:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:22:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:22:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:22:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:22:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:22:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:22:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:22:19 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:22:19 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:22:19 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:22:20 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:22:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:22:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:22:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:22:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:22:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:22:21 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:22:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:22:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:22:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:22:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"text": "Our website1", "type": "url", "value": "https://example.com"}, {"text": "Our 
2025-06-18 05:22:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:22:22 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:22:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:22:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:22:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:22:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:22:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:22:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:22:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:22:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:22:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:22:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:22:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:22:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:22:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:22:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:22:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_2
2025-06-18 05:22:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_2' from user 6556918772
2025-06-18 05:22:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_2
2025-06-18 05:22:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_2
2025-06-18 05:22:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:22:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_2 ===
2025-06-18 05:22:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_2' (type: <class 'str'>)
2025-06-18 05:22:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:22:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:22:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:22:48 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:22:48 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:22:51 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:22:51 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:22:52 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:22:53 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:22:54 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:22:54 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:22:55 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:22:55 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:22:55 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:22:55 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:22:55 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:22:55 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:22:55 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:22:55 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:22:55 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:22:55 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:22:55 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:22:57 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:22:57 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:22:58 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:22:58 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:22:58 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:22:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:22:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:22:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:22:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:22:58 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:22:58 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:22:58 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:22:58 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:22:58 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:22:58 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:22:58 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:22:58 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:22:58 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:22:58 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:22:58 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:22:58 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:22:58 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:22:58 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:22:58 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:22:58 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:22:58 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:22:58 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:23:00 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:23:00 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:23:00 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:23:00 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:23:00 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:23:00 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:23:00 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:23:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:23:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:23:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:23:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:23:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:23:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:23:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:23:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:23:01 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:23:01 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:23:01 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:23:01 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:23:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:23:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:23:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:23:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:23:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:23:02 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:23:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:23:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:23:02 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:23:02 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:23:02 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:23:02 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 5 buttons from inline_button_settings
2025-06-18 05:23:25 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1790)
2025-06-18 05:23:25 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:23:25 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'طط...'
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'طط'
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:23:25 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:23:25 | INFO     | forwarding_engine:_forward_with_bot:1675 - Text cleaning: no changes needed
2025-06-18 05:23:25 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:23:25 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''طط'' (Bold: False)
2025-06-18 05:23:25 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''طط''
2025-06-18 05:23:25 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): 'طط...'
2025-06-18 05:23:25 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 05:23:25 | INFO     | forwarding_engine:_create_inline_buttons:1382 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 05:23:25 | INFO     | forwarding_engine:_create_inline_buttons:1409 - Found 5 buttons to create
2025-06-18 05:23:25 | INFO     | forwarding_engine:_create_inline_buttons:1415 - Using new row structure with 3 rows
2025-06-18 05:23:25 | INFO     | forwarding_engine:_create_inline_buttons:1522 - Created custom inline keyboard with 3 rows
2025-06-18 05:23:25 | INFO     | forwarding_engine:_forward_with_bot:1875 - Custom inline buttons created successfully for modified text
2025-06-18 05:23:25 | INFO     | forwarding_engine:_forward_with_bot:1883 - Inline buttons added to send_kwargs for modified text message
2025-06-18 05:23:26 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1790 from -1002289754739 forwarded successfully
2025-06-18 05:23:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_4
2025-06-18 05:23:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_4' from user 6556918772
2025-06-18 05:23:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_4
2025-06-18 05:23:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_4
2025-06-18 05:23:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:23:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_4 ===
2025-06-18 05:23:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_4' (type: <class 'str'>)
2025-06-18 05:23:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:23:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:23:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:23:45 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:23:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 05:23:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 05:23:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 05:23:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 05:23:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 05:23:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 05:23:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:23:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:23:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:23:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:23:52 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:23:53 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_preview_1
2025-06-18 05:23:53 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_preview_1' from user 6556918772
2025-06-18 05:23:53 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_preview_1
2025-06-18 05:23:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_preview_1
2025-06-18 05:23:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:23:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_preview_1 ===
2025-06-18 05:23:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_preview_1' (type: <class 'str'>)
2025-06-18 05:23:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:23:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:23:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:23:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:23:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:23:56 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:23:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:23:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:23:56 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:23:56 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:23:56 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:23:56 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:24:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:24:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-18 05:24:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-18 05:24:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-18 05:24:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-18 05:24:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 05:24:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-18 05:24:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-18 05:24:11 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:24:11 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:24:11 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:24:11 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:24:11 | ERROR    | handlers.tasks:_handle_inline_buttons_setting:4065 - Error in inline buttons setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 05:24:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:24:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:24:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:24:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:24:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:24:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:24:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:24:14 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:24:14 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:24:14 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:24:15 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:24:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 05:24:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 05:24:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 05:24:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 05:24:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:24:16 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 05:24:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 05:24:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 05:24:16 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:24:16 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:24:16 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:24:16 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 4 buttons from inline_button_settings
2025-06-18 05:24:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_delete_1_3
2025-06-18 05:24:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_delete_1_3' from user 6556918772
2025-06-18 05:24:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_delete_1_3
2025-06-18 05:24:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_delete_1_3
2025-06-18 05:24:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:24:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_delete_1_3 ===
2025-06-18 05:24:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_delete_1_3' (type: <class 'str'>)
2025-06-18 05:24:18 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:24:18 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:24:18 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:24:18 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 3 buttons from inline_button_settings
2025-06-18 05:24:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-18 05:24:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-18 05:24:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-18 05:24:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-18 05:24:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 05:24:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-18 05:24:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-18 05:24:20 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:24:20 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:24:20 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:24:20 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 3 buttons from inline_button_settings
2025-06-18 05:24:21 | ERROR    | handlers.tasks:_handle_inline_buttons_setting:4065 - Error in inline buttons setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 05:24:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-18 05:24:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-18 05:24:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-18 05:24:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-18 05:24:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 05:24:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-18 05:24:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-18 05:24:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:24:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا الأول", "type": "url", "value": "https://example1.com"}, {"r
2025-06-18 05:24:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:24:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 3 buttons from inline_button_settings
2025-06-18 05:24:41 | ERROR    | handlers.tasks:_handle_inline_buttons_setting:4065 - Error in inline buttons setting: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 05:25:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:25:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_clear_1
2025-06-18 05:25:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_clear_1' from user 6556918772
2025-06-18 05:25:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_clear_1
2025-06-18 05:25:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_clear_1
2025-06-18 05:25:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 22
2025-06-18 05:25:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_clear_1 ===
2025-06-18 05:25:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_clear_1' (type: <class 'str'>)
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3950 - Settings available - checking for inline_button_settings
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3954 - inline_button_settings raw data: <class 'str'> - {"buttons": [], "enabled": false, "button_rows": []}
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3960 - Successfully parsed JSON from inline_button_settings
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3972 - Extracted 0 buttons from inline_button_settings
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3977 - No buttons in new column, checking old column: <class 'str'>
2025-06-18 05:25:36 | INFO     | handlers.tasks:_handle_inline_buttons_setting:3986 - Loaded 0 buttons from inline_buttons_config (fallback)
2025-06-18 05:25:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:25:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:25:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:25:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:25:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:25:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:25:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:25:52 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:25:52 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:25:52 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:25:53 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:25:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:25:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:25:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:25:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:25:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:25:55 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:25:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:25:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:25:55 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:25:55 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:25:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:25:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:25:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:25:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:25:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:25:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:25:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:25:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:25:57 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:25:57 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:25:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 05:25:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 05:25:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 05:25:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 05:25:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:25:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 05:25:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 05:25:58 | INFO     | handlers.tasks:_handle_task_settings:1223 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 05:26:00 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:26:00 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:26:00 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:26:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:26:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:26:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:26:00 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:26:00 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:26:00 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:26:00 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:26:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:26:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:26:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:26:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:26:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:01 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:26:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:26:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:26:01 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:26:01 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:26:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:26:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:26:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:26:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:26:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:26:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:26:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:26:13 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:26:13 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:26:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:26:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:26:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:26:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:26:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:26:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:54 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:26:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:26:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:26:54 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:26:54 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:26:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:26:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:26:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:26:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:26:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:56 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:26:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:26:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:26:56 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:26:56 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:26:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:26:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:26:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:26:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:26:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:26:58 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:26:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:26:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:26:58 | ERROR    | database:execute_query:468 - Query execution failed: column "inline_buttons_config" does not exist
2025-06-18 05:26:58 | ERROR    | handlers.tasks:_handle_text_cleaner_setting:7919 - Error in text cleaner setting: column "inline_buttons_config" does not exist
2025-06-18 05:27:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:27:30 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:27:30 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:27:30 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:27:30 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:27:30 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:27:34 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:27:34 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:27:35 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:27:36 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:27:37 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:27:37 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:27:37 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:27:37 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:27:37 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:27:37 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:27:37 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:27:37 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:27:37 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:27:37 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:27:37 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:27:37 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:27:37 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:27:40 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:27:40 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:27:40 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:27:40 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:27:40 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:27:40 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:27:40 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:27:40 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:27:40 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:27:40 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:27:40 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:27:40 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:27:40 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:27:40 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:27:40 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:27:40 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:27:40 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:27:40 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:27:40 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:27:40 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:27:40 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:27:40 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:27:41 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:27:41 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:27:41 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:27:41 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:27:41 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:27:42 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:27:42 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:27:42 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:27:42 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:27:42 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:27:42 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:27:42 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:27:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:27:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 05:27:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 05:27:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 05:27:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 05:27:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:27:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 05:27:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 05:27:43 | INFO     | handlers.tasks:_handle_task_settings:1223 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 05:27:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 05:27:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 05:27:43 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 05:27:43 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 05:27:43 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:27:43 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 05:27:43 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 05:27:43 | INFO     | handlers.tasks:_handle_task_settings:1223 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 05:27:44 | ERROR    | handlers.tasks:_handle_task_settings:1243 - Error displaying task settings: Telegram server says - Bad Request: message is not modified: specified new message content and reply markup are exactly the same as a current content and reply markup of the message
2025-06-18 05:27:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:27:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:27:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:27:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:27:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:27:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:27:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:27:46 | INFO     | handlers.tasks:_handle_content_setting:1830 - Content setting accessed for task 1
2025-06-18 05:27:46 | INFO     | handlers.tasks:_handle_content_setting:1871 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:27:46 | INFO     | handlers.tasks:_handle_content_setting:1872 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:27:46 | INFO     | handlers.tasks:_handle_content_setting:1878 - Content message updated with new text and keyboard
2025-06-18 05:27:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:27:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:27:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:27:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:27:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:27:47 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:27:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:27:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:27:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:27:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:27:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:27:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:27:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:27:50 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:27:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:27:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:27:56 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:27:56 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:27:56 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:27:56 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:27:56 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:27:59 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:28:00 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:28:01 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:28:02 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:28:03 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:28:03 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:28:03 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:28:03 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:28:03 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:28:03 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:28:03 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:28:03 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:28:03 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:28:03 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:28:03 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:28:03 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:28:05 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:28:05 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:28:06 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:28:06 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:28:06 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:28:06 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:28:06 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:28:06 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:28:06 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:28:06 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:28:06 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:28:06 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:28:06 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:28:06 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:28:06 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:28:06 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:28:06 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:28:06 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:28:06 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:28:06 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:28:06 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:28:06 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:28:07 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:28:07 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:28:07 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:28:07 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:28:07 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:28:08 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:28:08 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:28:08 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:28:08 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:28:08 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:28:08 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:28:08 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:28:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:28:09 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1792)
2025-06-18 05:28:09 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:28:09 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu...'
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5

أداء | #فرقة_أنصارالله 
• كلمات | #عبدالوهاب_المحبشي  
• ذكرى رحيل العالم الرباني
 السيد بدر الدين الحوثي - رضوان الله عليه

؛•••••••••••••••••••
#زوامل_أنصارالله_القناة_الرسمية  
#تنفيذ_إتحاد_الشعراء_والمنشدين 
🔰 https://T.me/zawamlAnsarAlllah'
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:28:09 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:28:09 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 300 -> 292 chars
2025-06-18 05:28:09 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:28:09 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''🎼\xa0 #كليب (( البدر\xa0))\nـhttps://www.aparat.com/v/yvu78m5\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰 https://T.me/zawamlAnsarAlllah'' (Bold: False)
2025-06-18 05:28:09 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''🎼\xa0 #كليب (( البدر\xa0))\nـhttps://www.aparat.com/v/yvu78m5\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰 https://T.me/zawamlAnsarAlllah''
2025-06-18 05:28:09 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5
أداء | #فرقة_أنصارالله
• كلمات | #عبدالوهاب_ا...'
2025-06-18 05:28:09 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:28:09 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:28:09 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:28:10 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1792 from -1002289754739 forwarded successfully
2025-06-18 05:29:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:30:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:31:19 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:31:27 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1793)
2025-06-18 05:31:27 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:31:27 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu...'
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5

أداء | #فرقة_أنصارالله 
• كلمات | #عبدالوهاب_المحبشي  
• ذكرى رحيل العالم الرباني
 السيد بدر الدين الحوثي - رضوان الله عليه

؛•••••••••••••••••••
#زوامل_أنصارالله_القناة_الرسمية  
#تنفيذ_إتحاد_الشعراء_والمنشدين 
🔰 https://T.me/zawamlAnsarAlllah'
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:31:27 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:31:27 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 300 -> 292 chars
2025-06-18 05:31:27 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:31:27 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''🎼\xa0 #كليب (( البدر\xa0))\nـhttps://www.aparat.com/v/yvu78m5\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰 https://T.me/zawamlAnsarAlllah'' (Bold: False)
2025-06-18 05:31:27 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''🎼\xa0 #كليب (( البدر\xa0))\nـhttps://www.aparat.com/v/yvu78m5\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰 https://T.me/zawamlAnsarAlllah''
2025-06-18 05:31:27 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5
أداء | #فرقة_أنصارالله
• كلمات | #عبدالوهاب_ا...'
2025-06-18 05:31:27 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:31:27 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:31:27 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:31:28 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1793 from -1002289754739 forwarded successfully
2025-06-18 05:31:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:31:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:31:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:31:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:31:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:31:54 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:31:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:31:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:31:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:31:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:31:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:31:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:31:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:31:55 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:31:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:31:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:31:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: links_remove_1
2025-06-18 05:31:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 05:31:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: links_remove_1
2025-06-18 05:31:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 05:31:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 05:31:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 05:31:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 05:31:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: links_remove_1
2025-06-18 05:31:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'links_remove_1' from user 6556918772
2025-06-18 05:31:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: links_remove_1
2025-06-18 05:31:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: links_remove_1
2025-06-18 05:31:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 05:31:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: links_remove_1 ===
2025-06-18 05:31:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'links_remove_1' (type: <class 'str'>)
2025-06-18 05:32:24 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:32:25 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002259745111 (message 537)
2025-06-18 05:32:25 | WARNING  | bot_controller:handle_channel_message:857 - Message 537 from -1002259745111 was not forwarded
2025-06-18 05:32:52 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:32:52 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:32:52 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:32:52 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:32:52 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:32:55 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:32:55 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:32:56 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:32:57 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:32:58 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:32:58 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:32:58 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:32:58 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:32:59 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:32:59 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:32:59 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:32:59 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:32:59 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:32:59 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:32:59 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:32:59 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:32:59 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:33:01 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:33:01 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:33:02 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:33:02 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:33:02 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:33:02 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:33:02 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:33:02 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:33:02 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:33:02 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:33:02 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:33:02 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:33:02 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:33:02 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:33:02 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:33:02 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:33:02 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:33:02 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:33:02 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:33:02 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:33:02 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:33:02 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:33:02 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:33:02 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:33:02 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:33:02 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:33:02 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:33:04 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:33:04 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:33:04 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:33:04 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:33:04 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:33:04 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:33:04 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:33:04 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:33:16 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1794)
2025-06-18 05:33:17 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:33:17 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'https://www.aparat.com/v/yvu78m5...'
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'https://www.aparat.com/v/yvu78m5'
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:33:17 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:33:17 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 32 -> 0 chars
2025-06-18 05:33:17 | INFO     | forwarding_engine:_forward_with_bot:1760 - No modified text available after header/footer processing
2025-06-18 05:33:17 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:33:17 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:33:17 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:33:17 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1794 from -1002289754739 forwarded successfully
2025-06-18 05:33:25 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1795)
2025-06-18 05:33:25 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:33:25 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu...'
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: '🎼  #كليب (( البدر ))
ـhttps://www.aparat.com/v/yvu78m5

أداء | #فرقة_أنصارالله 
• كلمات | #عبدالوهاب_المحبشي  
• ذكرى رحيل العالم الرباني
 السيد بدر الدين الحوثي - رضوان الله عليه

؛•••••••••••••••••••
#زوامل_أنصارالله_القناة_الرسمية  
#تنفيذ_إتحاد_الشعراء_والمنشدين 
🔰 https://T.me/zawamlAnsarAlllah'
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:33:25 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:33:25 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 300 -> 229 chars
2025-06-18 05:33:25 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:33:25 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''🎼\xa0 #كليب (( البدر\xa0))\nـ\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰'' (Bold: False)
2025-06-18 05:33:25 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''🎼\xa0 #كليب (( البدر\xa0))\nـ\nأداء | #فرقة_أنصارالله\n• كلمات | #عبدالوهاب_المحبشي\n• ذكرى رحيل العالم الرباني\n السيد بدر الدين الحوثي - رضوان الله عليه\n؛•••••••••••••••••••\n#زوامل_أنصارالله_القناة_الرسمية\n#تنفيذ_إتحاد_الشعراء_والمنشدين\n🔰''
2025-06-18 05:33:25 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): '🎼  #كليب (( البدر ))
ـ
أداء | #فرقة_أنصارالله
• كلمات | #عبدالوهاب_المحبشي
• ذكرى رحيل العالم الربان...'
2025-06-18 05:33:25 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:33:25 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:33:25 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:33:26 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1795 from -1002289754739 forwarded successfully
2025-06-18 05:33:36 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1796)
2025-06-18 05:33:36 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:33:36 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'https://meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5...'
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'https://meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5'
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:33:36 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:33:36 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 45 -> 0 chars
2025-06-18 05:33:36 | INFO     | forwarding_engine:_forward_with_bot:1760 - No modified text available after header/footer processing
2025-06-18 05:33:36 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:33:36 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:33:36 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:33:37 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1796 from -1002289754739 forwarded successfully
2025-06-18 05:34:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:34:24 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 991)
2025-06-18 05:34:24 | WARNING  | bot_controller:handle_channel_message:857 - Message 991 from -1002542749883 was not forwarded
2025-06-18 05:34:33 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 992)
2025-06-18 05:34:33 | WARNING  | bot_controller:handle_channel_message:857 - Message 992 from -1002542749883 was not forwarded
2025-06-18 05:34:38 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 993)
2025-06-18 05:34:38 | WARNING  | bot_controller:handle_channel_message:857 - Message 993 from -1002542749883 was not forwarded
2025-06-18 05:34:42 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1797)
2025-06-18 05:34:42 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:34:42 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'مصم...'
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'مصم'
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:34:42 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:34:42 | INFO     | forwarding_engine:_forward_with_bot:1675 - Text cleaning: no changes needed
2025-06-18 05:34:42 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:34:42 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''مصم'' (Bold: False)
2025-06-18 05:34:42 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''مصم''
2025-06-18 05:34:42 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): 'مصم...'
2025-06-18 05:34:42 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:34:42 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:34:42 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:34:42 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1797 from -1002289754739 forwarded successfully
2025-06-18 05:34:45 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1798)
2025-06-18 05:34:45 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:34:45 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'https://www.aparat.com/v/yvu78m5كبك...'
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'https://www.aparat.com/v/yvu78m5كبك'
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:34:45 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:34:45 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 35 -> 0 chars
2025-06-18 05:34:45 | INFO     | forwarding_engine:_forward_with_bot:1760 - No modified text available after header/footer processing
2025-06-18 05:34:45 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:34:45 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:34:45 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:34:46 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1798 from -1002289754739 forwarded successfully
2025-06-18 05:34:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1799)
2025-06-18 05:34:53 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:34:53 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'نسنني https://www.aparat.com/v/yvu78m5كبك...'
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1217 - DEBUG: Text message content: 'نسنني https://www.aparat.com/v/yvu78m5كبك'
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1218 - DEBUG: keyword_filters raw: None
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1219 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:34:53 | INFO     | forwarding_engine:_should_process_message:1274 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:34:53 | INFO     | forwarding_engine:_forward_with_bot:1673 - Text cleaning applied: 41 -> 5 chars
2025-06-18 05:34:53 | INFO     | forwarding_engine:_apply_formatting:2385 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:34:53 | INFO     | forwarding_engine:_apply_formatting:2468 - Successfully applied formatting: ''نسنني'' (Bold: False)
2025-06-18 05:34:53 | INFO     | forwarding_engine:_apply_formatting:2469 - DEBUG: Final formatted text being returned: ''نسنني''
2025-06-18 05:34:53 | INFO     | forwarding_engine:_forward_with_bot:1756 - Using text with headers/footers (no formatting changes): 'نسنني...'
2025-06-18 05:34:53 | INFO     | forwarding_engine:_forward_with_bot:1872 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:34:53 | INFO     | forwarding_engine:_create_inline_buttons:1379 - Inline buttons are disabled in settings
2025-06-18 05:34:53 | INFO     | forwarding_engine:_forward_with_bot:1885 - No inline buttons to apply to modified text message
2025-06-18 05:34:54 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1799 from -1002289754739 forwarded successfully
2025-06-18 05:35:15 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:35:15 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:35:15 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:35:15 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:35:15 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:35:18 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:35:19 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:35:20 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:35:21 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:35:22 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:35:22 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:35:22 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:35:22 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:35:22 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:35:22 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:35:22 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:35:22 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:35:22 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:35:22 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:35:22 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:35:22 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:35:24 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:35:24 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:35:25 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:35:25 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:35:25 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:35:25 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:35:25 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:35:25 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:35:25 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:35:25 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:35:25 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:35:25 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:35:25 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:35:25 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:35:25 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:35:25 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:35:25 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:35:25 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:35:25 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:35:25 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:35:25 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:35:25 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:35:26 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:35:26 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:35:26 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:35:26 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:35:26 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:35:27 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:35:27 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:35:27 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:35:27 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:35:27 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:35:27 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:35:27 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:35:27 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:35:52 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1800)
2025-06-18 05:35:53 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:35:53 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 ...'
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعنا الثاني
• زر مشاركة
• زر مشاركة آخر

https://meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5

http://www.mmy.ye/344600
https://www.aparat.com/v/yvu78m5
meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5
aparat.com/v/yvu78m5'
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:35:53 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:35:53 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 302 -> 143 chars
2025-06-18 05:35:53 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:35:53 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر\nmeyon.'' (Bold: False)
2025-06-18 05:35:53 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر\nmeyon.''
2025-06-18 05:35:53 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '🎯 اختبار الأزرار بعد إعادة التشغيل
يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعن...'
2025-06-18 05:35:53 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:35:53 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:35:53 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:35:53 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1800 from -1002289754739 forwarded successfully
2025-06-18 05:36:13 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:36:13 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:36:13 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:36:13 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:36:13 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:36:16 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:36:16 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:36:17 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:36:18 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:36:19 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:36:19 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:36:19 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:36:19 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:36:19 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:36:19 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:36:19 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:36:19 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:36:19 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:36:19 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:36:19 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:36:19 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:36:19 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:36:21 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:36:21 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:36:22 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:36:22 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:36:22 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:36:22 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:36:22 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:36:22 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:36:22 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:36:22 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:36:22 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:36:22 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:36:22 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:36:22 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:36:22 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:36:22 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:36:22 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:36:22 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:36:22 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:36:22 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:36:22 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:36:22 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:36:23 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:36:23 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:36:23 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:36:23 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:36:23 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:36:24 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:36:24 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:36:25 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:36:25 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:36:25 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:36:25 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:36:25 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:36:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:36:36 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 998)
2025-06-18 05:36:36 | WARNING  | bot_controller:handle_channel_message:857 - Message 998 from -1002542749883 was not forwarded
2025-06-18 05:37:33 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:37:33 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:37:33 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:37:33 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:37:33 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:37:36 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:37:36 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:37:36 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:37:36 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:37:36 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:37:36 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:37:37 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:37:38 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:37:39 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:37:39 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:37:39 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:37:39 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:37:39 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:37:39 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:37:39 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:37:39 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:37:39 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:37:39 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:37:39 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:37:40 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:37:40 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:37:40 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:37:40 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:37:40 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:37:40 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:37:42 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:37:42 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:37:42 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:37:42 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:37:42 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:37:42 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:37:42 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:37:42 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:37:42 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:37:43 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:37:43 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:37:43 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:37:43 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:37:43 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:37:43 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:37:43 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:37:43 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:37:43 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:37:43 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:37:43 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:37:43 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:37:43 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:37:43 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:37:43 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:37:43 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:37:43 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:37:43 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:37:44 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:37:45 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:37:45 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:37:45 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:37:45 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:37:45 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:37:45 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:37:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:38:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:39:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:40:39 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1801)
2025-06-18 05:40:39 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:40:39 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 ...'
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '🎯 اختبار الأزرار بعد إعادة التشغيل

يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعنا الثاني
• زر مشاركة
• زر مشاركة آخر

https://meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5

http://www.mmy.ye/344600
https://www.aparat.com/v/yvu78m5
meyon.com.ye/w/nyPfXWeznTDC6LdD8e9LJ5
aparat.com/v/yvu78m5'
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:40:39 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:40:40 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 302 -> 136 chars
2025-06-18 05:40:40 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:40:40 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر'' (Bold: False)
2025-06-18 05:40:40 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''🎯 اختبار الأزرار بعد إعادة التشغيل\nيجب أن تظهر 4 أزرار تحت هذه الرسالة:\n• زر موقعنا الأول\n• زر موقعنا الثاني\n• زر مشاركة\n• زر مشاركة آخر''
2025-06-18 05:40:40 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '🎯 اختبار الأزرار بعد إعادة التشغيل
يجب أن تظهر 4 أزرار تحت هذه الرسالة:
• زر موقعنا الأول
• زر موقعن...'
2025-06-18 05:40:40 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:40:40 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:40:40 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:40:40 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1801 from -1002289754739 forwarded successfully
2025-06-18 05:41:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:41:02 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1802)
2025-06-18 05:41:02 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:41:02 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjshhsx @zawsis...'
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjshhsx @zawsis'
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:41:02 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:41:03 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:41:03 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:41:03 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjshhsx @zawsis'' (Bold: False)
2025-06-18 05:41:03 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjshhsx @zawsis''
2025-06-18 05:41:03 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjshhsx @zawsis...'
2025-06-18 05:41:03 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:41:03 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:41:03 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:41:03 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1802 from -1002289754739 forwarded successfully
2025-06-18 05:41:59 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1803)
2025-06-18 05:41:59 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:41:59 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjshhsx @zawsis...'
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjshhsx @zawsis'
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:41:59 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:41:59 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:41:59 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:41:59 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjshhsx @zawsis'' (Bold: False)
2025-06-18 05:41:59 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjshhsx @zawsis''
2025-06-18 05:41:59 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjshhsx @zawsis...'
2025-06-18 05:41:59 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:41:59 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:41:59 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:42:00 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1803 from -1002289754739 forwarded successfully
2025-06-18 05:42:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:42:34 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1804)
2025-06-18 05:42:34 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:42:34 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'مينيننينيننينيتتي...'
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'مينيننينيننينيتتي'
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:42:34 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:42:34 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:42:34 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:42:34 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''مينيننينيننينيتتي'' (Bold: False)
2025-06-18 05:42:34 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''مينيننينيننينيتتي''
2025-06-18 05:42:34 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'مينيننينيننينيتتي...'
2025-06-18 05:42:34 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:42:34 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:42:34 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:42:35 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1804 from -1002289754739 forwarded successfully
2025-06-18 05:42:47 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:42:47 | INFO     | forwarding_engine:_reload_tasks:2741 - Reloaded tasks: 1 active
2025-06-18 05:42:47 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1003)
2025-06-18 05:42:47 | WARNING  | bot_controller:handle_channel_message:857 - Message 1003 from -1002542749883 was not forwarded
2025-06-18 05:42:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1805)
2025-06-18 05:42:54 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:42:54 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjshhsx @zawsis...'
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjshhsx @zawsis'
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:42:54 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:42:54 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:42:54 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:42:54 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjshhsx @zawsis'' (Bold: False)
2025-06-18 05:42:54 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjshhsx @zawsis''
2025-06-18 05:42:54 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjshhsx @zawsis...'
2025-06-18 05:42:54 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:42:54 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:42:54 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:42:54 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1805 from -1002289754739 forwarded successfully
2025-06-18 05:43:04 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1806)
2025-06-18 05:43:04 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:43:04 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:43:04 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Sjjsjsj@gmail.com...'
2025-06-18 05:43:04 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:43:04 | INFO     | forwarding_engine:_should_process_message:1239 - Message would become empty after link removal - skipping processing
2025-06-18 05:43:04 | WARNING  | bot_controller:handle_channel_message:857 - Message 1806 from -1002289754739 was not forwarded
2025-06-18 05:43:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:43:17 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1807)
2025-06-18 05:43:17 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:43:17 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Ususuus Sjjsjsj@gmail.com...'
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Ususuus Sjjsjsj@gmail.com'
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:43:17 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:43:17 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 25 -> 7 chars
2025-06-18 05:43:17 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:43:17 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Ususuus'' (Bold: False)
2025-06-18 05:43:17 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Ususuus''
2025-06-18 05:43:17 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Ususuus...'
2025-06-18 05:43:17 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:43:17 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:43:17 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:43:18 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1807 from -1002289754739 forwarded successfully
2025-06-18 05:43:22 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1808)
2025-06-18 05:43:22 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:43:22 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjshhsx @zawsis...'
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjshhsx @zawsis'
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:43:22 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:43:22 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:43:22 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:43:22 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjshhsx @zawsis'' (Bold: False)
2025-06-18 05:43:22 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjshhsx @zawsis''
2025-06-18 05:43:22 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjshhsx @zawsis...'
2025-06-18 05:43:22 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:43:22 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:43:22 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:43:23 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1808 from -1002289754739 forwarded successfully
2025-06-18 05:43:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:43:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:43:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:43:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:43:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:43:59 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:43:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:43:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:44:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:44:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:44:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:44:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:44:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:44:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:44:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:44:02 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:44:02 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:44:02 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:44:02 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:44:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:44:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:44:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:44:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:44:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:44:04 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:44:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:44:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:44:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:44:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:44:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:44:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:44:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:44:08 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:44:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:44:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:44:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:44:17 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1809)
2025-06-18 05:44:17 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:44:17 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjshhsx @zawsis...'
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjshhsx @zawsis'
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:44:17 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:44:17 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:44:17 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:44:17 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjshhsx @zawsis'' (Bold: False)
2025-06-18 05:44:17 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjshhsx @zawsis''
2025-06-18 05:44:17 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjshhsx @zawsis...'
2025-06-18 05:44:17 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:44:17 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:44:17 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:44:18 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1809 from -1002289754739 forwarded successfully
2025-06-18 05:44:46 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1810)
2025-06-18 05:44:47 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:44:47 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjsuusus @isijshsh...'
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjsuusus @isijshsh'
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:44:47 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:44:47 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:44:47 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:44:47 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjsuusus @isijshsh'' (Bold: False)
2025-06-18 05:44:47 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjsuusus @isijshsh''
2025-06-18 05:44:47 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjsuusus @isijshsh...'
2025-06-18 05:44:47 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:44:47 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:44:47 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:44:47 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1810 from -1002289754739 forwarded successfully
2025-06-18 05:45:16 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1811)
2025-06-18 05:45:16 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:45:16 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jshshhshs t.me/jsjsusu...'
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jshshhshs t.me/jsjsusu'
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:45:16 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:45:17 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 22 -> 9 chars
2025-06-18 05:45:17 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:45:17 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jshshhshs'' (Bold: False)
2025-06-18 05:45:17 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jshshhshs''
2025-06-18 05:45:17 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jshshhshs...'
2025-06-18 05:45:17 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:45:17 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:45:17 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:45:17 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1811 from -1002289754739 forwarded successfully
2025-06-18 05:45:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:45:48 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1812)
2025-06-18 05:45:48 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:45:48 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jsjsuusus @isijshsh...'
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jsjsuusus @isijshsh'
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:45:48 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:45:49 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:45:49 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:45:49 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jsjsuusus @isijshsh'' (Bold: False)
2025-06-18 05:45:49 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jsjsuusus @isijshsh''
2025-06-18 05:45:49 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jsjsuusus @isijshsh...'
2025-06-18 05:45:49 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:45:49 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:45:49 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:45:49 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1812 from -1002289754739 forwarded successfully
2025-06-18 05:45:58 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1813)
2025-06-18 05:45:58 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:45:58 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Sjjsjsj @ZawamlAnsarallah...'
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Sjjsjsj @ZawamlAnsarallah'
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:45:58 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:45:58 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 05:45:58 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:45:58 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Sjjsjsj @ZawamlAnsarallah'' (Bold: False)
2025-06-18 05:45:58 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Sjjsjsj @ZawamlAnsarallah''
2025-06-18 05:45:58 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Sjjsjsj @ZawamlAnsarallah...'
2025-06-18 05:45:58 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:45:58 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:45:58 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:45:59 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1813 from -1002289754739 forwarded successfully
2025-06-18 05:46:15 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:46:15 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:46:15 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:46:15 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:46:15 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:46:16 | INFO     | __main__:signal_handler:283 - Received signal 15, shutting down...
2025-06-18 05:46:16 | INFO     | __main__:shutdown:251 - Shutting down bot...
2025-06-18 05:46:16 | INFO     | database:close:699 - Database engine disposed
2025-06-18 05:46:16 | SUCCESS  | __main__:shutdown:273 - Database connections closed
2025-06-18 05:46:16 | SUCCESS  | __main__:shutdown:275 - Bot shutdown completed
2025-06-18 05:46:19 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:46:19 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:46:19 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:46:19 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:46:19 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:46:22 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:46:22 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:46:22 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:46:23 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:46:24 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:46:25 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:46:25 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:46:26 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:46:26 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:46:26 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:46:26 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:46:26 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:46:26 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:46:26 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:46:26 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:46:26 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:46:26 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:46:26 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:46:28 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:46:28 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:46:29 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:46:29 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:46:29 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:46:29 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:46:29 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:46:29 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:46:29 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:46:29 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:46:29 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:46:29 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:46:29 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:46:29 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:46:29 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:46:29 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:46:29 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:46:29 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:46:29 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:46:29 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:46:29 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:46:29 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:46:30 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:46:30 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:46:30 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:46:30 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:46:30 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:46:31 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:46:31 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:46:31 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:46:31 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:46:31 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:46:31 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:46:31 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:46:32 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:47:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:47:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:47:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:47:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:47:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:47:13 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:47:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:47:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:47:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:47:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:47:17 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:47:17 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:47:17 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:47:17 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:47:17 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:47:17 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:47:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:47:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:47:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:47:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:47:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:47:18 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:47:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:47:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:47:28 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1814)
2025-06-18 05:47:28 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 05:47:29 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Sjjsjsj @ZawamlAnsarallah...'
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Sjjsjsj @ZawamlAnsarallah'
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 05:47:29 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 05:47:29 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 25 -> 7 chars
2025-06-18 05:47:29 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 05:47:29 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Sjjsjsj'' (Bold: False)
2025-06-18 05:47:29 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Sjjsjsj''
2025-06-18 05:47:29 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Sjjsjsj...'
2025-06-18 05:47:29 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 05:47:29 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 05:47:29 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 05:47:29 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1814 from -1002289754739 forwarded successfully
2025-06-18 05:47:37 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:47:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:47:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:47:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:47:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:47:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:47:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:47:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:47:46 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:47:46 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:47:46 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:47:46 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:47:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:47:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:47:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:47:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:47:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:47:47 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:47:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:47:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:48:06 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:48:06 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:48:06 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:48:06 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:48:06 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:48:09 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:48:09 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:48:10 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:48:11 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:48:12 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:48:12 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:48:13 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:48:13 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:48:13 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:48:13 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:48:13 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:48:13 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:48:13 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:48:13 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:48:13 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:48:13 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:48:13 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:48:15 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:48:15 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:48:16 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:48:16 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:48:16 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:48:16 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:48:16 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:48:16 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:48:16 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:48:16 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:48:16 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:48:16 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:48:16 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:48:16 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:48:16 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:48:16 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:48:16 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:48:16 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:48:16 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:48:16 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:48:16 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:48:16 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:48:17 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:48:17 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:48:17 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:48:17 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:48:17 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:48:18 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:48:18 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:48:18 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:48:18 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:48:18 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:48:18 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:48:18 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:48:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:48:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:48:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:48:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:48:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:48:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:48:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:48:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:48:30 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:48:30 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:48:30 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:48:31 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:48:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:48:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:48:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:48:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:48:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:48:32 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:48:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:48:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:48:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:48:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:48:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:48:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:48:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:48:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:48:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:48:33 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:48:33 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:48:33 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:48:33 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:48:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:48:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:48:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:48:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:48:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:48:34 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:48:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:48:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:48:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:48:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:48:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:48:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:48:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:48:37 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:48:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:48:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:48:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:48:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:48:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:48:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:48:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:48:38 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:48:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:48:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:49:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:49:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:49:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:49:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:49:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:49:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:49:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:49:08 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:49:08 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:49:08 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:49:09 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:49:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:49:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:49:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:49:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:49:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:49:10 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:49:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:49:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:49:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_links_1
2025-06-18 05:49:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_links_1' from user 6556918772
2025-06-18 05:49:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_links_1
2025-06-18 05:49:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_links_1
2025-06-18 05:49:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:49:11 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_links_1
2025-06-18 05:49:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_links_1 ===
2025-06-18 05:49:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_links_1' (type: <class 'str'>)
2025-06-18 05:49:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:49:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:49:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:49:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:49:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:49:12 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:49:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:49:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:49:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: cleaner_buttons_toggle_1
2025-06-18 05:49:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'cleaner_buttons_toggle_1' from user 6556918772
2025-06-18 05:49:15 | INFO     | bot_controller:handle_callback:666 - Routing text cleaner callback to task handlers: cleaner_buttons_toggle_1
2025-06-18 05:49:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: cleaner_buttons_toggle_1
2025-06-18 05:49:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 05:49:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: cleaner_buttons_toggle_1 ===
2025-06-18 05:49:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'cleaner_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 05:49:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:49:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:49:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:49:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:49:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:49:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:49:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:49:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:49:27 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:49:27 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:49:27 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:49:28 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:49:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:49:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:49:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:49:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:49:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:49:29 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:49:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:49:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:50:10 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:50:10 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:50:10 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:50:10 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:50:10 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:10 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:50:10 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:50:10 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:50:10 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:50:10 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:50:10 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:50:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:50:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:50:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:50:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:50:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:11 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:50:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:50:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:50:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:50:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:50:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:50:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:50:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:50:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:50:14 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:50:14 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:50:14 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:50:14 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:50:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:50:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:50:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:50:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:50:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:23 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:50:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:50:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:50:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:50:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:50:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:50:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:50:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:50:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:50:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:50:32 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:50:32 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:50:32 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:50:32 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:50:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_prefix_1
2025-06-18 05:50:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_prefix_1' from user 6556918772
2025-06-18 05:50:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_prefix_1
2025-06-18 05:50:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_prefix_1
2025-06-18 05:50:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 05:50:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_prefix_1
2025-06-18 05:50:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_prefix_1 ===
2025-06-18 05:50:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_prefix_1' (type: <class 'str'>)
2025-06-18 05:50:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:50:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:50:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:50:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:50:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:50:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:50:37 | INFO     | handlers.tasks:_handle_content_setting:1843 - Content setting accessed for task 1
2025-06-18 05:50:37 | INFO     | handlers.tasks:_handle_content_setting:1884 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:50:37 | INFO     | handlers.tasks:_handle_content_setting:1885 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:50:37 | INFO     | handlers.tasks:_handle_content_setting:1891 - Content message updated with new text and keyboard
2025-06-18 05:50:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 05:50:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 05:50:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 05:50:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 05:50:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:50:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 05:50:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 05:50:38 | INFO     | handlers.tasks:_handle_task_settings:1236 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 05:50:41 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-18 05:50:41 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-18 05:50:41 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-18 05:50:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-18 05:50:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:50:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-18 05:50:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-18 05:50:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 05:50:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 05:50:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 05:50:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 05:50:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 05:50:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 05:50:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 05:50:44 | INFO     | handlers.tasks:_handle_task_settings:1236 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 05:50:48 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:50:48 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:50:48 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:50:48 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:50:48 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 05:50:51 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 05:50:51 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 05:50:51 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 05:50:51 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 05:50:51 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 05:50:51 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 05:50:52 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 05:50:53 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 05:50:54 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 05:50:54 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 05:50:54 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 05:50:54 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 05:50:54 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 05:50:54 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 05:50:54 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 05:50:54 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 05:50:54 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 05:50:54 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 05:50:54 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 05:50:55 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 05:50:55 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 05:50:55 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 05:50:55 | SUCCESS  | session_manager:load_session:120 - Session loaded from secure_session.enc
2025-06-18 05:50:55 | INFO     | session_manager:get_unified_session:194 - Using session from unified encrypted storage
2025-06-18 05:50:55 | SUCCESS  | __main__:initialize:88 - Telethon userbot initialized with unified session manager
2025-06-18 05:50:57 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 05:50:57 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 05:50:58 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:50:58 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 05:50:58 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 05:50:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 05:50:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 05:50:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 05:50:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 05:50:58 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 05:50:58 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 05:50:58 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 05:50:58 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 05:50:58 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 05:50:58 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 05:50:58 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 05:50:58 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 05:50:58 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 05:50:58 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 05:50:58 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 05:50:58 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 05:50:58 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 05:50:58 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 05:50:58 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 05:50:58 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 05:50:58 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 05:50:58 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 05:50:59 | SUCCESS  | __main__:start_polling:140 - Telethon userbot started successfully - hybrid mode active
2025-06-18 05:51:00 | INFO     | __main__:start_polling:144 - Userbot authenticated as: ㅤh (@Akm100ye)
2025-06-18 05:51:00 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 05:51:00 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 05:51:00 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 05:51:00 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 05:51:00 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 05:51:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:51:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:51:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:51:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:51:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:51:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:51:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:51:02 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 05:51:02 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:51:02 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:51:02 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 05:51:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:51:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:51:04 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:51:04 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:51:04 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:04 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:51:04 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:51:04 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:51:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:51:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:51:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:51:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:51:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:51:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:51:23 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 05:51:23 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:51:23 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:51:23 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 05:51:25 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:51:25 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:51:25 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:51:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:51:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:25 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:51:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:51:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:51:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:51:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:51:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:51:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:51:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:51:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:51:27 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 05:51:27 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:51:27 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:51:27 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 05:51:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:51:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:51:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:51:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:51:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:51:28 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:51:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:51:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:52:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:53:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:53:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:53:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:53:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:53:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:53:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:53:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:53:01 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 05:53:01 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:53:01 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:53:01 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 05:53:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 05:53:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 05:53:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 05:53:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 05:53:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:53:03 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 05:53:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 05:53:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 05:53:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:53:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 05:53:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 05:53:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 05:53:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 05:53:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 05:53:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 05:53:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 05:53:32 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 05:53:32 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 05:53:32 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 05:53:33 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 05:53:40 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-18 05:53:41 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 05:53:41 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 05:54:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:55:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:56:02 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 05:56:02 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 1 active
2025-06-18 05:56:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:57:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:58:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 05:59:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 06:00:02 | INFO     | database:cleanup_old_logs:658 - Cleaned up old logs: DELETE 0
2025-06-18 06:00:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 06:01:03 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 06:01:03 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 1 active
2025-06-18 06:01:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 06:02:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 06:03:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:02:44 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 20:02:44 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 20:02:44 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 20:02:44 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 20:02:44 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 20:02:47 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 20:02:47 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 20:02:47 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 20:02:47 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 20:02:47 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 20:02:48 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 20:02:49 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 20:02:50 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 20:02:50 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 20:02:50 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 20:02:51 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 20:02:51 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 20:02:51 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 20:02:51 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 20:02:51 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 20:02:51 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 20:02:51 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 20:02:51 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-18 20:02:51 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-18 20:02:51 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-18 20:02:51 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-18 20:02:51 | INFO     | session_manager:get_unified_session:203 - Migrating session from environment variable to unified storage
2025-06-18 20:02:51 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-18 20:02:51 | SUCCESS  | session_manager:get_unified_session:205 - Session migrated from environment variable
2025-06-18 20:02:51 | WARNING  | __main__:initialize:90 - Telethon session error: Not a valid string
2025-06-18 20:02:53 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 20:02:53 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 20:02:54 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 1 active tasks
2025-06-18 20:02:54 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 20:02:54 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 20:02:54 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 20:02:54 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 20:02:54 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 20:02:54 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 20:02:54 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 20:02:54 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 20:02:54 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 20:02:54 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 20:02:54 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 20:02:54 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 1 tasks into cache
2025-06-18 20:02:54 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 20:02:54 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 20:02:54 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 20:02:54 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 20:02:54 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 20:02:54 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 20:02:54 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 20:02:55 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 20:02:55 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 20:02:55 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 20:02:55 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 20:02:55 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 20:02:55 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 20:02:55 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 20:02:55 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 20:02:55 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 20:02:55 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 20:02:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:02:56 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-18 20:03:13 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-18 20:03:17 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 20:03:17 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 20:03:19 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:03:19 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:03:19 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:03:19 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:03:19 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:03:19 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:03:19 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:03:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:03:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:03:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:03:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:03:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:03:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:03:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:03:29 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:03:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:03:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 125647359
2025-06-18 20:03:53 | WARNING  | security:_log_security_event:327 - Security event - unauthorized_access: User not authorized (User: 125647359)
2025-06-18 20:04:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:04:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:04:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:04:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:04:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:04:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:04:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:04:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:04:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 20:04:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 20:04:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_create
2025-06-18 20:04:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_create' from user 6556918772
2025-06-18 20:04:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_create
2025-06-18 20:04:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_create
2025-06-18 20:04:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:04:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_create ===
2025-06-18 20:04:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_create' (type: <class 'str'>)
2025-06-18 20:04:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 20:04:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 20:04:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:04:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:04:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:04:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:04:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:04:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:04:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:04:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:04:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:04:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:04:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:04:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:04:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:04:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:04:52 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:04:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:04:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:04:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:04:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:04:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:04:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:04:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:04:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_4
2025-06-18 20:04:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-18 20:04:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_4
2025-06-18 20:04:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-18 20:04:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:04:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-18 20:04:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-18 20:04:59 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 4 mode is userbot
2025-06-18 20:05:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_toggle_4
2025-06-18 20:05:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_toggle_4' from user 6556918772
2025-06-18 20:05:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_toggle_4
2025-06-18 20:05:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_toggle_4
2025-06-18 20:05:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:05:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_toggle_4 ===
2025-06-18 20:05:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_toggle_4' (type: <class 'str'>)
2025-06-18 20:05:01 | INFO     | modules.task_manager:update_task:166 - Updated task 4
2025-06-18 20:05:01 | INFO     | modules.task_manager:toggle_task_status:214 - Task 4 activated
2025-06-18 20:05:02 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:05:02 | WARNING  | forwarding_engine:_start_task_monitoring:167 - Task 4 configured for userbot but userbot unavailable, switching to Bot API mode
2025-06-18 20:05:02 | INFO     | forwarding_engine:_start_task_monitoring:174 - Task 4 automatically switched to Bot API mode
2025-06-18 20:05:02 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 20:05:02 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 20:05:02 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 20:05:02 | INFO     | forwarding_engine:add_task:2904 - Added task 4 to monitoring
2025-06-18 20:05:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_4
2025-06-18 20:05:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_4' from user 6556918772
2025-06-18 20:05:02 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:05:03 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 4 mode is bot
2025-06-18 20:05:04 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_4
2025-06-18 20:05:04 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_4' from user 6556918772
2025-06-18 20:05:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:05:07 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_view_4_8
2025-06-18 20:05:07 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_view_4_8' from user 6556918772
2025-06-18 20:05:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_4
2025-06-18 20:05:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_4' from user 6556918772
2025-06-18 20:05:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:13 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:27 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:30 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:31 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:31 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:34 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_4
2025-06-18 20:05:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-18 20:05:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_4
2025-06-18 20:05:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-18 20:05:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:05:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-18 20:05:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-18 20:05:35 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 4 mode is bot
2025-06-18 20:05:42 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_list_4
2025-06-18 20:05:42 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_list_4' from user 6556918772
2025-06-18 20:05:43 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:43 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:43 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: source_add_4
2025-06-18 20:05:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'source_add_4' from user 6556918772
2025-06-18 20:05:52 | ERROR    | handlers.sources:_handle_source_add:181 - Error starting source addition: 'BotController' object has no attribute 'update_user_session'
2025-06-18 20:05:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_4
2025-06-18 20:05:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_4' from user 6556918772
2025-06-18 20:05:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_4
2025-06-18 20:05:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_4
2025-06-18 20:05:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:05:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_4 ===
2025-06-18 20:05:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_4' (type: <class 'str'>)
2025-06-18 20:05:54 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 4 mode is bot
2025-06-18 20:06:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:06:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:06:38 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1816)
2025-06-18 20:06:38 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:06:38 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1817)
2025-06-18 20:06:38 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ك...'
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'ك'
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:06:38 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:06:38 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1818)
2025-06-18 20:06:38 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1819)
2025-06-18 20:06:38 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:06:38 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:06:38 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:06:38 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''ك'' (Bold: False)
2025-06-18 20:06:38 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''ك''
2025-06-18 20:06:38 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'ك...'
2025-06-18 20:06:38 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:06:38 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:06:38 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:06:39 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢...'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢нαηηєℓ - https://t.me/Ex_Obito_Uchiha_69'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:06:39 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 90 -> 58 chars
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:\nму ¢нαηηєℓ -'' (Bold: False)
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:\nму ¢нαηηєℓ -''
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢нαηηєℓ -...'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:06:39 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:06:39 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'UTKARSH — 1x txt • ₹1000  
CP DRM — 1x txt • ₹1000...'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'UTKARSH — 1x txt • ₹1000  
CP DRM — 1x txt • ₹1000  
YT — 1x txt • ₹100  
DM for others.

@Ex_Obito_Uchiha_idk'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:06:39 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:06:39 | INFO     | forwarding_engine:_should_process_message:1167 - Message contains inline buttons - will be preserved
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 110 -> 82 chars
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''UTKARSH — 1x txt • ₹1000\nCP DRM — 1x txt • ₹1000\nYT — 1x txt • ₹100\nDM for others.'' (Bold: False)
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''UTKARSH — 1x txt • ₹1000\nCP DRM — 1x txt • ₹1000\nYT — 1x txt • ₹100\nDM for others.''
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'UTKARSH — 1x txt • ₹1000
CP DRM — 1x txt • ₹1000
YT — 1x txt • ₹100
DM for others....'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:06:39 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 158 -> 33 chars
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ'' (Bold: False)
2025-06-18 20:06:39 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ''
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ...'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1849 - Using modified caption for media: 'ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ...'
2025-06-18 20:06:39 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1863 - Preserving original inline buttons in media message
2025-06-18 20:06:39 | INFO     | forwarding_engine:_forward_with_bot:1867 - Applied inline buttons to media message
2025-06-18 20:06:39 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1015)
2025-06-18 20:06:39 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1816 from -1002289754739 forwarded successfully
2025-06-18 20:06:39 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1016)
2025-06-18 20:06:39 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1017)
2025-06-18 20:06:39 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1817 from -1002289754739 forwarded successfully
2025-06-18 20:06:39 | WARNING  | bot_controller:handle_channel_message:857 - Message 1015 from -1002542749883 was not forwarded
2025-06-18 20:06:39 | WARNING  | bot_controller:handle_channel_message:857 - Message 1016 from -1002542749883 was not forwarded
2025-06-18 20:06:39 | WARNING  | bot_controller:handle_channel_message:857 - Message 1017 from -1002542749883 was not forwarded
2025-06-18 20:06:39 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1019)
2025-06-18 20:06:39 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1819 from -1002289754739 forwarded successfully
2025-06-18 20:06:40 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1020)
2025-06-18 20:06:40 | WARNING  | bot_controller:handle_channel_message:857 - Message 1019 from -1002542749883 was not forwarded
2025-06-18 20:06:40 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1818 from -1002289754739 forwarded successfully
2025-06-18 20:06:40 | WARNING  | bot_controller:handle_channel_message:857 - Message 1020 from -1002542749883 was not forwarded
2025-06-18 20:06:44 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1022)
2025-06-18 20:06:45 | WARNING  | bot_controller:handle_channel_message:857 - Message 1022 from -1002542749883 was not forwarded
2025-06-18 20:06:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1023)
2025-06-18 20:06:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1024)
2025-06-18 20:06:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1025)
2025-06-18 20:06:53 | WARNING  | bot_controller:handle_channel_message:857 - Message 1023 from -1002542749883 was not forwarded
2025-06-18 20:06:53 | WARNING  | bot_controller:handle_channel_message:857 - Message 1025 from -1002542749883 was not forwarded
2025-06-18 20:06:53 | WARNING  | bot_controller:handle_channel_message:857 - Message 1024 from -1002542749883 was not forwarded
2025-06-18 20:06:53 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1026)
2025-06-18 20:06:54 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1027)
2025-06-18 20:06:54 | WARNING  | bot_controller:handle_channel_message:857 - Message 1026 from -1002542749883 was not forwarded
2025-06-18 20:06:54 | WARNING  | bot_controller:handle_channel_message:857 - Message 1027 from -1002542749883 was not forwarded
2025-06-18 20:06:56 | INFO     | bot_controller:text_message_handler:180 - Text handler: '-1002053323268' from user 6556918772, state: TaskStates:CREATING_TASK
2025-06-18 20:06:56 | INFO     | bot_controller:text_message_handler:218 - Unhandled text message: '-1002053323268' in state: TaskStates:CREATING_TASK
2025-06-18 20:06:58 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-18 20:06:58 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1028)
2025-06-18 20:06:59 | WARNING  | bot_controller:handle_channel_message:857 - Message 1028 from -1002542749883 was not forwarded
2025-06-18 20:07:08 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:07:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:07:17 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1820)
2025-06-18 20:07:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:07:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'طط...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'طط'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''طط'' (Bold: False)
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''طط''
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'طط...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:07:18 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:07:18 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1821)
2025-06-18 20:07:18 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1822)
2025-06-18 20:07:18 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1823)
2025-06-18 20:07:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:07:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1167 - Message contains inline buttons - will be preserved
2025-06-18 20:07:18 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1820 from -1002289754739 forwarded successfully
2025-06-18 20:07:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:07:18 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:07:18 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1030)
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 158 -> 33 chars
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ'' (Bold: False)
2025-06-18 20:07:18 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ''
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1849 - Using modified caption for media: 'ᴡᴀᴛᴄʜ 𝟷𝟾+ ғᴜʟʟ ʜᴅ ᴠɪᴅᴏᴇ ᴊᴏɪɴᴇ ɴᴏᴡ...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1863 - Preserving original inline buttons in media message
2025-06-18 20:07:18 | INFO     | forwarding_engine:_forward_with_bot:1867 - Applied inline buttons to media message
2025-06-18 20:07:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'UTKARSH — 1x txt • ₹1000  
CP DRM — 1x txt • ₹1000...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'UTKARSH — 1x txt • ₹1000  
CP DRM — 1x txt • ₹1000  
YT — 1x txt • ₹100  
DM for others.

@Ex_Obito_Uchiha_idk'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:07:18 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢...'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢нαηηєℓ - https://t.me/Ex_Obito_Uchiha_69'
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:07:18 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:07:19 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1031)
2025-06-18 20:07:19 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1032)
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 110 -> 82 chars
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''UTKARSH — 1x txt • ₹1000\nCP DRM — 1x txt • ₹1000\nYT — 1x txt • ₹100\nDM for others.'' (Bold: False)
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''UTKARSH — 1x txt • ₹1000\nCP DRM — 1x txt • ₹1000\nYT — 1x txt • ₹100\nDM for others.''
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'UTKARSH — 1x txt • ₹1000
CP DRM — 1x txt • ₹1000
YT — 1x txt • ₹100
DM for others....'
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:07:19 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:07:19 | WARNING  | bot_controller:handle_channel_message:857 - Message 1030 from -1002542749883 was not forwarded
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 90 -> 58 chars
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:\nму ¢нαηηєℓ -'' (Bold: False)
2025-06-18 20:07:19 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:\nму ¢нαηηєℓ -''
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⚠️ мαкє ѕυяє тσ נσιη тнє ¢нαηηєℓ ƒσя υρ∂αтєѕ:
му ¢нαηηєℓ -...'
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:07:19 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:07:19 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:07:19 | WARNING  | bot_controller:handle_channel_message:857 - Message 1031 from -1002542749883 was not forwarded
2025-06-18 20:07:19 | WARNING  | bot_controller:handle_channel_message:857 - Message 1032 from -1002542749883 was not forwarded
2025-06-18 20:07:19 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1821 from -1002289754739 forwarded successfully
2025-06-18 20:07:19 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1034)
2025-06-18 20:07:19 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1035)
2025-06-18 20:07:19 | WARNING  | bot_controller:handle_channel_message:857 - Message 1034 from -1002542749883 was not forwarded
2025-06-18 20:07:19 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1823 from -1002289754739 forwarded successfully
2025-06-18 20:07:19 | WARNING  | bot_controller:handle_channel_message:857 - Message 1035 from -1002542749883 was not forwarded
2025-06-18 20:07:19 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1822 from -1002289754739 forwarded successfully
2025-06-18 20:07:26 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1038)
2025-06-18 20:07:26 | WARNING  | bot_controller:handle_channel_message:857 - Message 1038 from -1002542749883 was not forwarded
2025-06-18 20:07:26 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1039)
2025-06-18 20:07:27 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002542749883 (message 1040)
2025-06-18 20:07:27 | WARNING  | bot_controller:handle_channel_message:857 - Message 1039 from -1002542749883 was not forwarded
2025-06-18 20:07:27 | WARNING  | bot_controller:handle_channel_message:857 - Message 1040 from -1002542749883 was not forwarded
2025-06-18 20:08:13 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:08:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:08:34 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1824)
2025-06-18 20:08:34 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:08:34 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Lll...'
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Lll'
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:08:34 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:08:34 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:08:34 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:08:34 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Lll'' (Bold: False)
2025-06-18 20:08:34 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Lll''
2025-06-18 20:08:34 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Lll...'
2025-06-18 20:08:34 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:08:34 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:08:34 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:08:35 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1824 from -1002289754739 forwarded successfully
2025-06-18 20:09:18 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:09:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:09:37 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1825)
2025-06-18 20:09:37 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:09:37 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Klll...'
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Klll'
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:09:37 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:09:38 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:09:38 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:09:38 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Klll'' (Bold: False)
2025-06-18 20:09:38 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Klll''
2025-06-18 20:09:38 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Klll...'
2025-06-18 20:09:38 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:09:38 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:09:38 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:09:38 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1825 from -1002289754739 forwarded successfully
2025-06-18 20:09:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 20:09:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 20:09:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:09:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:09:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:09:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:09:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:09:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:09:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:09:58 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:09:58 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:09:58 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:09:58 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:09:58 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:09:58 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:09:58 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:09:59 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:10:00 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:10:00 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:10:00 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:10:00 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:10:00 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:10:00 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:10:00 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:10:00 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:10:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:10:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:10:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:10:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:10:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:10:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:10:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:10:01 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:10:01 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:10:01 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:10:01 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:10:03 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-18 20:10:03 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 20:10:03 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-18 20:10:03 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 20:10:03 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:10:03 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 20:10:03 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 20:10:03 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 20:10:05 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_bold_1
2025-06-18 20:10:05 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 20:10:05 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_bold_1
2025-06-18 20:10:05 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 20:10:05 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:10:05 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 20:10:05 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 20:10:05 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_link': True, 'remove_all': False}
2025-06-18 20:10:11 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1826)
2025-06-18 20:10:11 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:10:12 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر ...'
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:10:12 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:10:12 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 147 -> 130 chars
2025-06-18 20:10:12 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': True, 'apply_link': True, 'remove_all': False}
2025-06-18 20:10:12 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<b>⭕️عاجل⭕️\nكتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"\nⓣ.me/almasirah2</b>'' (Bold: True)
2025-06-18 20:10:12 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<b>⭕️عاجل⭕️\nكتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"\nⓣ.me/almasirah2</b>''
2025-06-18 20:10:12 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<b>⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة ص...'
2025-06-18 20:10:12 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:10:12 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:10:12 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:10:12 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1826 from -1002289754739 forwarded successfully
2025-06-18 20:10:23 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:10:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_bold_1
2025-06-18 20:10:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 20:10:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_bold_1
2025-06-18 20:10:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 20:10:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:10:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 20:10:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 20:10:27 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:10:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:10:40 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1827)
2025-06-18 20:10:41 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:10:41 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jnj...'
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jnj'
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:10:41 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:10:41 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:10:41 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': True, 'remove_all': False}
2025-06-18 20:10:41 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jnj'' (Bold: False)
2025-06-18 20:10:41 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jnj''
2025-06-18 20:10:41 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jnj...'
2025-06-18 20:10:41 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:10:41 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:10:41 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:10:41 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1827 from -1002289754739 forwarded successfully
2025-06-18 20:10:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_set_link_1
2025-06-18 20:10:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_set_link_1' from user 6556918772
2025-06-18 20:10:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_set_link_1
2025-06-18 20:10:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_set_link_1
2025-06-18 20:10:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:10:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_set_link_1 ===
2025-06-18 20:10:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_set_link_1' (type: <class 'str'>)
2025-06-18 20:10:50 | INFO     | bot_controller:start_command:296 - User 6556918772 started the bot
2025-06-18 20:10:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:10:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:10:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:10:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:10:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:10:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:10:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:10:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:10:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:10:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:10:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:10:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:10:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:10:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:10:55 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:10:56 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:10:56 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:10:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:10:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:10:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:10:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:10:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:10:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:10:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:10:56 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:10:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:10:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:10:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:10:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:10:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:10:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:10:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:10:57 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:10:57 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:10:57 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:10:57 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:10:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-18 20:10:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 20:10:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-18 20:10:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 20:10:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:10:59 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 20:10:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 20:10:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 20:11:02 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_set_link_1
2025-06-18 20:11:02 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_set_link_1' from user 6556918772
2025-06-18 20:11:02 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_set_link_1
2025-06-18 20:11:02 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_set_link_1
2025-06-18 20:11:02 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:11:02 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_set_link_1 ===
2025-06-18 20:11:02 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_set_link_1' (type: <class 'str'>)
2025-06-18 20:11:14 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'https://t.me/+2hbBpMNM2ds1YTdk' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 20:11:14 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Text: 'https://t.me/+2hbBpMNM2ds1YTdk'
2025-06-18 20:11:14 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Awaiting: None, Task ID: 1
2025-06-18 20:11:14 | WARNING  | handlers.tasks:handle_text_input:5166 - No handler found for text input - State: TaskStates:WAITING_INPUT, Action: set_custom_link, Awaiting: None
2025-06-18 20:11:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: main_tasks
2025-06-18 20:11:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'main_tasks' from user 6556918772
2025-06-18 20:11:25 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_list
2025-06-18 20:11:25 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_list' from user 6556918772
2025-06-18 20:11:25 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_list
2025-06-18 20:11:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_list
2025-06-18 20:11:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 9
2025-06-18 20:11:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_list ===
2025-06-18 20:11:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_list' (type: <class 'str'>)
2025-06-18 20:11:26 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:11:26 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:11:26 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:11:26 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:11:26 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:11:26 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:11:26 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:11:27 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:11:28 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:11:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:11:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:11:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:11:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:11:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:11:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:11:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:11:28 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:11:31 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:11:31 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:11:31 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:11:31 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:11:31 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:11:31 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:11:31 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:11:31 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:11:31 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:11:31 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:11:31 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:11:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:11:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-18 20:11:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 20:11:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-18 20:11:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 20:11:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:11:36 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 20:11:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 20:11:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 20:11:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_quote_1
2025-06-18 20:11:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_quote_1' from user 6556918772
2025-06-18 20:11:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_quote_1
2025-06-18 20:11:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_quote_1
2025-06-18 20:11:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 20:11:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_quote_1 ===
2025-06-18 20:11:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_quote_1' (type: <class 'str'>)
2025-06-18 20:11:40 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': True, 'remove_all': False, 'apply_quote': True}
2025-06-18 20:11:41 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_hyperlink_1
2025-06-18 20:11:41 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_hyperlink_1' from user 6556918772
2025-06-18 20:11:41 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_hyperlink_1
2025-06-18 20:11:41 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_hyperlink_1
2025-06-18 20:11:41 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:11:41 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_hyperlink_1 ===
2025-06-18 20:11:41 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_hyperlink_1' (type: <class 'str'>)
2025-06-18 20:11:42 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': False, 'remove_all': False, 'apply_quote': True}
2025-06-18 20:11:43 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1828)
2025-06-18 20:11:44 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:11:44 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:11:44 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:11:44 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:11:44 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_link': False, 'remove_all': False, 'apply_quote': True}
2025-06-18 20:11:44 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<blockquote>⭕️عاجل⭕️</blockquote>\n<blockquote>مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة</blockquote>\n<blockquote>ⓣ.me/almasirah2</blockquote>'' (Bold: False)
2025-06-18 20:11:44 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<blockquote>⭕️عاجل⭕️</blockquote>\n<blockquote>مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة</blockquote>\n<blockquote>ⓣ.me/almasirah2</blockquote>''
2025-06-18 20:11:44 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<blockquote>⭕️عاجل⭕️</blockquote>
<blockquote>مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية...'
2025-06-18 20:11:44 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:11:44 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:11:44 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:11:44 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1828 from -1002289754739 forwarded successfully
2025-06-18 20:11:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_quote_1
2025-06-18 20:11:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_quote_1' from user 6556918772
2025-06-18 20:11:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_quote_1
2025-06-18 20:11:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_quote_1
2025-06-18 20:11:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 20:11:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_quote_1 ===
2025-06-18 20:11:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_quote_1' (type: <class 'str'>)
2025-06-18 20:11:52 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False}
2025-06-18 20:11:53 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_code_1
2025-06-18 20:11:53 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_code_1' from user 6556918772
2025-06-18 20:11:53 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_code_1
2025-06-18 20:11:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_code_1
2025-06-18 20:11:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:11:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_code_1 ===
2025-06-18 20:11:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_code_1' (type: <class 'str'>)
2025-06-18 20:11:53 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_code': True}
2025-06-18 20:11:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_code_1
2025-06-18 20:11:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_code_1' from user 6556918772
2025-06-18 20:11:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_code_1
2025-06-18 20:11:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_code_1
2025-06-18 20:11:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:11:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_code_1 ===
2025-06-18 20:11:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_code_1' (type: <class 'str'>)
2025-06-18 20:11:56 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False}
2025-06-18 20:11:59 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1829)
2025-06-18 20:11:59 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:11:59 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:11:59 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:11:59 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:11:59 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False}
2025-06-18 20:11:59 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:11:59 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-18 20:11:59 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasi...'
2025-06-18 20:11:59 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:11:59 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:11:59 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:11:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_code_1
2025-06-18 20:11:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_code_1' from user 6556918772
2025-06-18 20:11:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_code_1
2025-06-18 20:11:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_code_1
2025-06-18 20:11:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:11:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_code_1 ===
2025-06-18 20:11:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_code_1' (type: <class 'str'>)
2025-06-18 20:12:00 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1829 from -1002289754739 forwarded successfully
2025-06-18 20:12:00 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': True, 'apply_link': False, 'remove_all': False, 'apply_quote': False}
2025-06-18 20:12:12 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1830)
2025-06-18 20:12:13 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:12:13 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:12:13 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:12:13 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:12:13 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': True, 'apply_link': False, 'remove_all': False, 'apply_quote': False}
2025-06-18 20:12:13 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<code>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</code>'' (Bold: False)
2025-06-18 20:12:13 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<code>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</code>''
2025-06-18 20:12:13 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<code>⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/...'
2025-06-18 20:12:13 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:12:13 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:12:13 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:12:13 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1830 from -1002289754739 forwarded successfully
2025-06-18 20:12:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_italic_1
2025-06-18 20:12:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_italic_1' from user 6556918772
2025-06-18 20:12:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_italic_1
2025-06-18 20:12:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_italic_1
2025-06-18 20:12:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_italic_1 ===
2025-06-18 20:12:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_italic_1' (type: <class 'str'>)
2025-06-18 20:12:24 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': True, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True}
2025-06-18 20:12:25 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_bold_1
2025-06-18 20:12:25 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 20:12:25 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_bold_1
2025-06-18 20:12:25 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 20:12:25 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:12:25 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 20:12:25 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 20:12:26 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': True, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True}
2025-06-18 20:12:28 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_underline_1
2025-06-18 20:12:28 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_underline_1' from user 6556918772
2025-06-18 20:12:28 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_underline_1
2025-06-18 20:12:28 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_underline_1
2025-06-18 20:12:28 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:12:28 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_underline_1 ===
2025-06-18 20:12:28 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_underline_1' (type: <class 'str'>)
2025-06-18 20:12:28 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': True, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True}
2025-06-18 20:12:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_code_1
2025-06-18 20:12:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_code_1' from user 6556918772
2025-06-18 20:12:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_code_1
2025-06-18 20:12:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_code_1
2025-06-18 20:12:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:12:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_code_1 ===
2025-06-18 20:12:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_code_1' (type: <class 'str'>)
2025-06-18 20:12:29 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True}
2025-06-18 20:12:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_strike_1
2025-06-18 20:12:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_strike_1' from user 6556918772
2025-06-18 20:12:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_strike_1
2025-06-18 20:12:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_strike_1
2025-06-18 20:12:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_strike_1 ===
2025-06-18 20:12:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_strike_1' (type: <class 'str'>)
2025-06-18 20:12:30 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True, 'apply_strikethrough': True}
2025-06-18 20:12:33 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:12:33 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1831)
2025-06-18 20:12:33 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:12:33 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:12:33 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:12:33 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:12:33 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': True, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True, 'apply_strikethrough': True}
2025-06-18 20:12:33 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<s><u><i><b>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</b></i></u></s>'' (Bold: True)
2025-06-18 20:12:33 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<s><u><i><b>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</b></i></u></s>''
2025-06-18 20:12:33 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<s><u><i><b>⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة...'
2025-06-18 20:12:33 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:12:33 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:12:33 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:12:34 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1831 from -1002289754739 forwarded successfully
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_strike_1
2025-06-18 20:12:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_strike_1' from user 6556918772
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_strike_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_strike_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_strike_1 ===
2025-06-18 20:12:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_strike_1' (type: <class 'str'>)
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_bold_1
2025-06-18 20:12:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_bold_1' from user 6556918772
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_bold_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_bold_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 13
2025-06-18 20:12:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_bold_1 ===
2025-06-18 20:12:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_bold_1' (type: <class 'str'>)
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_italic_1
2025-06-18 20:12:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_italic_1' from user 6556918772
2025-06-18 20:12:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_italic_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_italic_1
2025-06-18 20:12:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_italic_1 ===
2025-06-18 20:12:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_italic_1' (type: <class 'str'>)
2025-06-18 20:12:39 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True, 'apply_strikethrough': False}
2025-06-18 20:12:40 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': True, 'apply_strikethrough': True}
2025-06-18 20:12:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_underline_1
2025-06-18 20:12:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_underline_1' from user 6556918772
2025-06-18 20:12:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_underline_1
2025-06-18 20:12:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_underline_1
2025-06-18 20:12:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:12:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_underline_1 ===
2025-06-18 20:12:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_underline_1' (type: <class 'str'>)
2025-06-18 20:12:40 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': True, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_underline': True, 'apply_strikethrough': False}
2025-06-18 20:12:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:12:41 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': True, 'apply_underline': False, 'apply_strikethrough': True}
2025-06-18 20:12:45 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_italic_1
2025-06-18 20:12:45 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_italic_1' from user 6556918772
2025-06-18 20:12:45 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_italic_1
2025-06-18 20:12:45 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_italic_1
2025-06-18 20:12:45 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:45 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_italic_1 ===
2025-06-18 20:12:45 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_italic_1' (type: <class 'str'>)
2025-06-18 20:12:46 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_underline': False, 'apply_strikethrough': True}
2025-06-18 20:12:47 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_spoiler_1
2025-06-18 20:12:47 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_spoiler_1' from user 6556918772
2025-06-18 20:12:47 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_spoiler_1
2025-06-18 20:12:47 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_spoiler_1
2025-06-18 20:12:47 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 20:12:47 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_spoiler_1 ===
2025-06-18 20:12:47 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_spoiler_1' (type: <class 'str'>)
2025-06-18 20:12:47 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_underline': False, 'apply_strikethrough': True, 'apply_spoiler': True}
2025-06-18 20:12:48 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1832)
2025-06-18 20:12:49 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:12:49 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:12:49 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:12:49 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:12:49 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': True, 'apply_underline': False, 'apply_strikethrough': True}
2025-06-18 20:12:49 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<tg-spoiler><s>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</s></tg-spoiler>'' (Bold: False)
2025-06-18 20:12:49 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<tg-spoiler><s>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</s></tg-spoiler>''
2025-06-18 20:12:49 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<tg-spoiler><s>⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع ...'
2025-06-18 20:12:49 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:12:49 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:12:49 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:12:49 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1832 from -1002289754739 forwarded successfully
2025-06-18 20:12:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_strike_1
2025-06-18 20:12:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_strike_1' from user 6556918772
2025-06-18 20:12:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_strike_1
2025-06-18 20:12:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_strike_1
2025-06-18 20:12:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:12:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_strike_1 ===
2025-06-18 20:12:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_strike_1' (type: <class 'str'>)
2025-06-18 20:12:51 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': True, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:13:13 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_view_1
2025-06-18 20:13:13 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_view_1' from user 6556918772
2025-06-18 20:13:13 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_view_1
2025-06-18 20:13:13 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_view_1
2025-06-18 20:13:13 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 11
2025-06-18 20:13:13 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_view_1 ===
2025-06-18 20:13:13 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_view_1' (type: <class 'str'>)
2025-06-18 20:13:13 | INFO     | handlers.tasks:_handle_task_view:1065 - Task view: Task 1 mode is bot
2025-06-18 20:13:15 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:13:15 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:13:15 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:13:15 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:13:15 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:13:15 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:13:15 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:13:15 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:13:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:13:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:13:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:13:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:13:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:13:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:13:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_media_1
2025-06-18 20:13:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_media_1' from user 6556918772
2025-06-18 20:13:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_media_1
2025-06-18 20:13:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_media_1
2025-06-18 20:13:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 20:13:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_media_1 ===
2025-06-18 20:13:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_media_1' (type: <class 'str'>)
2025-06-18 20:13:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:13:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:13:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:13:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:13:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:13:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:13:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_keywords_1
2025-06-18 20:13:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_keywords_1' from user 6556918772
2025-06-18 20:13:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_keywords_1
2025-06-18 20:13:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_keywords_1
2025-06-18 20:13:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_keywords_1 ===
2025-06-18 20:13:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_keywords_1' (type: <class 'str'>)
2025-06-18 20:13:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:13:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:13:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:13:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:13:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:13:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:13:38 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:13:39 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_length_1
2025-06-18 20:13:39 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_length_1' from user 6556918772
2025-06-18 20:13:39 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_length_1
2025-06-18 20:13:39 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_length_1
2025-06-18 20:13:39 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:13:39 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_length_1 ===
2025-06-18 20:13:39 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_length_1' (type: <class 'str'>)
2025-06-18 20:13:39 | WARNING  | handlers.tasks:handle_callback:233 - DEBUGGING: Length filter callback detected: filter_length_1
2025-06-18 20:13:39 | INFO     | handlers.tasks:handle_callback:390 - Routing to length filter main interface: filter_length_1
2025-06-18 20:13:39 | INFO     | handlers.tasks:_handle_length_filter:9401 - Loading enhanced length filter for task 1
2025-06-18 20:13:39 | INFO     | handlers.tasks:_handle_length_filter:9423 - Fresh data loaded for task 1: {}
2025-06-18 20:13:40 | INFO     | handlers.tasks:_handle_length_filter:9449 - Initialized empty length filter settings for task 1: {'enabled': False, 'min_length': 0, 'max_length': 4096, 'action_mode': 'block'}
2025-06-18 20:13:40 | INFO     | handlers.tasks:_handle_length_filter:9546 - UI updated successfully for task 1 with timestamp 164, action: block
2025-06-18 20:13:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:13:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:13:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:13:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:13:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:13:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:13:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:13:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_forwarded_1
2025-06-18 20:13:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_forwarded_1' from user 6556918772
2025-06-18 20:13:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_forwarded_1
2025-06-18 20:13:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_forwarded_1
2025-06-18 20:13:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:13:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_forwarded_1 ===
2025-06-18 20:13:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_forwarded_1' (type: <class 'str'>)
2025-06-18 20:13:48 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:13:48 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:13:48 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:13:48 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:13:48 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:13:48 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:13:48 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:13:54 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_links_1
2025-06-18 20:13:54 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_links_1' from user 6556918772
2025-06-18 20:13:54 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_links_1
2025-06-18 20:13:54 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_links_1
2025-06-18 20:13:54 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 14
2025-06-18 20:13:54 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_links_1 ===
2025-06-18 20:13:54 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_links_1' (type: <class 'str'>)
2025-06-18 20:14:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:14:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:14:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:14:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:14:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:14:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:14:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:14:12 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_buttons_1
2025-06-18 20:14:12 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_buttons_1' from user 6556918772
2025-06-18 20:14:12 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_buttons_1
2025-06-18 20:14:12 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_buttons_1
2025-06-18 20:14:12 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 20:14:12 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_buttons_1 ===
2025-06-18 20:14:12 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_buttons_1' (type: <class 'str'>)
2025-06-18 20:14:16 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:14:16 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:14:16 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:14:16 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:14:16 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:14:16 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:14:16 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:14:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_duplicates_1
2025-06-18 20:14:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_duplicates_1' from user 6556918772
2025-06-18 20:14:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_duplicates_1
2025-06-18 20:14:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_duplicates_1
2025-06-18 20:14:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:14:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_duplicates_1 ===
2025-06-18 20:14:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_duplicates_1' (type: <class 'str'>)
2025-06-18 20:14:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:14:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:14:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:14:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:14:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:14:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:14:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:14:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:14:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:14:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:14:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:14:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:14:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:14:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:14:22 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:14:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-18 20:14:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 20:14:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-18 20:14:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 20:14:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:14:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 20:14:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 20:14:30 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 20:14:30 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 20:14:30 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 20:14:30 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 20:14:30 | INFO     | handlers.tasks:_handle_advanced_setting:6942 - Starting advanced settings handler for task 1
2025-06-18 20:14:30 | INFO     | handlers.tasks:_handle_advanced_setting:6944 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 18, 5, 46, 9, 514772), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": true, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [], "enabled": false, "button_rows": []}'}
2025-06-18 20:14:30 | INFO     | handlers.tasks:_handle_advanced_setting:6954 - Creating keyboard for task 1
2025-06-18 20:14:30 | INFO     | handlers.tasks:_handle_advanced_setting:6956 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:14:30 | INFO     | handlers.tasks:_handle_advanced_setting:6959 - Message edited successfully for task 1
2025-06-18 20:14:30 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 20:14:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:14:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:14:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:14:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:14:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:14:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:14:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:14:32 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:14:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-18 20:14:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 20:14:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-18 20:14:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 20:14:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:14:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 20:14:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 20:14:34 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 20:14:34 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 20:14:34 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 20:14:34 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 20:14:34 | INFO     | handlers.tasks:_handle_advanced_setting:6942 - Starting advanced settings handler for task 1
2025-06-18 20:14:34 | INFO     | handlers.tasks:_handle_advanced_setting:6944 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 18, 5, 46, 9, 514772), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': False, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": true, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': False, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [], "enabled": false, "button_rows": []}'}
2025-06-18 20:14:34 | INFO     | handlers.tasks:_handle_advanced_setting:6954 - Creating keyboard for task 1
2025-06-18 20:14:34 | INFO     | handlers.tasks:_handle_advanced_setting:6956 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:14:34 | INFO     | handlers.tasks:_handle_advanced_setting:6959 - Message edited successfully for task 1
2025-06-18 20:14:34 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 20:14:43 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:14:44 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:14:44 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:14:44 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:14:44 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:14:44 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:14:44 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:14:44 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:14:44 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:14:46 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_forward_1
2025-06-18 20:14:46 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_forward_1' from user 6556918772
2025-06-18 20:14:46 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_forward_1
2025-06-18 20:14:46 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_forward_1
2025-06-18 20:14:46 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:14:46 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_forward_1 ===
2025-06-18 20:14:46 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_forward_1' (type: <class 'str'>)
2025-06-18 20:14:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:14:51 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_sync_edits_1
2025-06-18 20:14:51 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_sync_edits_1' from user 6556918772
2025-06-18 20:14:51 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_sync_edits_1
2025-06-18 20:14:51 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_sync_edits_1
2025-06-18 20:14:51 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:14:51 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_sync_edits_1 ===
2025-06-18 20:14:51 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_sync_edits_1' (type: <class 'str'>)
2025-06-18 20:14:57 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1833)
2025-06-18 20:14:57 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:14:57 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jjji...'
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jjji'
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:14:57 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:14:57 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:14:57 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': True, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:14:57 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<tg-spoiler>Jjji</tg-spoiler>'' (Bold: False)
2025-06-18 20:14:57 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<tg-spoiler>Jjji</tg-spoiler>''
2025-06-18 20:14:57 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<tg-spoiler>Jjji</tg-spoiler>...'
2025-06-18 20:14:57 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:14:57 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:14:57 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:14:57 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:14:58 | INFO     | forwarding_engine:_store_message_mapping:3098 - Created message mapping: task=1, source=1833 -> target=1050 in chat -1002542749883
2025-06-18 20:14:58 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:14:59 | INFO     | forwarding_engine:_store_message_mapping:3078 - Updated message mapping: task=1, source=1833 -> target=1050 in chat -1002542749883
2025-06-18 20:14:59 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1833 from -1002289754739 forwarded successfully
2025-06-18 20:15:06 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1834)
2025-06-18 20:15:06 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:15:06 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:15:06 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:15:07 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:15:07 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': True, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:15:07 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''<tg-spoiler>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</tg-spoiler>'' (Bold: False)
2025-06-18 20:15:07 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''<tg-spoiler>⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2</tg-spoiler>''
2025-06-18 20:15:07 | INFO     | forwarding_engine:_forward_with_bot:1790 - Formatting applied to text with headers/footers: '<tg-spoiler>⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة...'
2025-06-18 20:15:07 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:15:07 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:15:07 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:15:07 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:15:07 | INFO     | forwarding_engine:_store_message_mapping:3098 - Created message mapping: task=1, source=1834 -> target=1051 in chat -1002542749883
2025-06-18 20:15:07 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:15:08 | INFO     | forwarding_engine:_store_message_mapping:3078 - Updated message mapping: task=1, source=1834 -> target=1051 in chat -1002542749883
2025-06-18 20:15:08 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1834 from -1002289754739 forwarded successfully
2025-06-18 20:15:20 | INFO     | bot_controller:handle_edited_channel_message:867 - Edited channel post received from -1002289754739 (message 1834)
2025-06-18 20:15:20 | INFO     | forwarding_engine:process_edited_message:258 - DEBUG: Checking edited message from -1002289754739, active tasks: [4, 1]
2025-06-18 20:15:20 | INFO     | forwarding_engine:process_edited_message:263 - DEBUG: Task 4 sources: [-1002259745111]
2025-06-18 20:15:20 | INFO     | forwarding_engine:process_edited_message:263 - DEBUG: Task 1 sources: [-1002289754739]
2025-06-18 20:15:20 | INFO     | forwarding_engine:process_edited_message:266 - Processing edited message from -1002289754739 for task 1
2025-06-18 20:15:20 | WARNING  | forwarding_engine:_sync_edited_message:800 - No forwarded message found for target -1002259745111
2025-06-18 20:15:20 | WARNING  | forwarding_engine:_sync_edited_message:800 - No forwarded message found for target -1002638960177
2025-06-18 20:15:20 | INFO     | forwarding_engine:_sync_edited_message:807 - Synchronized edit to target -1002542749883, message 1051
2025-06-18 20:15:20 | INFO     | forwarding_engine:_sync_edited_message:809 - Synchronized edits to 1 target channels for message 1834
2025-06-18 20:15:20 | SUCCESS  | bot_controller:handle_edited_channel_message:873 - Edited message 1834 from -1002289754739 synchronized successfully
2025-06-18 20:15:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:15:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:15:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:15:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:15:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:15:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:15:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:15:32 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:15:32 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:15:32 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:15:32 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:15:37 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_preserve_replies_1
2025-06-18 20:15:37 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_preserve_replies_1' from user 6556918772
2025-06-18 20:15:37 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_preserve_replies_1
2025-06-18 20:15:37 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_preserve_replies_1
2025-06-18 20:15:37 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 20:15:37 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_preserve_replies_1 ===
2025-06-18 20:15:37 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_preserve_replies_1' (type: <class 'str'>)
2025-06-18 20:15:48 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:15:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:15:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:15:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:15:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:15:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:15:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:15:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:15:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:15:52 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:15:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:15:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:15:56 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:15:56 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:15:56 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:15:56 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:15:56 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:15:56 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:15:56 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:15:56 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:15:56 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:15:57 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:15:57 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:15:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_formatting_1
2025-06-18 20:15:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_formatting_1' from user 6556918772
2025-06-18 20:15:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_formatting_1
2025-06-18 20:15:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_formatting_1
2025-06-18 20:15:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:15:57 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_formatting_1
2025-06-18 20:15:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_formatting_1 ===
2025-06-18 20:15:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_formatting_1' (type: <class 'str'>)
2025-06-18 20:15:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: format_spoiler_1
2025-06-18 20:15:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'format_spoiler_1' from user 6556918772
2025-06-18 20:15:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: format_spoiler_1
2025-06-18 20:15:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: format_spoiler_1
2025-06-18 20:15:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 20:15:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: format_spoiler_1 ===
2025-06-18 20:15:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'format_spoiler_1' (type: <class 'str'>)
2025-06-18 20:16:00 | INFO     | handlers.tasks:_handle_format_actions:8512 - Format settings saved for task 1: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:16:08 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1835)
2025-06-18 20:16:08 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:16:09 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'هغانلعكاقبا...'
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'هغانلعكاقبا'
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:16:09 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:16:09 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:16:09 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:16:09 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''هغانلعكاقبا'' (Bold: False)
2025-06-18 20:16:09 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''هغانلعكاقبا''
2025-06-18 20:16:09 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'هغانلعكاقبا...'
2025-06-18 20:16:09 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:16:09 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:16:09 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:16:09 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:16:09 | INFO     | forwarding_engine:_store_message_mapping:3098 - Created message mapping: task=1, source=1835 -> target=1052 in chat -1002542749883
2025-06-18 20:16:10 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:16:10 | INFO     | forwarding_engine:_store_message_mapping:3078 - Updated message mapping: task=1, source=1835 -> target=1052 in chat -1002542749883
2025-06-18 20:16:10 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1835 from -1002289754739 forwarded successfully
2025-06-18 20:16:20 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1836)
2025-06-18 20:16:20 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:16:20 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'ظظمابغنم...'
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'ظظمابغنم'
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:16:20 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:16:21 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:16:21 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:16:21 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''ظظمابغنم'' (Bold: False)
2025-06-18 20:16:21 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''ظظمابغنم''
2025-06-18 20:16:21 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'ظظمابغنم...'
2025-06-18 20:16:21 | INFO     | forwarding_engine:_find_forwarded_message_id:2997 - Found exact chat match for reply: original=1835 -> forwarded=1052 in chat -1002542749883
2025-06-18 20:16:21 | INFO     | forwarding_engine:_forward_with_bot:1904 - Preserving reply structure in modified text: replying to message 1052
2025-06-18 20:16:21 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:16:21 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:16:21 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:16:21 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:16:21 | INFO     | forwarding_engine:_store_message_mapping:3098 - Created message mapping: task=1, source=1836 -> target=1053 in chat -1002542749883
2025-06-18 20:16:22 | ERROR    | database:execute_query:468 - Query execution failed: column "source_chat_id" does not exist
2025-06-18 20:16:22 | INFO     | forwarding_engine:_store_message_mapping:3078 - Updated message mapping: task=1, source=1836 -> target=1053 in chat -1002542749883
2025-06-18 20:16:22 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1836 from -1002289754739 forwarded successfully
2025-06-18 20:16:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_preserve_replies_1
2025-06-18 20:16:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_preserve_replies_1' from user 6556918772
2025-06-18 20:16:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_preserve_replies_1
2025-06-18 20:16:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_preserve_replies_1
2025-06-18 20:16:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 25
2025-06-18 20:16:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_preserve_replies_1 ===
2025-06-18 20:16:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_preserve_replies_1' (type: <class 'str'>)
2025-06-18 20:16:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_sync_edits_1
2025-06-18 20:16:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_sync_edits_1' from user 6556918772
2025-06-18 20:16:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_sync_edits_1
2025-06-18 20:16:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_sync_edits_1
2025-06-18 20:16:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:16:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_sync_edits_1 ===
2025-06-18 20:16:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_sync_edits_1' (type: <class 'str'>)
2025-06-18 20:16:38 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 20:16:38 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 20:16:38 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 20:16:38 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 20:16:38 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:16:38 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 20:16:38 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 20:16:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_manual_mode_1
2025-06-18 20:16:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_manual_mode_1' from user 6556918772
2025-06-18 20:16:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_manual_mode_1
2025-06-18 20:16:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_manual_mode_1
2025-06-18 20:16:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 20
2025-06-18 20:16:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_manual_mode_1 ===
2025-06-18 20:16:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_manual_mode_1' (type: <class 'str'>)
2025-06-18 20:16:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:16:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:16:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:16:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:16:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:16:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:16:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:16:50 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:16:52 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_delays_1
2025-06-18 20:16:52 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_delays_1' from user 6556918772
2025-06-18 20:16:52 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_delays_1
2025-06-18 20:16:52 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_delays_1
2025-06-18 20:16:52 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 16
2025-06-18 20:16:52 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_delays_1 ===
2025-06-18 20:16:52 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_delays_1' (type: <class 'str'>)
2025-06-18 20:16:53 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:16:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:16:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:16:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:16:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:16:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:16:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:16:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:16:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:16:59 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:17:18 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:17:18 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:17:18 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:17:18 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:17:18 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:17:18 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:17:18 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:17:20 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:17:20 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:17:20 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:17:20 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:17:20 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:17:20 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:17:20 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:17:20 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:17:21 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:17:21 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:17:21 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:17:21 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:17:21 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:17:21 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:17:21 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:17:22 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: filter_duplicates_1
2025-06-18 20:17:22 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'filter_duplicates_1' from user 6556918772
2025-06-18 20:17:22 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: filter_duplicates_1
2025-06-18 20:17:22 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: filter_duplicates_1
2025-06-18 20:17:22 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:17:22 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: filter_duplicates_1 ===
2025-06-18 20:17:22 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'filter_duplicates_1' (type: <class 'str'>)
2025-06-18 20:17:24 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: toggle_filter_duplicates_1
2025-06-18 20:17:24 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'toggle_filter_duplicates_1' from user 6556918772
2025-06-18 20:17:24 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: toggle_filter_duplicates_1
2025-06-18 20:17:24 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: toggle_filter_duplicates_1
2025-06-18 20:17:24 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 26
2025-06-18 20:17:24 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: toggle_filter_duplicates_1 ===
2025-06-18 20:17:24 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'toggle_filter_duplicates_1' (type: <class 'str'>)
2025-06-18 20:17:45 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1837)
2025-06-18 20:17:45 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:17:45 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:17:45 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:17:45 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:17:45 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:17:45 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:17:45 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-18 20:17:45 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasi...'
2025-06-18 20:17:45 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:17:45 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:17:45 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:17:46 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1838)
2025-06-18 20:17:46 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:17:46 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:17:46 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:17:46 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 121 -> 104 chars
2025-06-18 20:17:46 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:17:46 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:17:46 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-18 20:17:46 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasi...'
2025-06-18 20:17:46 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:17:46 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:17:46 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:17:46 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1837 from -1002289754739 forwarded successfully
2025-06-18 20:17:47 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1838 from -1002289754739 forwarded successfully
2025-06-18 20:17:58 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:18:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:18:01 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1839)
2025-06-18 20:18:02 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:18:02 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jjjjjj...'
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jjjjjj'
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:18:02 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:18:02 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:18:02 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:18:02 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jjjjjj'' (Bold: False)
2025-06-18 20:18:02 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jjjjjj''
2025-06-18 20:18:02 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jjjjjj...'
2025-06-18 20:18:02 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:18:02 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:18:02 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:18:03 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1839 from -1002289754739 forwarded successfully
2025-06-18 20:18:06 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1840)
2025-06-18 20:18:06 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:18:06 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:18:06 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jjjjjj...'
2025-06-18 20:18:06 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:18:07 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jjjjjj'
2025-06-18 20:18:07 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:18:07 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:18:07 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:18:07 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:18:07 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:18:07 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jjjjjj'' (Bold: False)
2025-06-18 20:18:07 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jjjjjj''
2025-06-18 20:18:07 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jjjjjj...'
2025-06-18 20:18:07 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:18:07 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:18:07 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:18:07 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1840 from -1002289754739 forwarded successfully
2025-06-18 20:18:20 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1841)
2025-06-18 20:18:21 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:18:21 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: 'Jjj...'
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: 'Jjj'
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:18:21 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:18:21 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:18:21 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:18:21 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''Jjj'' (Bold: False)
2025-06-18 20:18:21 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''Jjj''
2025-06-18 20:18:21 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): 'Jjj...'
2025-06-18 20:18:21 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:18:21 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:18:21 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:18:22 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1841 from -1002289754739 forwarded successfully
2025-06-18 20:18:36 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1842)
2025-06-18 20:18:36 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:18:36 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasirah2'
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:18:36 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:18:36 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:18:36 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:18:36 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:18:36 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-18 20:18:36 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasi...'
2025-06-18 20:18:36 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:18:36 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:18:36 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:18:37 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1842 from -1002289754739 forwarded successfully
2025-06-18 20:18:43 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1843)
2025-06-18 20:18:43 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:18:43 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:18:43 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف...'
2025-06-18 20:18:43 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:18:44 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasirah2'
2025-06-18 20:18:44 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:18:44 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:18:44 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:18:44 | INFO     | forwarding_engine:_forward_with_bot:1707 - Text cleaning: no changes needed
2025-06-18 20:18:44 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:18:44 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:18:44 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nمصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة\nⓣ.me/almasirah2''
2025-06-18 20:18:44 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
مصادر فلسطينية: جيش العدو ينفذ عمليات نسف لمباني سكنية شرق جباليا شمال قطاع غزة
ⓣ.me/almasi...'
2025-06-18 20:18:44 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: False
2025-06-18 20:18:44 | INFO     | forwarding_engine:_create_inline_buttons:1411 - Inline buttons are disabled in settings
2025-06-18 20:18:44 | INFO     | forwarding_engine:_forward_with_bot:1922 - No inline buttons to apply to modified text message
2025-06-18 20:18:44 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1843 from -1002289754739 forwarded successfully
2025-06-18 20:18:50 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:18:50 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:18:50 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:18:50 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:18:50 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:18:50 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:18:50 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:18:50 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:18:50 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:18:50 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:18:50 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:18:53 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:18:53 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:18:53 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:18:53 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:18:53 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:18:53 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:18:53 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:18:55 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:18:55 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:18:55 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:18:55 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:18:55 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:18:55 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:18:55 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:18:55 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:18:57 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:18:57 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:18:57 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:18:57 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:18:57 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:18:57 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:18:57 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:18:57 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:18:57 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:18:57 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:18:57 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:18:59 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 20:18:59 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 20:18:59 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 20:18:59 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 20:18:59 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 20:18:59 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 20:18:59 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 20:18:59 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 20:18:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-18 20:18:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [], "enabled": false, "button_rows": []}
2025-06-18 20:18:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-18 20:18:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 0 buttons from inline_button_settings
2025-06-18 20:18:59 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4031 - No buttons found in inline_button_settings
2025-06-18 20:19:01 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 20:19:01 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 20:19:01 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 20:19:01 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 20:19:01 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:19:01 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 20:19:01 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 20:19:03 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:19:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:19:33 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 20:19:33 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 20:19:33 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 20:19:33 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 20:19:33 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 20:19:33 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 20:19:33 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 20:19:33 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 20:19:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-18 20:19:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [], "enabled": false, "button_rows": []}
2025-06-18 20:19:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-18 20:19:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 0 buttons from inline_button_settings
2025-06-18 20:19:33 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4031 - No buttons found in inline_button_settings
2025-06-18 20:19:35 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_buttons_toggle_1
2025-06-18 20:19:35 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_buttons_toggle_1' from user 6556918772
2025-06-18 20:19:35 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_buttons_toggle_1
2025-06-18 20:19:35 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_buttons_toggle_1
2025-06-18 20:19:35 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 23
2025-06-18 20:19:35 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_buttons_toggle_1 ===
2025-06-18 20:19:35 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_buttons_toggle_1' (type: <class 'str'>)
2025-06-18 20:19:35 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-18 20:19:35 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [], "enabled": false, "button_rows": []}
2025-06-18 20:19:35 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-18 20:19:35 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 0 buttons from inline_button_settings
2025-06-18 20:19:35 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4031 - No buttons found in inline_button_settings
2025-06-18 20:19:36 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: inline_button_add_1
2025-06-18 20:19:36 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'inline_button_add_1' from user 6556918772
2025-06-18 20:19:36 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: inline_button_add_1
2025-06-18 20:19:36 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: inline_button_add_1
2025-06-18 20:19:36 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 19
2025-06-18 20:19:36 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: inline_button_add_1 ===
2025-06-18 20:19:36 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'inline_button_add_1' (type: <class 'str'>)
2025-06-18 20:19:38 | INFO     | bot_controller:text_message_handler:180 - Text handler: 'موقعنا|url|https://example.com
معلومات|popup|نص يظهر في نافذة منبثقة
مشاركة|share' from user 6556918772, state: TaskStates:WAITING_INPUT
2025-06-18 20:19:38 | INFO     | bot_controller:handle_text_input:991 - Handling text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Text: 'موقعنا|url|https://example.com
معلومات|popup|نص يظهر في نافذة منبثقة
مشاركة|share'
2025-06-18 20:19:38 | INFO     | handlers.tasks:handle_text_input:5110 - Processing text input - State: TaskStates:WAITING_INPUT, Action: add_inline_button, Awaiting: None, Task ID: 1
2025-06-18 20:19:40 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 20:19:40 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 20:19:40 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 20:19:40 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 20:19:40 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 20:19:40 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 20:19:40 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 20:19:40 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 20:19:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-18 20:19:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-18 20:19:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-18 20:19:41 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 3 buttons from inline_button_settings
2025-06-18 20:19:51 | INFO     | bot_controller:handle_channel_message:849 - Channel post received from -1002289754739 (message 1844)
2025-06-18 20:19:51 | INFO     | forwarding_engine:process_channel_message:245 - Processing channel message from -1002289754739 for task 1
2025-06-18 20:19:52 | DEBUG    | forwarding_engine:process_message:915 - Fresh settings loaded - keyword_filter_mode: whitelist
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1029 - Pure text message detected: '⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر ...'
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1030 - Text filter setting: allow_text = True
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1249 - DEBUG: Text message content: '⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"
Almasirah.net.ye
ⓣ.me/almasirah2'
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1250 - DEBUG: keyword_filters raw: None
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1251 - DEBUG: keyword_filter_mode: whitelist
2025-06-18 20:19:52 | INFO     | forwarding_engine:_should_process_message:1306 - DEBUG: No keyword filtering - filters=None, mode=whitelist
2025-06-18 20:19:52 | INFO     | forwarding_engine:_forward_with_bot:1705 - Text cleaning applied: 147 -> 130 chars
2025-06-18 20:19:52 | INFO     | forwarding_engine:_apply_formatting:2422 - Applying formatting with settings: {'apply_bold': False, 'apply_code': False, 'apply_link': False, 'remove_all': False, 'apply_quote': False, 'apply_italic': False, 'apply_spoiler': False, 'apply_underline': False, 'apply_strikethrough': False}
2025-06-18 20:19:52 | INFO     | forwarding_engine:_apply_formatting:2505 - Successfully applied formatting: ''⭕️عاجل⭕️\nكتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"\nⓣ.me/almasirah2'' (Bold: False)
2025-06-18 20:19:52 | INFO     | forwarding_engine:_apply_formatting:2506 - DEBUG: Final formatted text being returned: ''⭕️عاجل⭕️\nكتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صاروخية عيار "107"\nⓣ.me/almasirah2''
2025-06-18 20:19:52 | INFO     | forwarding_engine:_forward_with_bot:1793 - Using text with headers/footers (no formatting changes): '⭕️عاجل⭕️
كتائب الشهيد أبو علي مصطفى: استهدفنا مقر قيادة وسيطرة العدو في مغتصبة "ناحل عوز" برشقة صارو...'
2025-06-18 20:19:52 | INFO     | forwarding_engine:_forward_with_bot:1909 - Creating inline buttons for modified text message. Settings enabled: True
2025-06-18 20:19:52 | INFO     | forwarding_engine:_create_inline_buttons:1414 - Inline buttons are enabled, proceeding to create buttons
2025-06-18 20:19:52 | INFO     | forwarding_engine:_create_inline_buttons:1441 - Found 3 buttons to create
2025-06-18 20:19:52 | INFO     | forwarding_engine:_create_inline_buttons:1447 - Using new row structure with 3 rows
2025-06-18 20:19:52 | INFO     | forwarding_engine:_create_inline_buttons:1554 - Created custom inline keyboard with 3 rows
2025-06-18 20:19:52 | INFO     | forwarding_engine:_forward_with_bot:1912 - Custom inline buttons created successfully for modified text
2025-06-18 20:19:52 | INFO     | forwarding_engine:_forward_with_bot:1920 - Inline buttons added to send_kwargs for modified text message
2025-06-18 20:19:52 | SUCCESS  | bot_controller:handle_channel_message:855 - Message 1844 from -1002289754739 forwarded successfully
2025-06-18 20:19:56 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: popup_info_1394
2025-06-18 20:19:56 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'popup_info_1394' from user 6556918772
2025-06-18 20:19:56 | ERROR    | bot_controller:handle_callback:676 - Error handling callback popup_info_1394: BotController._handle_popup_callback() missing 1 required positional argument: 'state'
2025-06-18 20:20:58 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 20:20:58 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 20:20:58 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 20:20:58 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 20:20:58 | INFO     | __main__:initialize:50 - Initializing Telegram Forwarding Bot...
2025-06-18 20:21:01 | INFO     | database:migrate_columns:115 - Added length_filter_settings column
2025-06-18 20:21:01 | INFO     | database:migrate_columns:124 - Added hashtag_settings column
2025-06-18 20:21:01 | INFO     | database:migrate_columns:133 - Added text_cleaner_settings column
2025-06-18 20:21:01 | INFO     | database:migrate_columns:143 - Added filter_inline_buttons column
2025-06-18 20:21:01 | INFO     | database:migrate_columns:152 - Added filter_duplicates column
2025-06-18 20:21:01 | INFO     | database:migrate_columns:161 - Added filter_language column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:170 - Added language_filter_mode column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:179 - Added allowed_languages column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:189 - Added manual_mode column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:198 - Added link_preview column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:207 - Added pin_messages column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:216 - Added silent_mode column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:225 - Added sync_edits column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:234 - Added sync_deletes column
2025-06-18 20:21:02 | INFO     | database:migrate_columns:243 - Added preserve_replies column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:253 - Added auto_translate column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:262 - Added target_language column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:271 - Added working_hours_enabled column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:280 - Added start_hour column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:289 - Added end_hour column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:298 - Added timezone column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:307 - Added recurring_post_enabled column
2025-06-18 20:21:03 | INFO     | database:migrate_columns:316 - Added recurring_post_content column
2025-06-18 20:21:04 | INFO     | database:migrate_columns:325 - Added recurring_interval_hours column
2025-06-18 20:21:04 | INFO     | database:migrate_columns:335 - Added format_settings column
2025-06-18 20:21:04 | INFO     | database:migrate_columns:345 - Added text_cleaner_settings column
2025-06-18 20:21:04 | INFO     | database:migrate_columns:355 - Added replace_text column
2025-06-18 20:21:04 | INFO     | database:migrate_columns:366 - Added prefix/suffix columns
2025-06-18 20:21:04 | INFO     | database:migrate_columns:378 - Added inline buttons columns
2025-06-18 20:21:04 | INFO     | database:create_advanced_tables:403 - Created manual_approvals table
2025-06-18 20:21:04 | INFO     | database:create_advanced_tables:422 - Created message_tracking table
2025-06-18 20:21:04 | INFO     | database:create_advanced_tables:444 - Created recurring_posts table
2025-06-18 20:21:04 | SUCCESS  | database:initialize:102 - Database initialized successfully
2025-06-18 20:21:04 | SUCCESS  | __main__:initialize:55 - Database initialized successfully
2025-06-18 20:21:05 | INFO     | security:_load_user_permissions:78 - Loaded permissions for 1 users (1 admins)
2025-06-18 20:21:05 | SUCCESS  | security:initialize:47 - Security manager initialized successfully
2025-06-18 20:21:05 | SUCCESS  | __main__:initialize:60 - Security manager initialized
2025-06-18 20:21:05 | WARNING  | session_manager:load_session:124 - Could not load session from secure_session.enc: 
2025-06-18 20:21:05 | WARNING  | session_manager:load_session:124 - Could not load session from session_backup.enc: 
2025-06-18 20:21:05 | WARNING  | session_manager:load_session:127 - No valid encrypted session found
2025-06-18 20:21:05 | INFO     | session_manager:get_unified_session:198 - No unified session found, checking for migration sources...
2025-06-18 20:21:05 | INFO     | session_manager:get_unified_session:203 - Migrating session from environment variable to unified storage
2025-06-18 20:21:05 | SUCCESS  | session_manager:save_session:98 - Session saved securely to secure_session.enc
2025-06-18 20:21:05 | SUCCESS  | session_manager:get_unified_session:205 - Session migrated from environment variable
2025-06-18 20:21:05 | WARNING  | __main__:initialize:90 - Telethon session error: Not a valid string
2025-06-18 20:21:07 | DEBUG    | modules.statistics:_update_cache:540 - Statistics cache updated
2025-06-18 20:21:07 | SUCCESS  | modules.statistics:initialize:28 - Statistics manager initialized successfully
2025-06-18 20:21:08 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:21:08 | SUCCESS  | forwarding_engine:initialize:81 - Forwarding engine initialized successfully
2025-06-18 20:21:08 | SUCCESS  | __main__:initialize:109 - Forwarding engine initialized
2025-06-18 20:21:08 | INFO     | config:load_config:64 - Configuration loaded successfully
2025-06-18 20:21:08 | DEBUG    | config:load_config:65 - Webhook mode: False
2025-06-18 20:21:08 | DEBUG    | config:load_config:66 - Admin users: 0
2025-06-18 20:21:08 | DEBUG    | config:load_config:67 - Userbot enabled: True
2025-06-18 20:21:08 | INFO     | modules.settings_manager:_load_system_settings:417 - Loaded 0 system settings into cache
2025-06-18 20:21:08 | SUCCESS  | modules.settings_manager:initialize:26 - Settings manager initialized successfully
2025-06-18 20:21:08 | INFO     | bot_controller:_register_handlers:174 - Registering text input handler for WAITING_INPUT state
2025-06-18 20:21:08 | INFO     | bot_controller:_register_handlers:227 - Text handler registered successfully
2025-06-18 20:21:08 | INFO     | handlers.admin:register_handlers:32 - Admin handlers registered
2025-06-18 20:21:08 | INFO     | modules.task_manager:_load_tasks_cache:438 - Loaded 2 tasks into cache
2025-06-18 20:21:08 | SUCCESS  | modules.task_manager:initialize:27 - Task manager initialized successfully
2025-06-18 20:21:08 | INFO     | handlers.tasks:register_handlers:85 - Task handlers registered
2025-06-18 20:21:08 | INFO     | handlers.sources:register_handlers:42 - Source handlers registered
2025-06-18 20:21:08 | INFO     | handlers.targets:register_handlers:42 - Target handlers registered
2025-06-18 20:21:08 | INFO     | bot_controller:_register_handlers:240 - Session handler initialized
2025-06-18 20:21:08 | INFO     | bot_controller:_register_handlers:242 - Session handler registered successfully
2025-06-18 20:21:08 | INFO     | bot_controller:_register_handlers:248 - All handlers registered successfully
2025-06-18 20:21:09 | INFO     | bot_controller:_setup_bot_commands:264 - Bot commands menu set up
2025-06-18 20:21:09 | SUCCESS  | bot_controller:initialize:73 - Bot controller initialized successfully
2025-06-18 20:21:09 | SUCCESS  | __main__:initialize:121 - Bot controller initialized
2025-06-18 20:21:09 | SUCCESS  | __main__:initialize:123 - All components initialized successfully
2025-06-18 20:21:09 | INFO     | __main__:start_polling:132 - Starting bot in polling mode...
2025-06-18 20:21:09 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 4
2025-06-18 20:21:09 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 4 (1 sources)
2025-06-18 20:21:09 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 4 (1 sources) using Bot API
2025-06-18 20:21:09 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:21:09 | INFO     | modules.channel_monitor:_start_bot_monitoring:116 - Bot polling monitoring started for task 1
2025-06-18 20:21:09 | INFO     | modules.channel_monitor:start:57 - Started monitoring for task 1 (1 sources)
2025-06-18 20:21:09 | INFO     | forwarding_engine:_start_task_monitoring:192 - Started monitoring for task 1 (1 sources) using Bot API
2025-06-18 20:21:09 | SUCCESS  | forwarding_engine:start:102 - Forwarding engine started successfully
2025-06-18 20:21:09 | SUCCESS  | __main__:start_polling:157 - Forwarding engine started
2025-06-18 20:21:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:21:11 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:21:11 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:21:11 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:21:11 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:21:11 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:21:11 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:21:11 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:21:11 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:21:11 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:21:11 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:21:11 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:21:14 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_cleaner_1
2025-06-18 20:21:14 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_cleaner_1' from user 6556918772
2025-06-18 20:21:14 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_cleaner_1
2025-06-18 20:21:14 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_cleaner_1
2025-06-18 20:21:14 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:21:14 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_cleaner_1
2025-06-18 20:21:14 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_cleaner_1 ===
2025-06-18 20:21:14 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_cleaner_1' (type: <class 'str'>)
2025-06-18 20:21:23 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:21:23 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:21:23 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:21:23 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:21:23 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:21:23 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:21:23 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:21:23 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:21:23 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:21:23 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:21:23 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:21:27 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:21:27 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:21:27 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:21:27 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:21:27 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:21:27 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:21:27 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:21:27 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:21:29 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_advanced_1
2025-06-18 20:21:29 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_advanced_1' from user 6556918772
2025-06-18 20:21:29 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_advanced_1
2025-06-18 20:21:29 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_advanced_1
2025-06-18 20:21:29 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 18
2025-06-18 20:21:29 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_advanced_1 ===
2025-06-18 20:21:29 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_advanced_1' (type: <class 'str'>)
2025-06-18 20:21:29 | ERROR    | handlers.tasks:handle_callback:114 - CONTAINS 'advanced_': setting_advanced_1
2025-06-18 20:21:29 | WARNING  | handlers.tasks:handle_callback:225 - DEBUGGING: Advanced setting callback detected: setting_advanced_1
2025-06-18 20:21:29 | WARNING  | handlers.tasks:handle_callback:280 - MATCHED setting_advanced_: setting_advanced_1
2025-06-18 20:21:29 | WARNING  | handlers.tasks:handle_callback:282 - Extracted task_id: 1
2025-06-18 20:21:29 | INFO     | handlers.tasks:_handle_advanced_setting:6942 - Starting advanced settings handler for task 1
2025-06-18 20:21:29 | INFO     | handlers.tasks:_handle_advanced_setting:6944 - Retrieved settings: {'task_id': 1, 'forward_mode': 'auto', 'preserve_sender': False, 'add_caption': False, 'custom_caption': None, 'filter_media': False, 'filter_text': True, 'filter_forwarded': False, 'filter_links': False, 'filter_bots': False, 'keyword_filters': None, 'keyword_filter_mode': 'whitelist', 'allow_text': True, 'allow_photos': True, 'allow_videos': True, 'allow_documents': True, 'allow_audio': True, 'allow_voice': True, 'allow_video_notes': True, 'allow_stickers': True, 'allow_animations': True, 'allow_contacts': True, 'allow_locations': True, 'allow_venues': True, 'allow_polls': True, 'allow_dice': True, 'delay_min': 0, 'delay_max': 0, 'remove_links': True, 'remove_mentions': False, 'replace_text': None, 'duplicate_check': False, 'max_message_length': 4000, 'length_filter_settings': '{"enabled": false, "max_length": 4096, "min_length": 0, "action_mode": "block"}', 'created_at': datetime.datetime(2025, 6, 18, 3, 59, 40, 982901), 'updated_at': datetime.datetime(2025, 6, 18, 5, 46, 9, 514772), 'hashtag_settings': None, 'text_cleaner_settings': '{"remove_links": true, "target_words": ["سابر"], "remove_emails": true, "remove_emojis": false, "remove_buttons": true, "remove_hashtags": false, "remove_mentions": true, "remove_empty_lines": true, "remove_extra_lines": false, "normalize_whitespace": true, "remove_inline_buttons": false, "remove_duplicate_lines": true, "remove_lines_with_words": false}', 'filter_inline_buttons': False, 'filter_duplicates': True, 'filter_language': False, 'language_filter_mode': 'blacklist', 'allowed_languages': None, 'manual_mode': False, 'link_preview': False, 'pin_messages': False, 'silent_mode': False, 'sync_edits': False, 'preserve_replies': False, 'auto_translate': False, 'target_language': 'ar', 'working_hours_enabled': False, 'start_hour': 0, 'end_hour': 23, 'timezone': 'UTC', 'recurring_post_enabled': False, 'recurring_post_content': None, 'recurring_interval_hours': 24, 'format_settings': '{"apply_bold": false, "apply_code": false, "apply_link": false, "remove_all": false, "apply_quote": false, "apply_italic": false, "apply_spoiler": false, "apply_underline": false, "apply_strikethrough": false}', 'sync_deletes': False, 'prefix_text': '', 'suffix_text': '', 'header_enabled': True, 'footer_enabled': True, 'inline_buttons_enabled': True, 'inline_buttons_config': '[]', 'inline_button_settings': '{"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}, {"row": 2, "text": "مشاركة", "type": "share", "value": ""}], "enabled": true, "button_rows": [[{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}], [{"row": 1, "text": "معلومات", "type": "popup", "value": "نص يظهر في نافذة منبثقة"}], [{"row": 2, "text": "مشاركة", "type": "share", "value": ""}]]}'}
2025-06-18 20:21:29 | INFO     | handlers.tasks:_handle_advanced_setting:6954 - Creating keyboard for task 1
2025-06-18 20:21:29 | INFO     | handlers.tasks:_handle_advanced_setting:6956 - Keyboard created: inline_keyboard=[[InlineKeyboardButton(text='🌐 إعدادات الترجمة', url=None, callback_data='advanced_translation_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⏰ إعدادات ساعات العمل', url=None, callback_data='advanced_working_hours_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 إعدادات المنشور المتكرر', url=None, callback_data='advanced_recurring_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔙 العودة للإعدادات', url=None, callback_data='task_settings_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:21:29 | INFO     | handlers.tasks:_handle_advanced_setting:6959 - Message edited successfully for task 1
2025-06-18 20:21:29 | WARNING  | handlers.tasks:handle_callback:284 - Completed _handle_advanced_setting call
2025-06-18 20:21:30 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:21:30 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:21:30 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:21:30 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:21:30 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:21:30 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:21:30 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:21:30 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:21:32 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_filters_1
2025-06-18 20:21:32 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_filters_1' from user 6556918772
2025-06-18 20:21:32 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_filters_1
2025-06-18 20:21:32 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_filters_1
2025-06-18 20:21:32 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:21:32 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_filters_1 ===
2025-06-18 20:21:32 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_filters_1' (type: <class 'str'>)
2025-06-18 20:21:34 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: task_settings_1
2025-06-18 20:21:34 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'task_settings_1' from user 6556918772
2025-06-18 20:21:34 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: task_settings_1
2025-06-18 20:21:34 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: task_settings_1
2025-06-18 20:21:34 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 15
2025-06-18 20:21:34 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: task_settings_1 ===
2025-06-18 20:21:34 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'task_settings_1' (type: <class 'str'>)
2025-06-18 20:21:34 | INFO     | handlers.tasks:_handle_task_settings:1239 - Generated task settings keyboard for task 1: inline_keyboard=[[InlineKeyboardButton(text='🔄 Forward Mode', url=None, callback_data='setting_forward_mode_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='⏰ Delays', url=None, callback_data='setting_delays_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔽 Filters', url=None, callback_data='setting_filters_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='✏️ Content', url=None, callback_data='setting_content_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='📡 Forward', url=None, callback_data='setting_forward_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='⚡ Advanced', url=None, callback_data='setting_advanced_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='🔄 Reset', url=None, callback_data='setting_reset_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='📋 View All', url=None, callback_data='setting_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)], [InlineKeyboardButton(text='💾 Save', url=None, callback_data='setting_save_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None), InlineKeyboardButton(text='🔙 Back to Task', url=None, callback_data='task_view_1', web_app=None, login_url=None, switch_inline_query=None, switch_inline_query_current_chat=None, switch_inline_query_chosen_chat=None, copy_text=None, callback_game=None, pay=None)]]
2025-06-18 20:22:08 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: content_inline_buttons_1
2025-06-18 20:22:08 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'content_inline_buttons_1' from user 6556918772
2025-06-18 20:22:08 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: content_inline_buttons_1
2025-06-18 20:22:08 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: content_inline_buttons_1
2025-06-18 20:22:08 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 24
2025-06-18 20:22:08 | INFO     | handlers.tasks:handle_callback:100 - Content button pressed: content_inline_buttons_1
2025-06-18 20:22:08 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: content_inline_buttons_1 ===
2025-06-18 20:22:08 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'content_inline_buttons_1' (type: <class 'str'>)
2025-06-18 20:22:08 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4005 - Settings available - checking for inline_button_settings
2025-06-18 20:22:08 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4009 - inline_button_settings raw data: <class 'str'> - {"buttons": [{"row": 0, "text": "موقعنا", "type": "url", "value": "https://example.com"}, {"row": 1,
2025-06-18 20:22:08 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4015 - Successfully parsed JSON from inline_button_settings
2025-06-18 20:22:08 | INFO     | handlers.tasks:_handle_inline_buttons_setting:4027 - Extracted 3 buttons from inline_button_settings
2025-06-18 20:22:09 | INFO     | bot_controller:handle_callback:595 - Bot controller received callback: setting_content_1
2025-06-18 20:22:09 | ERROR    | bot_controller:handle_callback:596 - DEBUGGING CALLBACK: 'setting_content_1' from user 6556918772
2025-06-18 20:22:09 | INFO     | bot_controller:handle_callback:656 - Routing to task handlers: setting_content_1
2025-06-18 20:22:09 | INFO     | handlers.tasks:handle_callback:95 - Task callback received: setting_content_1
2025-06-18 20:22:09 | INFO     | handlers.tasks:handle_callback:96 - Callback data type: <class 'str'>, length: 17
2025-06-18 20:22:09 | WARNING  | handlers.tasks:handle_callback:109 - === PROCESSING CALLBACK: setting_content_1 ===
2025-06-18 20:22:09 | ERROR    | handlers.tasks:handle_callback:110 - RAW CALLBACK DATA RECEIVED: 'setting_content_1' (type: <class 'str'>)
2025-06-18 20:22:09 | INFO     | handlers.tasks:_handle_content_setting:1846 - Content setting accessed for task 1
2025-06-18 20:22:09 | INFO     | handlers.tasks:_handle_content_setting:1887 - Content keyboard created with buttons: ['📋 Prefix/Suffix', '🔄 Text Replace', '🎨 Formatting', '🔘 Inline Buttons', '🧹 Text Cleaner', '🔙 Back']
2025-06-18 20:22:09 | INFO     | handlers.tasks:_handle_content_setting:1888 - Content keyboard callback data: ['content_prefix_1', 'content_replace_1', 'content_formatting_1', 'content_inline_buttons_1', 'content_cleaner_1', 'task_settings_1']
2025-06-18 20:22:09 | INFO     | handlers.tasks:_handle_content_setting:1894 - Content message updated with new text and keyboard
2025-06-18 20:22:14 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:22:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:23:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:23:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:23:40 | WARNING  | security:_log_security_event:327 - Security event - unauthorized_access: User not authorized (User: 125647359)
2025-06-18 20:24:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:24:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:25:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:25:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:26:12 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:26:12 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:26:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:26:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:27:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:27:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:28:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:28:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:29:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:29:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:30:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:30:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:31:13 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:31:13 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:31:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:32:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:33:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:33:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:34:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:34:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:35:10 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:35:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:36:14 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:36:14 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:36:15 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:36:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:37:20 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:37:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:38:25 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:38:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:39:30 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:39:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:40:35 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:40:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:41:15 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:41:15 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:41:40 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:41:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:42:45 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:42:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:43:50 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:43:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:44:55 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:45:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:46:00 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:46:05 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:46:16 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:46:16 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:47:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:47:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:48:06 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:48:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:49:11 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:49:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:50:16 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:50:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:51:17 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:51:17 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:51:21 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:51:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:52:26 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:52:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:53:31 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:53:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:54:36 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:54:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:55:41 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:55:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:56:18 | INFO     | forwarding_engine:_load_active_tasks:134 - Loaded 2 active tasks
2025-06-18 20:56:18 | INFO     | forwarding_engine:_reload_tasks:2749 - Reloaded tasks: 2 active
2025-06-18 20:56:46 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:56:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:57:51 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:57:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
2025-06-18 20:58:56 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 4, chat -1002259745111
2025-06-18 20:59:01 | DEBUG    | modules.channel_monitor:_check_new_messages:180 - Channel monitor heartbeat - task 1, chat -1002289754739
